const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/flatpickr-BLL8kE2E.js","assets/framework-Dgot63Qx.js","assets/pickr.es5.min-Rdv06rtu.js","assets/redactor-C0hv1hxi.css"])))=>i.map(i=>d[i]);
var Lo=Object.defineProperty;var Ro=(e,t,i)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var E=(e,t,i)=>Ro(e,typeof t!="symbol"?t+"":t,i);import{A as C,t as gt,a as ko,b as hr,d as Po,e as Mo,i as jo,s as Bo,c as ss,f as Vo,_ as zo,g as No,h as Ho,j as qo,k as Yo}from"./common-CdCo4-BI.js";import{g as ns,c as as,b as zt,u as Gi,d as Rn,e as Qi,f as $o,h as Fo,j as os,F as kn,n as ji,k as Xo,m as Wo,o as Uo,p as Go,s as Qo,A as Jo}from"./framework-Dgot63Qx.js";function Rf(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}var Pn={},Mn={},ls={exports:{}},M=String,jn=function(){return{isColorSupported:!1,reset:M,bold:M,dim:M,italic:M,underline:M,inverse:M,hidden:M,strikethrough:M,black:M,red:M,green:M,yellow:M,blue:M,magenta:M,cyan:M,white:M,gray:M,bgBlack:M,bgRed:M,bgGreen:M,bgYellow:M,bgBlue:M,bgMagenta:M,bgCyan:M,bgWhite:M,blackBright:M,redBright:M,greenBright:M,yellowBright:M,blueBright:M,magentaBright:M,cyanBright:M,whiteBright:M,bgBlackBright:M,bgRedBright:M,bgGreenBright:M,bgYellowBright:M,bgBlueBright:M,bgMagentaBright:M,bgCyanBright:M,bgWhiteBright:M}};ls.exports=jn();ls.exports.createColors=jn;var Zo=ls.exports;(function(e){var t={};Object.defineProperty(e,"__esModule",{value:!0});function i(g,m){for(var T in m)Object.defineProperty(g,T,{enumerable:!0,get:m[T]})}i(e,{dim:function(){return l},default:function(){return h}});const r=s(Zo);function s(g){return g&&g.__esModule?g:{default:g}}let n=new Set;function o(g,m,T){typeof process<"u"&&t.JEST_WORKER_ID||T&&n.has(T)||(T&&n.add(T),console.warn(""),m.forEach(v=>console.warn(g,"-",v)))}function l(g){return r.default.dim(g)}const h={info(g,m){o(r.default.bold(r.default.cyan("info")),...Array.isArray(g)?[g]:[m,g])},warn(g,m){o(r.default.bold(r.default.yellow("warn")),...Array.isArray(g)?[g]:[m,g])},risk(g,m){o(r.default.bold(r.default.magenta("risk")),...Array.isArray(g)?[g]:[m,g])}}})(Mn);(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return s}});const t=i(Mn);function i(n){return n.__esModule?n:{default:n}}function r({version:n,from:o,to:l}){t.default.warn("".concat(o,"-color-renamed"),["As of Tailwind CSS ".concat(n,", `").concat(o,"` has been renamed to `").concat(l,"`."),"Update your configuration file to silence this warning."])}const s={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return r({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return r({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return r({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return r({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return r({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}})(Pn);let cr=Pn;var Ko=(cr.__esModule?cr:{default:cr}).default;const X=ns(Ko),Ft={},tl=e=>e**3,el=()=>{switch(document.documentElement.dataset.themeTopbar){case"classic":return X.slate;default:return X.zinc}};switch(document.documentElement.lang){case"pt-BR":Object.assign(Ft,{months:["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],shortMonths:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],weekdays:["Domingo","Segunda","Terça","Quarta","Quinta","Sexta","Sábado"],loading:["Atualizando o gráfico...aguarde"],contextButtonTitle:"Exportar gráfico",decimalPoint:",",thousandsSep:".",downloadJPEG:"Baixar imagem JPEG",downloadPDF:"Baixar arquivo PDF",downloadPNG:"Baixar imagem PNG",downloadSVG:"Baixar vetor SVG",printChart:"Imprimir gráfico",rangeSelectorFrom:"De",rangeSelectorTo:"Para",rangeSelectorZoom:"Zoom",resetZoom:"Limpar Zoom",resetZoomTitle:"Voltar Zoom para nível 1:1",quarters:["1º Trimestre","2º Trimestre","3º Trimestre","4º Trimestre"],quarterAxisFormat:"T%q '%y",quarterTooltipFormat:"%Q de %Y",weekTooltipFormat:"Semana de %e %b %Y"});break;case"en":Object.assign(Ft,{quarters:["1st Quarter","2nd Quarter","3rd Quarter","4th Quarter"],quarterAxisFormat:"Q%q '%y",quarterTooltipFormat:"%Q of %Y",weekTooltipFormat:"Week from %b %e, %Y"});break;case"es":Object.assign(Ft,{quarters:["1º Cuarto","2º Cuarto","3º Cuarto","4º Cuarto"],quarterAxisFormat:"C%q '%y",quarterTooltipFormat:"%Q de %Y",weekTooltipFormat:"Semana de %e %b %Y"});break}const nt=el(),jt={lang:Ft,chart:{backgroundColor:null,borderRadius:0,height:300,style:{fontFamily:"Inter",fontSize:14},events:{load(){Highcharts.Templating.helpers.isUndefined=e=>e===void 0,Highcharts.dateFormats={q(e){const t=new Date(e);return Math.floor(t.getUTCMonth()/3)+1},Q(e){const t=Highcharts.dateFormats.q(e)-1;return Ft.quarters[t]}}}},zooming:{resetButton:{theme:{fill:nt[700],stroke:nt[600],style:{color:X.white,fontWeight:500},states:{hover:{fill:nt[600]}}}}}},title:{text:null},time:{getTimezoneOffset(e){const t=document.querySelector("meta[name=time-zone]").content;return-spacetime(e,t).offset()}},xAxis:{lineWidth:0,tickWidth:0,labels:{style:{color:nt[400]}},title:{style:{color:nt[400]}},dateTimeLabelFormats:{day:"%e %b",week:"%e %b",quarter:Ft.quarterAxisFormat}},yAxis:{softMin:0,softMax:1,title:{align:"high",style:{color:nt[400]}},labels:{overflow:"justify",style:{color:nt[400]}},gridLineColor:nt[700],gridLineDashStyle:"ShortDot"},tooltip:{useHTML:!0,borderWidth:0,borderRadius:8,backgroundColor:X.white,padding:15,style:{color:nt[500]},dateTimeLabelFormats:{hour:"%A, %kh",day:"%A, %e %b %Y",week:Ft.weekTooltipFormat,quarter:Ft.quarterTooltipFormat}},legend:{itemMarginTop:8,itemDistance:30,itemStyle:{color:nt[400]},itemHoverStyle:{color:nt[400]},itemHiddenStyle:{color:nt[600]}},credits:{enabled:!1},plotOptions:{column:{color:nt[700],borderWidth:0,borderRadius:4},spline:{states:{hover:{halo:{size:0}}}},line:{lineWidth:2,marker:{enabled:!1,symbol:"circle",lineColor:nt[800],states:{hover:{enabled:!0,radius:5,lineWidthPlus:2}}},events:{mouseOver(){this.group.toFront(),this.markerGroup.toFront()}}},series:{animation:{easing:tl},states:{inactive:{opacity:1}}}}};var Bn={exports:{}};(function(e,t){(function(i,r){e.exports=r()})(as,function(){var i=function(){},r={},s={},n={};function o(v,y){v=v.push?v:[v];var w=[],_=v.length,b=_,p,f,c,a;for(p=function(d,u){u.length&&w.push(d),b--,b||y(w)};_--;){if(f=v[_],c=s[f],c){p(f,c);continue}a=n[f]=n[f]||[],a.push(p)}}function l(v,y){if(v){var w=n[v];if(s[v]=y,!!w)for(;w.length;)w[0](v,y),w.splice(0,1)}}function h(v,y){v.call&&(v={success:v}),y.length?(v.error||i)(y):(v.success||i)(v)}function g(v,y,w,_){var b=document,p=w.async,f=(w.numRetries||0)+1,c=w.before||i,a=v.replace(/[\?|#].*$/,""),d=v.replace(/^(css|img|module|nomodule)!/,""),u,A,D;if(_=_||0,/(^css!|\.css$)/.test(a))D=b.createElement("link"),D.rel="stylesheet",D.href=d,u="hideFocus"in D,u&&D.relList&&(u=0,D.rel="preload",D.as="style");else if(/(^img!|\.(png|gif|jpg|svg|webp)$)/.test(a))D=b.createElement("img"),D.src=d;else if(D=b.createElement("script"),D.src=d,D.async=p===void 0?!0:p,A="noModule"in D,/^module!/.test(a)){if(!A)return y(v,"l");D.type="module"}else if(/^nomodule!/.test(a)&&A)return y(v,"l");D.onload=D.onerror=D.onbeforeload=function(O){var j=O.type[0];if(u)try{D.sheet.cssText.length||(j="e")}catch(P){P.code!=18&&(j="e")}if(j=="e"){if(_+=1,_<f)return g(v,y,w,_)}else if(D.rel=="preload"&&D.as=="style")return D.rel="stylesheet";y(v,j,O.defaultPrevented)},c(v,D)!==!1&&b.head.appendChild(D)}function m(v,y,w){v=v.push?v:[v];var _=v.length,b=_,p=[],f,c;for(f=function(a,d,u){if(d=="e"&&p.push(a),d=="b")if(u)p.push(a);else return;_--,_||y(p)},c=0;c<b;c++)g(v[c],f,w)}function T(v,y,w){var _,b;if(y&&y.trim&&(_=y),b=(_?w:y)||{},_){if(_ in r)throw"LoadJS";r[_]=!0}function p(f,c){m(v,function(a){h(b,a),f&&h({success:f,error:c},a),l(_,a)},b)}if(b.returnPromise)return new Promise(p);p()}return T.ready=function(y,w){return o(y,function(_){h(w,_)}),T},T.done=function(y){l(y,[])},T.reset=function(){r={},s={},n={}},T.isDefined=function(y){return y in r},T})})(Bn);var il=Bn.exports;const rl=ns(il);async function ht(e){try{return rl(e,btoa(e),{returnPromise:!0})}catch(t){return Promise.resolve(!0)}}const qe=(e,...t)=>zt.t("activities.".concat(e),...t),Ls=e=>Highcharts.numberFormat(e,0,",",".");class Sr extends C{async connect(){await Promise.all([ht("https://cdn.jsdelivr.net/npm/spacetime@7.4.7/builds/spacetime.min.js"),ht("https://code.highcharts.com/highcharts.js")]),Highcharts.setOptions(jt),this.chart=this.renderChart(),this.setSeries()}disconnect(){var t;(t=this.chart)==null||t.destroy()}update(){this._series=this.seriesOutlet.aggregateBy("trackable_type","trackable_count"),this._uniques=this.seriesOutlet.indexAggregateBy("trackable_type","unique_users_count"),requestAnimationFrame(()=>this.setSeries())}renderChart(){const t=this;return new Highcharts.Chart({chart:{renderTo:this.containerTarget,spacingBottom:0},xAxis:{type:"datetime"},yAxis:{allowDecimals:!1,title:{text:qe("y_axis_title")}},tooltip:{crosshairs:{color:X.gray[700],dashStyle:"solid"},formatter(i){const r=t._uniques[this.series.options.id][this.x],s=document.createElement("div");return s.innerHTML=i.defaultFormatter.call(this,i)[0],'\n            <div style="color: '.concat(this.color,'" class="font-semibold">').concat(this.series.name,'</div>\n            <div class="text-black">').concat(s.innerText,'</div>\n            <div class="flex items-center space-x-1">\n              <span class="text-2xl font-medium text-gray-600">').concat(Ls(this.y),'</span>\n              <span class="text-xs px-2.5 py-0.5 rounded-full font-medium bg-gray-100 text-gray-800">\n                ').concat(qe("members_count",{count:r,num:Ls(r)}),"\n              </span>\n            </h1>\n          ")}},plotOptions:{series:{states:{hover:{halo:{size:0}}}}},series:[{id:"LessonStatus",name:qe("lesson_statuses"),color:X.blue[600]},{id:"Rating",name:qe("ratings"),color:X.indigo[600]},{id:"Comment",name:qe("comments"),color:X.teal[600]}]})}setData(t,i){var r;(r=this.chart)==null||r.get(t).setData(i||[],!1,!0,!1)}setSeries(){var t,i,r;(t=this._series)!=null||(this._series={}),(i=this._uniques)!=null||(this._uniques={}),this.setData("LessonStatus",this._series.LessonStatus),this.setData("Rating",this._series.Rating),this.setData("Comment",this._series.Comment),(r=this.chart)==null||r.redraw()}}E(Sr,"targets",["container"]),E(Sr,"outlets",["series"]);const sl=Object.freeze(Object.defineProperty({__proto__:null,default:Sr},Symbol.toStringTag,{value:"Module"}));class nl extends C{connect(){this.element.focus()}}const al=Object.freeze(Object.defineProperty({__proto__:null,default:nl},Symbol.toStringTag,{value:"Module"}));class Vn extends C{connect(){Gi(this,{element:this.observableTarget,childList:!0}),this.mutate()}mutate(){return this.classList.toggle("hidden",this.noChildren)}get noChildren(){return this.observableTarget.childElementCount===0}}E(Vn,"targets",["observable"]);const ol=Object.freeze(Object.defineProperty({__proto__:null,default:Vn},Symbol.toStringTag,{value:"Module"}));class ll extends C{connect(){Rn(this),this.styles=getComputedStyle(this.element),this.borderTopWidth=Number.parseInt(this.styles.borderTopWidth),this.borderBottomWidth=Number.parseInt(this.styles.borderBottomWidth),this.verticalBorderSize=this.borderTopWidth+this.borderBottomWidth||0,this.update()}update(){const t=Number.parseInt(this.styles.fontSize);this.element.style.height="".concat(t,"px");const i=this.element.scrollHeight+this.verticalBorderSize;this.element.style.height="".concat(i,"px"),this.dispatch("update")}resize(){this.update()}}const hl=Object.freeze(Object.defineProperty({__proto__:null,default:ll},Symbol.toStringTag,{value:"Module"}));class zn extends C{connect(){this.initialImage=this.imageTarget.src}preview({target:t}){const i=t.files[0];this.imageTarget.src=i?URL.createObjectURL(i):this.initialImage}}E(zn,"targets",["image"]);const cl=Object.freeze(Object.defineProperty({__proto__:null,default:zn},Symbol.toStringTag,{value:"Module"}));class Nn extends C{connect(){this.originalSubmitText=this.submitTarget.innerText}select(){const{selected:t}=this;this.selectedIdsFieldTarget.value=t.join(","),this.submitTarget.innerText=t.length?this.selectedSubmitText:this.originalSubmitText,this.toggleDeactivatable(t.length>0)}toggleDeactivatable(t){this.deactivatableTargets.forEach(i=>{gt(i,"pointer-events-none opacity-40",t)})}get selectedSubmitText(){return this.submitTarget.dataset.selectedText}get selectedCheckboxTargets(){return this.checkboxTargets.filter(t=>t.checked)}get selectedIdsFieldTarget(){return this.formTarget.querySelector("input[name$=ids]")}get selected(){return this.selectedCheckboxTargets.map(t=>t.value)}}E(Nn,"targets",["checkbox","form","submit","deactivatable"]);const ul=Object.freeze(Object.defineProperty({__proto__:null,default:Nn},Symbol.toStringTag,{value:"Module"}));function ri(e,t){const i="sendBeacon"in navigator;return new Promise((r,s)=>{if(!i)return s();const n=new FormData;Object.keys(t).forEach(o=>{n.set(o,t[o])}),navigator.sendBeacon(e,n),setTimeout(r,1e3)})}class Hn extends C{constructor(){super(...arguments);E(this,"onTimeUpdate",({seconds:i})=>{this.currentTime=i})}async connect(){await ht("https://assets.mediadelivery.net/playerjs/player-0.1.0.min.js"),this.iframeElement=this.createIframe(),this.element.appendChild(this.iframeElement),this.player=new playerjs.Player(this.iframeElement),this.player.on("timeupdate",this.onTimeUpdate)}track(){return this.isTrackable&&this.persist()}createIframe(){return Object.assign(document.createElement("iframe"),{id:"bunny-".concat(this.uidValue),src:this.src,allow:"accelerometer;gyroscope;autoplay;encrypted-media;picture-in-picture",allowFullscreen:!0})}persist(){this.sending=!0,ri(this.trackUrlValue,{time:this.currentTime}).then(()=>{this.sending=!1})}get isTrackable(){return!this.sending&&this.currentTime>0&&this.currentTime!==this.timeValue}get customTimeValue(){const i=new URLSearchParams(location.search);return i.has("t")?Number.parseInt(i.get("t")):null}get src(){var s;const i=new URL(this.playerUrlValue),r=(s=this.customTimeValue)!=null?s:this.timeValue;return i.searchParams.set("autoplay",!1),i.searchParams.set("loop",!1),i.searchParams.set("muted",!1),i.searchParams.set("preload",!0),i.searchParams.set("t",r),i.toString()}}E(Hn,"values",{uid:String,playerUrl:String,trackUrl:String,time:Number});const dl=Object.freeze(Object.defineProperty({__proto__:null,default:Hn},Symbol.toStringTag,{value:"Module"})),fl="modulepreload",pl=function(e){return"https://membercdn.b-cdn.net/"+e},Rs={},Ut=function(t,i,r){let s=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(i.map(h=>{if(h=pl(h),h in Rs)return;Rs[h]=!0;const g=h.endsWith(".css"),m=g?'[rel="stylesheet"]':"";if(document.querySelector('link[href="'.concat(h,'"]').concat(m)))return;const T=document.createElement("link");if(T.rel=g?"stylesheet":fl,g||(T.as="script"),T.crossOrigin="",T.href=h,l&&T.setAttribute("nonce",l),document.head.appendChild(T),g)return new Promise((v,y)=>{T.addEventListener("load",v),T.addEventListener("error",()=>y(new Error("Unable to preload CSS for ".concat(h))))})}))}function n(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&n(l.reason);return t().catch(n)})};class gl extends C{async connect(){const{default:t,Pagination:i,Autoplay:r}=await Ut(async()=>{const{default:s,Pagination:n,Autoplay:o}=await import("./swiper-uZbYBFhK.js");return{default:s,Pagination:n,Autoplay:o}},[]);this.swiper=new t(this.element,{modules:[i,r],spaceBetween:20,loop:!0,centeredSlides:!0,autoplay:{delay:5e3,pauseOnMouseEnter:!0},pagination:{el:".swiper-pagination",clickable:!0}})}disconnect(){var t;(t=this.swiper)==null||t.destroy()}}const ml=Object.freeze(Object.defineProperty({__proto__:null,default:gl},Symbol.toStringTag,{value:"Module"})),yi=(e,...t)=>zt.t("choices.".concat(e),...t);class qn extends C{async connect(){const{default:t}=await Ut(async()=>{const{default:i}=await import("./choices-BNoMGvqv.js");return{default:i}},[]);this.choices=new t(this.selectTarget,{removeItemButton:!0,loadingText:yi("loading"),noResultsText:yi("no_results"),noChoicesText:yi("no_choices"),itemSelectText:yi("item_select")})}disconnect(){this.choices.destroy()}}E(qn,"targets",["select"]);const _l=Object.freeze(Object.defineProperty({__proto__:null,default:qn},Symbol.toStringTag,{value:"Module"}));class Yn extends C{copy(t){t.preventDefault(),this.sourceTarget.select(),document.execCommand("copy")}}E(Yn,"targets",["source"]);const vl=Object.freeze(Object.defineProperty({__proto__:null,default:Yn},Symbol.toStringTag,{value:"Module"}));class Er extends C{connect(){this.isRecordsEmpty&&this.insert()}insert(){this.recordsTarget.insertAdjacentHTML("beforeend",this.renderTemplate()),this.dispatch("inserted")}smartInsert({target:t}){(this.lastTextareaTarget===t||this.lastTextareaTarget.value.length)&&this.insert()}get isRecordsEmpty(){return this.recordsTarget.childElementCount===0}get lastTextareaTarget(){var t;return(t=this.recordsTarget.lastElementChild)==null?void 0:t.querySelector("textarea")}get childIndexRegexp(){return new RegExp("(?<=".concat(this.nameValue,"_attributes_|").concat(this.nameValue,"_attributes\\]\\[)\\d+"),"g")}renderTemplate(){return this.templateTarget.innerHTML.replace(this.childIndexRegexp,Date.now())}}E(Er,"targets",["records","template"]),E(Er,"values",{name:String});const yl=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"})),ks=(e,...t)=>zt.t("direct_uploads.".concat(e),...t);class xr extends C{constructor(){super(...arguments);E(this,"handleInitialize",i=>{const{detail:r}=i,{id:s,file:n}=r;this.containerTarget.insertAdjacentHTML("beforeend",'\n      <div id="direct-upload-'.concat(s,'" class="direct-upload direct-upload--pending">\n        <div id="direct-upload-progress-').concat(s,'" class="direct-upload__progress" style="width: 0%"></div>\n        <span class="direct-upload__filename"></span>\n      </div>\n    ')),this.containerTarget.lastElementChild.querySelector(".direct-upload__filename").textContent=n.name})}connect(){addEventListener("direct-upload:initialize",this.handleInitialize),addEventListener("direct-upload:start",this.handleStart),addEventListener("direct-upload:progress",this.handleProgress),addEventListener("direct-upload:error",this.handleError),addEventListener("direct-upload:end",this.handleEnd)}disconnect(){removeEventListener("direct-upload:initialize",this.handleInitialize),removeEventListener("direct-upload:start",this.handleStart),removeEventListener("direct-upload:progress",this.handleProgress),removeEventListener("direct-upload:error",this.handleError),removeEventListener("direct-upload:end",this.handleEnd)}handleDrop(i){i.preventDefault(),this.inputTarget.files=i.dataTransfer.files,this.lengthValue=i.dataTransfer.files.length}handleStart(i){const{id:r}=i.detail;document.getElementById("direct-upload-".concat(r)).classList.remove("direct-upload--pending")}handleProgress(i){const{id:r,progress:s}=i.detail,n=document.getElementById("direct-upload-progress-".concat(r));n.style.width="".concat(s,"%")}handleError(i){i.preventDefault();const{id:r,error:s}=i.detail,n=document.getElementById("direct-upload-".concat(r));n.classList.add("direct-upload--error"),n.setAttribute("title",s)}handleEnd(i){const{id:r}=i.detail;document.getElementById("direct-upload-".concat(r)).classList.add("direct-upload--complete")}handleFileSelected(i){this.lengthValue=i.target.files.length}handleDragOver(i){i.preventDefault()}get lengthText(){return this.lengthValue>=1?ks("file_count",{count:this.lengthValue}):"Upload"}get descriptionText(){return ks("selected",{count:this.lengthValue})}lengthValueChanged(){this.buttonTextTarget.textContent=this.lengthText,this.hasDescriptionTarget&&(this.descriptionTarget.textContent=this.descriptionText)}}E(xr,"targets",["container","description","buttonText","input"]),E(xr,"values",{length:Number});const bl=Object.freeze(Object.defineProperty({__proto__:null,default:xr},Symbol.toStringTag,{value:"Module"}));class Dr extends C{connect(){this.change({target:this.inputTarget})}change({target:t}){const i=!t.checked;this.disableableTargets.forEach(r=>{"disabled"in r?r.disabled=i:r.classList.toggle(this.inactiveClass,i)})}}E(Dr,"targets",["input","disableable"]),E(Dr,"classes",["inactive"]);const Tl=Object.freeze(Object.defineProperty({__proto__:null,default:Dr},Symbol.toStringTag,{value:"Module"}));class Ar extends C{connect(){Qi(this,{wait:100}),$o(this),Fo(this,{element:this.menuTarget,enterActive:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leaveActive:"transition ease-in duration-100",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95"})}toggle(t){t.preventDefault(),this.transitioned?(this.dispatchHide(),this.leave()):(this.dispatch("show"),this.enter()),this.synchronizeExpanded()}clickOutside(){this.transitioned&&this.dispatchHide(),this.leave(),this.synchronizeExpanded()}dispatchHide(){return this.dispatch("hide")}synchronizeExpanded(){this.hasButtonTarget&&this.buttonTarget.setAttribute("aria-expanded",this.transitioned)}}E(Ar,"targets",["menu","button"]),E(Ar,"debounces",["dispatchHide"]);const wl=Object.freeze(Object.defineProperty({__proto__:null,default:Ar},Symbol.toStringTag,{value:"Module"}));class $n extends C{connect(){this.setImage(this.initialSource)}preview({target:t}){const i=t.files[0];this.setImage(i?URL.createObjectURL(i):this.initialSource)}setImage(t){t?(this.imageTarget.src=t,this.imageTarget.classList.remove("hidden"),this.placeholderTarget.classList.add("hidden"),this.classList.add("border-transparent","bg-gray-100")):(this.imageTarget.classList.add("hidden"),this.placeholderTarget.classList.remove("hidden"),this.classList.remove("border-transparent","bg-gray-100"))}get initialSource(){return this.imageTarget.dataset.src}}E($n,"targets",["placeholder","image"]);const Sl=Object.freeze(Object.defineProperty({__proto__:null,default:$n},Symbol.toStringTag,{value:"Module"})),El=1056,xl=816;function Ee(e,t,i){return Math.round(e*t/i)}function hs(e,t){return Math.min(El/e,xl/t)}function Dl(e,t){const i=hs(e,t);return{width:Math.round(e*i),height:Math.round(t*i)}}class Or extends C{connect(){this.originalImage=this.imageSource,this.toggleContainer(),this.dispatchLayout()}changeFontColor(){this.updateSelectedRecord({font_color:this.colorInputTarget.value})}changeFontFamily(){this.updateSelectedRecord({font_family:this.fontInputTarget.value})}changeFontSize(){this.updateSelectedRecord({font_size:this.sizeInputTarget.value})}changeImage({target:t}){const i=t.files[0];this.imageTarget.src=i?URL.createObjectURL(i):this.originalImage,this.toggleContainer()}setSelection({target:t}){const i=t.closest("[data-editor-target=moveable]");this.selectedIndexValue=this.moveableTargets.findIndex(r=>r===t||r===i),this.dispatchLayout()}layout(){const t=Dl(this.imageTarget.naturalWidth,this.imageTarget.naturalHeight);this.renderWidthValue=t.width,this.renderHeightValue=t.height,this.dispatchLayout()}toggleTextRecord({target:t}){const i=t.dataset.name,r=this.moveableTargets.find(n=>n.dataset.textRecordNameValue===i),s=r.dataset.textRecordDisabledValue==="true";r.dataset.textRecordDisabledValue=!s,this.selectedIndexValue=-1}textRecordChanged({detail:t}){const{name:i,disabled:r}=t,s=this.toolbarButtonTargets.find(n=>n.dataset.name===i);s&&gt(s,"bg-indigo-50 text-indigo-600",!r)}dispatchLayout(){this.dispatch("layout",{detail:{renderWidth:this.renderWidthValue,renderHeight:this.renderHeightValue}})}toggleContainer(){this.containerTarget.classList.toggle("hidden",!this.imageSource)}highlightSelected(){this.moveableTargets.forEach(t=>{gt(t,"bg-indigo-700",t!==this.selectedRecord),gt(t,"bg-indigo-900 border-dashed border-white",t===this.selectedRecord)})}selectedIndexValueChanged(){const t=this.selectedIndexValue===-1;this.colorInputTarget.disabled=t,this.fontInputTarget.disabled=t,this.sizeInputTarget.disabled=t,this.selectedRecord&&(this.colorInputTarget.value=this.selectedRecordAttributes.font_color,this.fontInputTarget.value=this.selectedRecordAttributes.font_family,this.sizeInputTarget.value=this.selectedRecordAttributes.font_size),this.highlightSelected()}get imageSource(){return this.imageTarget.getAttribute("src")}get selectedRecord(){return this.moveableTargets[this.selectedIndexValue]}get selectedRecordAttributes(){return JSON.parse(this.selectedRecord.dataset.textRecordFieldsValue)}updateSelectedRecord(t){const i=Object.assign({},this.selectedRecordAttributes,t);this.selectedRecord.dataset.textRecordFieldsValue=JSON.stringify(i)}}E(Or,"targets",["colorInput","fontInput","sizeInput","toolbarButton","container","image","moveable"]),E(Or,"values",{renderWidth:Number,renderHeight:Number,selectedIndex:Number});const Al=Object.freeze(Object.defineProperty({__proto__:null,default:Or},Symbol.toStringTag,{value:"Module"}));class Fn extends C{constructor(){super(...arguments);E(this,"remove",()=>{this.element.remove()})}connect(){this.hasInputTarget&&this.toggleClass()}removeAfterDone(){document.addEventListener("turbo:submit-end",this.remove,{once:!0})}destroy(){if(this.newRecord)return this.remove();this.inputTarget.value=this.willDestroy?"false":"true",this.toggleClass()}get newRecord(){return!this.keyTarget.value.length}get willDestroy(){return this.inputTarget.value==="true"}toggleClass(){this.classList.toggle("opacity-50",this.willDestroy)}}E(Fn,"targets",["key","input"]);const Ol=Object.freeze(Object.defineProperty({__proto__:null,default:Fn},Symbol.toStringTag,{value:"Module"})),bi=(e,...t)=>zt.t("engagements.".concat(e),...t);class Ir extends C{async connect(){await ht("https://code.highcharts.com/highcharts.js"),Highcharts.setOptions(jt),this.chart=this.renderChart(),this.setSeries()}disconnect(){var t;(t=this.chart)==null||t.destroy()}update(){this._ids=new Set,this._records=this.seriesOutlet.getRecords(),this._records.forEach(t=>this._ids.add(t.classroom_id)),requestAnimationFrame(()=>this.setSeries())}renderChart(){return new Highcharts.Chart({chart:{renderTo:this.containerTarget,type:"scatter",zoomType:"x",zooming:jt.chart.zooming,spacingBottom:6},legend:{enabled:!1},xAxis:{min:0,max:100,title:{text:bi("x_axis_title")},labels:{format:"{value}%"}},yAxis:{min:0,max:100,title:{text:bi("y_axis_title")},labels:{format:"{value}%"}},plotOptions:{scatter:{marker:{radius:5,symbol:"circle",states:{hover:{lineWidthPlus:0}}}}},tooltip:{formatter(){return'\n            <div class="text-gray-700 font-semibold mb-1">'.concat(this.series.name,"</div>\n            <div>").concat(bi("y_axis_title"),': <span class="font-semibold">').concat(this.y.toFixed(0),"%</span></div>\n            <div>").concat(bi("x_axis_title"),': <span class="font-semibold">').concat(this.x.toFixed(0),"%</span></div>\n          ")}}})}setData(t){const i=this.chart.get(t.classroom_id);i?i.points[0].update({x:t.average_progress,y:t.rate,color:Ps(t.average_progress,t.rate)},!1):this.chart.addSeries({id:t.classroom_id,name:"".concat(t.course_name," (").concat(t.classroom_name,")"),data:[[t.average_progress,t.rate]],color:Ps(t.average_progress,t.rate)},!1)}setSeries(){var t,i;(t=this._ids)!=null||(this._ids=new Set),(i=this._records)!=null||(this._records=[]),this._records.forEach(r=>this.setData(r)),this.chart.series.filter(r=>!this._ids.has(r.options.id)).forEach(r=>r.remove(!1)),this.chart.redraw()}}E(Ir,"targets",["container"]),E(Ir,"outlets",["series"]);function Ps(e,t){const[i,r]=[Math.round(e),Math.round(t)];switch(!0){case(r>=60&&i<=60):return X.blue[500];case(r>=40&&i<=60):return X.white;case i<=30:return X.rose[500];case(i>=31&&i<=60):return X.violet[500];case(i>=61&&i<=70):return X.violet[700];case i>=71:return X.emerald[500];default:return X.white}}const Il=Object.freeze(Object.defineProperty({__proto__:null,default:Ir},Symbol.toStringTag,{value:"Module"}));class Cr extends C{connect(){Qi(this,{wait:3e3}),this.close()}close(){this.containerTarget.classList.remove("fadeInDown"),this.containerTarget.classList.add("fadeOutUp"),ko(this.containerTarget,()=>this.element.remove())}}E(Cr,"targets",["container"]),E(Cr,"debounces",["close"]);const Cl=Object.freeze(Object.defineProperty({__proto__:null,default:Cr},Symbol.toStringTag,{value:"Module"}));class Lr extends C{constructor(){super(...arguments);E(this,"parseDate",i=>{if(!i)return;const{dateFormat:r}=this.localizedOptions,s=flatpickr.parseDate(i,r);return spacetime(s,this.timeZoneMeta).d})}async connect(){await ht("https://cdn.jsdelivr.net/npm/spacetime@7.4.7/builds/spacetime.min.js"),this.loadedModules=await Ut(()=>import("./flatpickr-BLL8kE2E.js"),__vite__mapDeps([0,1])),os(this),this.hasLazyValue&&Gi(this,{element:this.lazyTarget,attributeFilter:["class"]}),this.mutate()}mutate(){var i;this.hasLazyValue&&this.isHidden?(i=this.flatpickr)==null||i.destroy():this.flatpickr=flatpickr(this.element,this.options)}get lazyTarget(){return this.element.closest(this.lazyValue)}get isHidden(){return this.lazyTarget.classList.contains("hidden")}get language(){return document.documentElement.lang}get localizedOptions(){const i={dateFormat:zt.t("time.formats.simple")};switch(this.language){case"pt-BR":return{...i,locale:this.loadedModules.Portuguese};case"es":return{...i,locale:this.loadedModules.Spanish};default:return i}}get options(){return{enableTime:!0,monthSelectorType:"static",minDate:new Date,parseDate:this.parseDate,...this.localizedOptions}}}E(Lr,"metaNames",["time-zone"]),E(Lr,"values",{lazy:String});const Ll=Object.freeze(Object.defineProperty({__proto__:null,default:Lr},Symbol.toStringTag,{value:"Module"}));class Xn extends C{static afterLoad(){document.addEventListener("direct-uploads:start",({target:t})=>hr(t,!0)),document.addEventListener("turbo:submit-start",({target:t})=>hr(t,!0)),document.addEventListener("turbo:submit-end",({target:t})=>hr(t,!1))}submit(){this.element.requestSubmit()}reset({detail:t}){const{fetchResponse:i}=t;i.statusCode!==422&&this.element.reset()}disableSubmits(){Po(this.submitTargets)}enableSubmits(){Mo(this.submitTargets)}onlyOneCheckbox({currentTarget:t}){this.checkboxTargets.filter(i=>i!==t).forEach(i=>i.checked=!1)}}E(Xn,"targets",["checkbox","submit"]);const Rl=Object.freeze(Object.defineProperty({__proto__:null,default:Xn},Symbol.toStringTag,{value:"Module"}));var Ji={},ce=typeof Map=="function"?new Map:null,At="swap",de="move",kl="synchronize",Gt="layoutStart",Ms="layoutEnd",js="layoutAbort",Bs="add",Vs="remove",Pl="showStart",Ml="showEnd",We="hideStart",jl="hideEnd",zs="filter",Ns="sort",Bi="move",Vi="send",Qt="beforeSend",zi="receive",Ni="beforeReceive",Bl="dragInit",Vl="dragStart",zl="dragMove",Nl="dragScroll",Hl="dragEnd",ql="dragReleaseStart",Ue="dragReleaseEnd",Yl="destroy",Wn="ontouchstart"in window,cs=!!window.PointerEvent,us=!!window.navigator.msPointerEnabled,$l=16777216;function bt(){this._events={},this._queue=[],this._counter=0,this._clearOnEmit=!1}bt.prototype.on=function(e,t){if(!this._events||!e||!t)return this;var i=this._events[e];return i||(i=this._events[e]=[]),i.push(t),this};bt.prototype.off=function(e,t){if(!this._events||!e||!t)return this;var i=this._events[e];if(!i||!i.length)return this;for(var r;(r=i.indexOf(t))!==-1;)i.splice(r,1);return this};bt.prototype.clear=function(e){if(!this._events||!e)return this;var t=this._events[e];return t&&(t.length=0,delete this._events[e]),this};bt.prototype.emit=function(e){if(!this._events||!e)return this._clearOnEmit=!1,this;var t=this._events[e];if(!t||!t.length)return this._clearOnEmit=!1,this;var i=this._queue,r=i.length,s=arguments.length-1,n;s>3&&(n=[],n.push.apply(n,arguments),n.shift()),i.push.apply(i,t),this._clearOnEmit&&(t.length=0,this._clearOnEmit=!1),++this._counter;for(var o=r,l=i.length;o<l;o++)if(s===0?i[o]():s===1?i[o](arguments[1]):s===2?i[o](arguments[1],arguments[2]):s===3?i[o](arguments[1],arguments[2],arguments[3]):i[o].apply(null,n),!this._events)return this;return--this._counter,this._counter||(i.length=0),this};bt.prototype.burst=function(){return this._events?(this._clearOnEmit=!0,this.emit.apply(this,arguments),this):this};bt.prototype.countListeners=function(e){if(!this._events)return 0;var t=this._events[e];return t?t.length:0};bt.prototype.destroy=function(){return this._events?(this._queue.length=this._counter=0,this._events=null,this):this};var Zi=cs?"pointerout":us?"MSPointerOut":"",Fl=100;function Zt(e){Zi&&(this._dragger=e,this._timeout=null,this._outEvent=null,this._isActive=!1,this._addBehaviour=this._addBehaviour.bind(this),this._removeBehaviour=this._removeBehaviour.bind(this),this._onTimeout=this._onTimeout.bind(this),this._resetData=this._resetData.bind(this),this._onStart=this._onStart.bind(this),this._onOut=this._onOut.bind(this),this._dragger.on("start",this._onStart))}Zt.prototype._addBehaviour=function(){this._isActive||(this._isActive=!0,this._dragger.on("move",this._resetData),this._dragger.on("cancel",this._removeBehaviour),this._dragger.on("end",this._removeBehaviour),window.addEventListener(Zi,this._onOut))};Zt.prototype._removeBehaviour=function(){this._isActive&&(this._dragger.off("move",this._resetData),this._dragger.off("cancel",this._removeBehaviour),this._dragger.off("end",this._removeBehaviour),window.removeEventListener(Zi,this._onOut),this._resetData(),this._isActive=!1)};Zt.prototype._resetData=function(){window.clearTimeout(this._timeout),this._timeout=null,this._outEvent=null};Zt.prototype._onStart=function(e){e.pointerType!=="mouse"&&this._addBehaviour()};Zt.prototype._onOut=function(e){this._dragger._getTrackedTouch(e)&&(this._resetData(),this._outEvent=e,this._timeout=window.setTimeout(this._onTimeout,Fl))};Zt.prototype._onTimeout=function(){var e=this._outEvent;this._resetData(),this._dragger.isActive()&&this._dragger._onCancel(e)};Zt.prototype.destroy=function(){Zi&&(this._dragger.off("start",this._onStart),this._removeBehaviour())};var ur=["","webkit","moz","ms","o","Webkit","Moz","MS","O"],Hs={};function Ki(e,t){var i=Hs[t]||"";if(i)return i;for(var r=t[0].toUpperCase()+t.slice(1),s=0;s<ur.length;){if(i=ur[s]?ur[s]+r:t,i in e)return Hs[t]=i,i;++s}return""}function Un(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(i){}return e}var tr=window.navigator.userAgent.toLowerCase(),Xl=tr.indexOf("edge")>-1,Wl=tr.indexOf("trident")>-1,Ul=tr.indexOf("firefox")>-1,Gl=tr.indexOf("android")>-1,Xt=Un()?{passive:!0}:!1,Gn="touchAction",Ti=Ki(document.documentElement.style,Gn),Ql="auto";function x(e,t){this._element=e,this._emitter=new bt,this._isDestroyed=!1,this._cssProps={},this._touchAction="",this._isActive=!1,this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._onStart=this._onStart.bind(this),this._onMove=this._onMove.bind(this),this._onCancel=this._onCancel.bind(this),this._onEnd=this._onEnd.bind(this),this._edgeHack=null,(Xl||Wl)&&(cs||us)&&(this._edgeHack=new Zt(this)),this.setCssProps(t),this._touchAction||this.setTouchAction(Ql),e.addEventListener("dragstart",x._preventDefault,!1),e.addEventListener(x._inputEvents.start,this._onStart,Xt)}x._pointerEvents={start:"pointerdown",move:"pointermove",cancel:"pointercancel",end:"pointerup"};x._msPointerEvents={start:"MSPointerDown",move:"MSPointerMove",cancel:"MSPointerCancel",end:"MSPointerUp"};x._touchEvents={start:"touchstart",move:"touchmove",cancel:"touchcancel",end:"touchend"};x._mouseEvents={start:"mousedown",move:"mousemove",cancel:"",end:"mouseup"};x._inputEvents=function(){return Wn?x._touchEvents:cs?x._pointerEvents:us?x._msPointerEvents:x._mouseEvents}();x._emitter=new bt;x._emitterEvents={start:"start",move:"move",end:"end",cancel:"cancel"};x._activeInstances=[];x._preventDefault=function(e){e.preventDefault&&e.cancelable!==!1&&e.preventDefault()};x._activateInstance=function(e){var t=x._activeInstances.indexOf(e);t>-1||(x._activeInstances.push(e),x._emitter.on(x._emitterEvents.move,e._onMove),x._emitter.on(x._emitterEvents.cancel,e._onCancel),x._emitter.on(x._emitterEvents.end,e._onEnd),x._activeInstances.length===1&&x._bindListeners())};x._deactivateInstance=function(e){var t=x._activeInstances.indexOf(e);t!==-1&&(x._activeInstances.splice(t,1),x._emitter.off(x._emitterEvents.move,e._onMove),x._emitter.off(x._emitterEvents.cancel,e._onCancel),x._emitter.off(x._emitterEvents.end,e._onEnd),x._activeInstances.length||x._unbindListeners())};x._bindListeners=function(){window.addEventListener(x._inputEvents.move,x._onMove,Xt),window.addEventListener(x._inputEvents.end,x._onEnd,Xt),x._inputEvents.cancel&&window.addEventListener(x._inputEvents.cancel,x._onCancel,Xt)};x._unbindListeners=function(){window.removeEventListener(x._inputEvents.move,x._onMove,Xt),window.removeEventListener(x._inputEvents.end,x._onEnd,Xt),x._inputEvents.cancel&&window.removeEventListener(x._inputEvents.cancel,x._onCancel,Xt)};x._getEventPointerId=function(e){return typeof e.pointerId=="number"?e.pointerId:e.changedTouches?e.changedTouches[0]?e.changedTouches[0].identifier:null:1};x._getTouchById=function(e,t){if(typeof e.pointerId=="number")return e.pointerId===t?e:null;if(e.changedTouches){for(var i=0;i<e.changedTouches.length;i++)if(e.changedTouches[i].identifier===t)return e.changedTouches[i];return null}return e};x._onMove=function(e){x._emitter.emit(x._emitterEvents.move,e)};x._onCancel=function(e){x._emitter.emit(x._emitterEvents.cancel,e)};x._onEnd=function(e){x._emitter.emit(x._emitterEvents.end,e)};x.prototype._reset=function(){this._pointerId=null,this._startTime=0,this._startX=0,this._startY=0,this._currentX=0,this._currentY=0,this._isActive=!1,x._deactivateInstance(this)};x.prototype._createEvent=function(e,t){var i=this._getTrackedTouch(t);return{type:e,srcEvent:t,distance:this.getDistance(),deltaX:this.getDeltaX(),deltaY:this.getDeltaY(),deltaTime:e===x._emitterEvents.start?0:this.getDeltaTime(),isFirst:e===x._emitterEvents.start,isFinal:e===x._emitterEvents.end||e===x._emitterEvents.cancel,pointerType:t.pointerType||(t.touches?"touch":"mouse"),identifier:this._pointerId,screenX:i.screenX,screenY:i.screenY,clientX:i.clientX,clientY:i.clientY,pageX:i.pageX,pageY:i.pageY,target:i.target}};x.prototype._emit=function(e,t){this._emitter.emit(e,this._createEvent(e,t))};x.prototype._getTrackedTouch=function(e){return this._pointerId===null?null:x._getTouchById(e,this._pointerId)};x.prototype._onStart=function(e){if(!this._isDestroyed&&this._pointerId===null&&(this._pointerId=x._getEventPointerId(e),this._pointerId!==null)){var t=this._getTrackedTouch(e);this._startX=this._currentX=t.clientX,this._startY=this._currentY=t.clientY,this._startTime=Date.now(),this._isActive=!0,this._emit(x._emitterEvents.start,e),this._isActive&&x._activateInstance(this)}};x.prototype._onMove=function(e){var t=this._getTrackedTouch(e);t&&(this._currentX=t.clientX,this._currentY=t.clientY,this._emit(x._emitterEvents.move,e))};x.prototype._onCancel=function(e){this._getTrackedTouch(e)&&(this._emit(x._emitterEvents.cancel,e),this._reset())};x.prototype._onEnd=function(e){this._getTrackedTouch(e)&&(this._emit(x._emitterEvents.end,e),this._reset())};x.prototype.isActive=function(){return this._isActive};x.prototype.setTouchAction=function(e){this._touchAction=e,Ti&&(this._cssProps[Ti]="",this._element.style[Ti]=e),Wn&&(this._element.removeEventListener(x._touchEvents.start,x._preventDefault,!0),(this._element.style[Ti]!==e||Ul&&Gl)&&this._element.addEventListener(x._touchEvents.start,x._preventDefault,!0))};x.prototype.setCssProps=function(e){if(e){var t=this._cssProps,i=this._element,r,s;for(r in t)i.style[r]=t[r],delete t[r];for(r in e)if(e[r]){if(r===Gn){this.setTouchAction(e[r]);continue}s=Ki(i.style,r),s&&(t[s]="",i.style[s]=e[r])}}};x.prototype.getDeltaX=function(){return this._currentX-this._startX};x.prototype.getDeltaY=function(){return this._currentY-this._startY};x.prototype.getDistance=function(){var e=this.getDeltaX(),t=this.getDeltaY();return Math.sqrt(e*e+t*t)};x.prototype.getDeltaTime=function(){return this._startTime?Date.now()-this._startTime:0};x.prototype.on=function(e,t){this._emitter.on(e,t)};x.prototype.off=function(e,t){this._emitter.off(e,t)};x.prototype.destroy=function(){if(!this._isDestroyed){var e=this._element;this._edgeHack&&this._edgeHack.destroy(),this._reset(),this._emitter.destroy(),e.removeEventListener(x._inputEvents.start,this._onStart,Xt),e.removeEventListener("dragstart",x._preventDefault,!1),e.removeEventListener(x._touchEvents.start,x._preventDefault,!0);for(var t in this._cssProps)e.style[t]=this._cssProps[t],delete this._cssProps[t];this._element=null,this._isDestroyed=!0}};var Jl=1e3/60,Zl=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return this.setTimeout(function(){e(Date.now())},Jl)}).bind(window);function er(e){this._nextStep=null,this._lanes=[],this._stepQueue=[],this._stepCallbacks={},this._step=this._step.bind(this);for(var t=0;t<e;t++)this._lanes.push(new ds)}er.prototype._step=function(e){var t=this._lanes,i=this._stepQueue,r=this._stepCallbacks,s,n,o,l,h,g;for(this._nextStep=null,s=0;s<t.length;s++){for(l=t[s].queue,h=t[s].callbacks,g=t[s].indices,n=0;n<l.length;n++)o=l[n],o&&(i.push(o),r[o]=h[o],delete h[o],delete g[o]);l.length=0}for(s=0;s<i.length;s++)o=i[s],r[o]&&r[o](e),delete r[o];i.length=0};er.prototype.add=function(e,t,i){this._lanes[e].add(t,i),this._nextStep||(this._nextStep=Zl(this._step))};er.prototype.remove=function(e,t){this._lanes[e].remove(t)};function ds(){this.queue=[],this.indices={},this.callbacks={}}ds.prototype.add=function(e,t){var i=this.indices[e];i!==void 0&&(this.queue[i]=void 0),this.queue.push(e),this.callbacks[e]=t,this.indices[e]=this.queue.length-1};ds.prototype.remove=function(e){var t=this.indices[e];t!==void 0&&(this.queue[t]=void 0,delete this.callbacks[e],delete this.indices[e])};var Qn="layoutRead",Jn="layoutWrite",Zn="visibilityRead",Kn="visibilityWrite",ta="dragStartRead",ea="dragStartWrite",ia="dragMoveRead",ra="dragMoveWrite",sa="dragScrollRead",na="dragScrollWrite",aa="dragSortRead",oa="placeholderLayoutRead",la="placeholderLayoutWrite",ha="placeholderResizeWrite",ca="autoScrollRead",ua="autoScrollWrite",da="debounceRead",et=0,fa=1,it=2,z=new er(3);function Kl(e,t,i){z.add(et,Qn+e,t),z.add(it,Jn+e,i)}function pa(e){z.remove(et,Qn+e),z.remove(it,Jn+e)}function th(e,t,i){z.add(et,Zn+e,t),z.add(it,Kn+e,i)}function ga(e){z.remove(et,Zn+e),z.remove(it,Kn+e)}function eh(e,t,i){z.add(et,ta+e,t),z.add(it,ea+e,i)}function ma(e){z.remove(et,ta+e),z.remove(it,ea+e)}function ih(e,t,i){z.add(et,ia+e,t),z.add(it,ra+e,i)}function _a(e){z.remove(et,ia+e),z.remove(it,ra+e)}function rh(e,t,i){z.add(et,sa+e,t),z.add(it,na+e,i)}function va(e){z.remove(et,sa+e),z.remove(it,na+e)}function ir(e,t){z.add(fa,aa+e,t)}function sh(e){z.remove(fa,aa+e)}function nh(e,t,i){z.add(et,oa+e,t),z.add(it,la+e,i)}function ya(e){z.remove(et,oa+e),z.remove(it,la+e)}function ah(e,t){z.add(it,ha+e,t)}function oh(e){z.remove(it,ha+e)}function ba(e,t){z.add(et,ca,e),z.add(it,ua,t)}function lh(){z.remove(et,ca),z.remove(it,ua)}function hh(e,t){z.add(et,da+e,t)}function ch(e){z.remove(et,da+e)}var U=1,K=2,Me=4,fs=8,Ge=U|fs,Qe=U|Me,Je=K|fs,Hi=K|Me,uh="function";function B(e){return typeof e===uh}var wi=typeof WeakMap=="function"?new WeakMap:null;function at(e,t){var i=wi&&wi.get(e);return i||(i=window.getComputedStyle(e,null),wi&&wi.set(e,i)),i.getPropertyValue(t)}function mt(e,t){return parseFloat(at(e,t))||0}var fe=document.documentElement,dh=document.body,Si={value:0,offset:0};function Ta(e){return e===window||e===fe||e===dh?window:e}function Ze(e){return e===window?e.pageXOffset:e.scrollLeft}function Ke(e){return e===window?e.pageYOffset:e.scrollTop}function wa(e){return e===window?fe.scrollWidth-fe.clientWidth:e.scrollWidth-e.clientWidth}function Sa(e){return e===window?fe.scrollHeight-fe.clientHeight:e.scrollHeight-e.clientHeight}function Ea(e,t){if(t=t||{},e===window)t.width=fe.clientWidth,t.height=fe.clientHeight,t.left=0,t.right=t.width,t.top=0,t.bottom=t.height;else{var i=e.getBoundingClientRect(),r=e.clientLeft||mt(e,"border-left-width"),s=e.clientTop||mt(e,"border-top-width");t.width=e.clientWidth,t.height=e.clientHeight,t.left=i.left+r,t.right=t.left+t.width,t.top=i.top+s,t.bottom=t.top+t.height}return t}function si(e){return e._drag._getGrid()._settings.dragAutoScroll}function fh(e){e._drag&&e._drag._prepareScroll()}function ph(e){if(!(!e._drag||!e._isActive)){var t=e._drag;t._scrollDiffX=t._scrollDiffY=0,e._setTranslate(t._left,t._top)}}function Rr(e,t,i,r){return Si.value=Math.min(r/2,e),Si.offset=Math.max(0,i+Si.value*2+r*t-r)/2,Si}function Nt(){this.reset()}Nt.prototype.reset=function(){this.isActive&&this.onStop(),this.item=null,this.element=null,this.isActive=!1,this.isEnding=!1,this.direction=null,this.value=null,this.maxValue=0,this.threshold=0,this.distance=0,this.speed=0,this.duration=0,this.action=null};Nt.prototype.hasReachedEnd=function(){return Me&this.direction?this.value>=this.maxValue:this.value<=0};Nt.prototype.computeCurrentScrollValue=function(){return this.value===null?U&this.direction?Ze(this.element):Ke(this.element):Math.max(0,Math.min(this.value,this.maxValue))};Nt.prototype.computeNextScrollValue=function(e){var t=this.speed*(e/1e3),i=Me&this.direction?this.value+t:this.value-t;return Math.max(0,Math.min(i,this.maxValue))};Nt.prototype.computeSpeed=function(){var e={direction:null,threshold:0,distance:0,value:0,maxValue:0,deltaTime:0,duration:0,isEnding:!1};return function(t){var i=this.item,r=si(i).speed;return B(r)?(e.direction=this.direction,e.threshold=this.threshold,e.distance=this.distance,e.value=this.value,e.maxValue=this.maxValue,e.duration=this.duration,e.speed=this.speed,e.deltaTime=t,e.isEnding=this.isEnding,r(i,this.element,e)):r}}();Nt.prototype.tick=function(e){return this.isActive||(this.isActive=!0,this.onStart()),this.value=this.computeCurrentScrollValue(),this.speed=this.computeSpeed(e),this.value=this.computeNextScrollValue(e),this.duration+=e,this.value};Nt.prototype.onStart=function(){var e=this.item,t=si(e).onStart;B(t)&&t(e,this.element,this.direction)};Nt.prototype.onStop=function(){var e=this.item,t=si(e).onStop;B(t)&&t(e,this.element,this.direction),e._drag&&e._drag.sort()};function je(){this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0}je.prototype.reset=function(){this.requestX&&(this.requestX.action=null),this.requestY&&(this.requestY.action=null),this.element=null,this.requestX=null,this.requestY=null,this.scrollLeft=0,this.scrollTop=0};je.prototype.addRequest=function(e){U&e.direction?(this.removeRequest(this.requestX),this.requestX=e):(this.removeRequest(this.requestY),this.requestY=e),e.action=this};je.prototype.removeRequest=function(e){e&&(this.requestX===e?(this.requestX=null,e.action=null):this.requestY===e&&(this.requestY=null,e.action=null))};je.prototype.computeScrollValues=function(){this.scrollLeft=this.requestX?this.requestX.value:Ze(this.element),this.scrollTop=this.requestY?this.requestY.value:Ke(this.element)};je.prototype.scroll=function(){var e=this.element;e&&(e.scrollTo?e.scrollTo(this.scrollLeft,this.scrollTop):(e.scrollLeft=this.scrollLeft,e.scrollTop=this.scrollTop))};function ti(e,t){this.pool=[],this.createItem=e,this.releaseItem=t}ti.prototype.pick=function(){return this.pool.pop()||this.createItem()};ti.prototype.release=function(e){this.releaseItem(e),this.pool.indexOf(e)===-1&&this.pool.push(e)};ti.prototype.reset=function(){this.pool.length=0};function gh(e,t){return!(e.left+e.width<=t.left||t.left+t.width<=e.left||e.top+e.height<=t.top||t.top+t.height<=e.top)}function mh(e,t){if(!gh(e,t))return 0;var i=Math.min(e.left+e.width,t.left+t.width)-Math.max(e.left,t.left),r=Math.min(e.top+e.height,t.top+t.height)-Math.max(e.top,t.top);return i*r}function qi(e,t){var i=mh(e,t);if(!i)return 0;var r=Math.min(e.width,t.width)*Math.min(e.height,t.height);return i/r*100}var xa={width:0,height:0,left:0,right:0,top:0,bottom:0},Da={width:0,height:0,left:0,right:0,top:0,bottom:0};function N(){this._isDestroyed=!1,this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,this._items=[],this._actions=[],this._requests={},this._requests[U]={},this._requests[K]={},this._requestOverlapCheck={},this._dragPositions={},this._dragDirections={},this._overlapCheckInterval=150,this._requestPool=new ti(function(){return new Nt},function(e){e.reset()}),this._actionPool=new ti(function(){return new je},function(e){e.reset()}),this._readTick=this._readTick.bind(this),this._writeTick=this._writeTick.bind(this)}N.AXIS_X=U;N.AXIS_Y=K;N.FORWARD=Me;N.BACKWARD=fs;N.LEFT=Ge;N.RIGHT=Qe;N.UP=Je;N.DOWN=Hi;N.smoothSpeed=function(e,t,i){return function(r,s,n){var o=0;if(!n.isEnding)if(n.threshold>0){var l=n.threshold-Math.max(0,n.distance);o=e/n.threshold*l}else o=e;var h=n.speed,g=o;return h===o?g:h<o?(g=h+t*(n.deltaTime/1e3),Math.min(o,g)):(g=h-i*(n.deltaTime/1e3),Math.max(o,g))}};N.pointerHandle=function(e){var t={left:0,top:0,width:0,height:0},i=e||1;return function(r,s,n,o,l,h,g){return t.left=h-i*.5,t.top=g-i*.5,t.width=i,t.height=i,t}};N.prototype._readTick=function(e){this._isDestroyed||(e&&this._tickTime?(this._tickDeltaTime=e-this._tickTime,this._tickTime=e,this._updateRequests(),this._updateActions()):(this._tickTime=e,this._tickDeltaTime=0))};N.prototype._writeTick=function(){this._isDestroyed||(this._applyActions(),ba(this._readTick,this._writeTick))};N.prototype._startTicking=function(){this._isTicking=!0,ba(this._readTick,this._writeTick)};N.prototype._stopTicking=function(){this._isTicking=!1,this._tickTime=0,this._tickDeltaTime=0,lh()};N.prototype._getItemHandleRect=function(e,t,i){var r=e._drag;if(t){var s=r._dragMoveEvent||r._dragStartEvent,n=t(e,r._clientX,r._clientY,e._width,e._height,s.clientX,s.clientY);i.left=n.left,i.top=n.top,i.width=n.width,i.height=n.height}else i.left=r._clientX,i.top=r._clientY,i.width=e._width,i.height=e._height;return i.right=i.left+i.width,i.bottom=i.top+i.height,i};N.prototype._requestItemScroll=function(e,t,i,r,s,n,o){var l=this._requests[t],h=l[e._id];h?(h.element!==i||h.direction!==r)&&h.reset():h=this._requestPool.pick(),h.item=e,h.element=i,h.direction=r,h.threshold=s,h.distance=n,h.maxValue=o,l[e._id]=h};N.prototype._cancelItemScroll=function(e,t){var i=this._requests[t],r=i[e._id];r&&(r.action&&r.action.removeRequest(r),this._requestPool.release(r),delete i[e._id])};N.prototype._checkItemOverlap=function(e,t,i){var r=si(e),s=B(r.targets)?r.targets(e):r.targets,n=r.threshold,o=r.safeZone;if(!s||!s.length){t&&this._cancelItemScroll(e,U),i&&this._cancelItemScroll(e,K);return}var l=this._dragDirections[e._id],h=l[0],g=l[1];if(!h&&!g){t&&this._cancelItemScroll(e,U),i&&this._cancelItemScroll(e,K);return}for(var m=this._getItemHandleRect(e,r.handle,xa),T=Da,v=null,y=null,w=!0,_=!0,b=0,p=0,f=null,c=null,a=0,d=0,u=0,A=null,D=-1/0,O=0,j=0,P=null,V=0,Y=0,$=null,Z=-1/0,Q=0,J=0,G=null,ct=0,ut=0,Tt=0;Tt<s.length;Tt++)v=s[Tt],w=t&&h&&v.axis!==K,_=i&&g&&v.axis!==U,p=v.priority||0,!((!w||p<D)&&(!_||p<Z))&&(y=Ta(v.element||v),d=w?wa(y):-1,u=_?Sa(y):-1,!(!d&&!u)&&(T=Ea(y,T),b=qi(m,T),!(b<=0)&&(w&&p>=D&&d>0&&(p>D||b>j)&&(c=null,f=Rr(typeof v.threshold=="number"?v.threshold:n,o,m.width,T.width),h===Qe?(a=T.right+f.offset-m.right,a<=f.value&&Ze(y)<d&&(c=Qe)):h===Ge&&(a=m.left-(T.left-f.offset),a<=f.value&&Ze(y)>0&&(c=Ge)),c!==null&&(A=y,D=p,O=f.value,j=b,P=c,V=a,Y=d)),_&&p>=Z&&u>0&&(p>Z||b>J)&&(c=null,f=Rr(typeof v.threshold=="number"?v.threshold:n,o,m.height,T.height),g===Hi?(a=T.bottom+f.offset-m.bottom,a<=f.value&&Ke(y)<u&&(c=Hi)):g===Je&&(a=m.top-(T.top-f.offset),a<=f.value&&Ke(y)>0&&(c=Je)),c!==null&&($=y,Z=p,Q=f.value,J=b,G=c,ct=a,ut=u)))));t&&(A?this._requestItemScroll(e,U,A,P,O,V,Y):this._cancelItemScroll(e,U)),i&&($?this._requestItemScroll(e,K,$,G,Q,ct,ut):this._cancelItemScroll(e,K))};N.prototype._updateScrollRequest=function(e){for(var t=e.item,i=si(t),r=B(i.targets)?i.targets(t):i.targets,s=r&&r.length||0,n=i.threshold,o=i.safeZone,l=this._getItemHandleRect(t,i.handle,xa),h=Da,g=null,m=null,T=!1,v=null,y=null,w=null,_=null,b=null,p=null,f=0;f<s;f++)if(g=r[f],m=Ta(g.element||g),m===e.element){if(T=!!(U&e.direction),T){if(g.axis===K)continue}else if(g.axis===U)continue;if(b=T?wa(m):Sa(m),b<=0||(h=Ea(m,h),v=qi(l,h),v<=0)||(y=Rr(typeof g.threshold=="number"?g.threshold:n,o,T?l.width:l.height,T?h.width:h.height),e.direction===Ge?w=l.left-(h.left-y.offset):e.direction===Qe?w=h.right+y.offset-l.right:e.direction===Je?w=l.top-(h.top-y.offset):w=h.bottom+y.offset-l.bottom,w>y.value)||(_=T?Ze(m):Ke(m),p=Me&e.direction?_>=b:_<=0,p))break;return e.maxValue=b,e.threshold=y.value,e.distance=w,e.isEnding=!1,!0}return i.smoothStop===!0&&e.speed>0?(p===null&&(p=e.hasReachedEnd()),e.isEnding=!p):e.isEnding=!1,e.isEnding};N.prototype._updateRequests=function(){for(var e=this._items,t=this._requests[U],i=this._requests[K],r,s,n,o,l,h,g,m=0;m<e.length;m++)r=e[m],o=this._requestOverlapCheck[r._id],l=o>0&&this._tickTime-o>this._overlapCheckInterval,h=!0,s=t[r._id],s&&s.isActive&&(h=!this._updateScrollRequest(s),h&&(l=!0,this._cancelItemScroll(r,U))),g=!0,n=i[r._id],n&&n.isActive&&(g=!this._updateScrollRequest(n),g&&(l=!0,this._cancelItemScroll(r,K))),l&&(this._requestOverlapCheck[r._id]=0,this._checkItemOverlap(r,h,g))};N.prototype._requestAction=function(e,t){for(var i=this._actions,r=t===U,s=null,n=0;n<i.length;n++){if(s=i[n],e.element!==s.element){s=null;continue}if(r?s.requestX:s.requestY){this._cancelItemScroll(e.item,t);return}break}s||(s=this._actionPool.pick()),s.element=e.element,s.addRequest(e),e.tick(this._tickDeltaTime),i.push(s)};N.prototype._updateActions=function(){var e=this._items,t=this._requests,i=this._actions,r,s,n,o;for(o=0;o<e.length;o++)r=e[o]._id,s=t[U][r],n=t[K][r],s&&this._requestAction(s,U),n&&this._requestAction(n,K);for(o=0;o<i.length;o++)i[o].computeScrollValues()};N.prototype._applyActions=function(){var e=this._actions,t=this._items,i;if(e.length){for(i=0;i<e.length;i++)e[i].scroll(),this._actionPool.release(e[i]);for(e.length=0,i=0;i<t.length;i++)fh(t[i]);for(i=0;i<t.length;i++)ph(t[i])}};N.prototype._updateDragDirection=function(e){var t=this._dragPositions[e._id],i=this._dragDirections[e._id],r=e._drag._left,s=e._drag._top;if(t.length){var n=t[0],o=t[1];i[0]=r>n?Qe:r<n?Ge:i[0]||0,i[1]=s>o?Hi:s<o?Je:i[1]||0}t[0]=r,t[1]=s};N.prototype.addItem=function(e){if(!this._isDestroyed){var t=this._items.indexOf(e);t===-1&&(this._items.push(e),this._requestOverlapCheck[e._id]=this._tickTime,this._dragDirections[e._id]=[0,0],this._dragPositions[e._id]=[],this._isTicking||this._startTicking())}};N.prototype.updateItem=function(e){this._isDestroyed||this._dragDirections[e._id]&&(this._updateDragDirection(e),this._requestOverlapCheck[e._id]||(this._requestOverlapCheck[e._id]=this._tickTime))};N.prototype.removeItem=function(e){if(!this._isDestroyed){var t=this._items.indexOf(e);if(t!==-1){var i=e._id,r=this._requests[U][i];r&&(this._cancelItemScroll(e,U),delete this._requests[U][i]);var s=this._requests[K][i];s&&(this._cancelItemScroll(e,K),delete this._requests[K][i]),delete this._requestOverlapCheck[i],delete this._dragPositions[i],delete this._dragDirections[i],this._items.splice(t,1),this._isTicking&&!this._items.length&&this._stopTicking()}}};N.prototype.isItemScrollingX=function(e){var t=this._requests[U][e._id];return!!(t&&t.isActive)};N.prototype.isItemScrollingY=function(e){var t=this._requests[K][e._id];return!!(t&&t.isActive)};N.prototype.isItemScrolling=function(e){return this.isItemScrollingX(e)||this.isItemScrollingY(e)};N.prototype.destroy=function(){if(!this._isDestroyed){for(var e=this._items.slice(0),t=0;t<e.length;t++)this.removeItem(e[t]);this._actions.length=0,this._requestPool.reset(),this._actionPool.reset(),this._isDestroyed=!0}};var Te=window.Element.prototype,_h=Te.matches||Te.matchesSelector||Te.webkitMatchesSelector||Te.mozMatchesSelector||Te.msMatchesSelector||Te.oMatchesSelector||function(){return!1};function rr(e,t){return _h.call(e,t)}function dt(e,t){t&&(e.classList?e.classList.add(t):rr(e,"."+t)||(e.className+=" "+t))}var qs=[],vh="number";function ps(e,t,i){var r=typeof i===vh?i:-1;r<0&&(r=e.length-r+1),e.splice.apply(e,qs.concat(r,0,t)),qs.length=0}function Oe(e,t,i){var r=Math.max(0,e.length-1+(i||0));return t>r?r:t<0?Math.max(r+t+1,0):t}function Aa(e,t,i){if(!(e.length<2)){var r=Oe(e,t),s=Oe(e,i);r!==s&&e.splice(s,0,e.splice(r,1)[0])}}function Oa(e,t,i){if(!(e.length<2)){var r=Oe(e,t),s=Oe(e,i),n;r!==s&&(n=e[r],e[r]=e[s],e[s]=n)}}var Ot=Ki(document.documentElement.style,"transform")||"transform",yh=/([A-Z])/g,bh=/^(webkit-|moz-|ms-|o-)/,Th=/^(-m-s-)/;function kr(e){var t=e.replace(yh,"-$1").toLowerCase();return t=t.replace(bh,"-$1"),t=t.replace(Th,"-ms-"),t}var Ia=kr(Ot),wh="none",Sh="inline",Eh="none",xh="display";function Dh(e){var t=at(e,Ia);if(!t||t===wh)return!1;var i=at(e,xh);return!(i===Sh||i===Eh)}function Pr(e){for(var t=document,i=e||t;i&&i!==t&&at(i,"position")==="static"&&!Dh(i);)i=i.parentElement||t;return i}var dr={},fr={},se={};function Ys(e,t){var i=t||{},r;return i.left=0,i.top=0,e===document||(i.left=window.pageXOffset||0,i.top=window.pageYOffset||0,e.self===window.self)||(r=e.getBoundingClientRect(),i.left+=r.left,i.top+=r.top,i.left+=mt(e,"border-left-width"),i.top+=mt(e,"border-top-width")),i}function Ie(e,t,i){return se.left=0,se.top=0,e===t||i&&(e=Pr(e),t=Pr(t),e===t)||(Ys(e,dr),Ys(t,fr),se.left=fr.left-dr.left,se.top=fr.top-dr.top),se}function pr(e){return e==="auto"||e==="scroll"||e==="overlay"}function Ah(e){return pr(at(e,"overflow"))||pr(at(e,"overflow-x"))||pr(at(e,"overflow-y"))}function $s(e,t){for(t=t||[];e&&e!==document;){if(e.getRootNode&&e instanceof DocumentFragment){e=e.getRootNode().host;continue}Ah(e)&&t.push(e),e=e.parentNode}return t.push(window),t}var we={},Oh="none",Ih=/^matrix3d/,Ch=/([^,]*,){4}/,Lh=/([^,]*,){12}/,Rh=/[^,]*,/;function Bt(e){we.x=0,we.y=0;var t=at(e,Ia);if(!t||t===Oh)return we;var i=Ih.test(t),r=t.replace(i?Lh:Ch,""),s=r.replace(Rh,"");return we.x=parseFloat(r)||0,we.y=parseFloat(s)||0,we}function tt(e,t){t&&(e.classList?e.classList.remove(t):rr(e,"."+t)&&(e.className=(" "+e.className+" ").replace(" "+t+" "," ").trim()))}var kh=/^(iPad|iPhone|iPod)/.test(window.navigator.platform)||/^Mac/.test(window.navigator.platform)&&window.navigator.maxTouchPoints>1,Yi=0,Mr=1,$i=2,Ca=Un()?{passive:!0}:!1;function k(e){var t=e._element,i=e.getGrid(),r=i._settings;this._item=e,this._gridId=i._id,this._isDestroyed=!1,this._isMigrating=!1,this._startPredicate=B(r.dragStartPredicate)?r.dragStartPredicate:k.defaultStartPredicate,this._startPredicateState=Yi,this._startPredicateResult=void 0,this._isSortNeeded=!1,this._sortTimer=void 0,this._blockedSortIndex=null,this._sortX1=0,this._sortX2=0,this._sortY1=0,this._sortY2=0,this._reset(),this._preStartCheck=this._preStartCheck.bind(this),this._preEndCheck=this._preEndCheck.bind(this),this._onScroll=this._onScroll.bind(this),this._prepareStart=this._prepareStart.bind(this),this._applyStart=this._applyStart.bind(this),this._prepareMove=this._prepareMove.bind(this),this._applyMove=this._applyMove.bind(this),this._prepareScroll=this._prepareScroll.bind(this),this._applyScroll=this._applyScroll.bind(this),this._handleSort=this._handleSort.bind(this),this._handleSortDelayed=this._handleSortDelayed.bind(this),this._handle=r.dragHandle&&t.querySelector(r.dragHandle)||t,this._dragger=new x(this._handle,r.dragCssProps),this._dragger.on("start",this._preStartCheck),this._dragger.on("move",this._preStartCheck),this._dragger.on("cancel",this._preEndCheck),this._dragger.on("end",this._preEndCheck)}k.autoScroller=new N;k.defaultStartPredicate=function(e,t,i){var r=e._drag;if(t.isFirst&&t.srcEvent.button||!kh&&t.isFirst&&t.srcEvent.isTrusted===!0&&t.srcEvent.defaultPrevented===!1&&t.srcEvent.cancelable===!1)return!1;if(t.isFinal){r._finishStartPredicate(t);return}var s=r._startPredicateData;if(!s){var n=i||r._getGrid()._settings.dragStartPredicate||{};r._startPredicateData=s={distance:Math.max(n.distance,0)||0,delay:Math.max(n.delay,0)||0}}return s.delay&&(s.event=t,s.delayTimer||(s.delayTimer=window.setTimeout(function(){s.delay=0,r._resolveStartPredicate(s.event)&&(r._forceResolveStartPredicate(s.event),r._resetStartPredicate())},s.delay))),r._resolveStartPredicate(t)};k.defaultSortPredicate=function(){var e={},t={},i={},r=[],s=1,n=100;function o(l,h,g){var m=null,T=h._settings.dragSort,v=-1,y,w,_,b,p,f,c,a,d,u;if(T===!0?(r[0]=h,w=r):B(T)&&(w=T.call(h,l)),!w||!Array.isArray(w)||!w.length)return m;for(u=0;u<w.length;u++)if(_=w[u],!_._isDestroyed){for(_._updateBoundingRect(),f=Math.max(0,_._left),c=Math.max(0,_._top),a=Math.min(window.innerWidth,_._right),d=Math.min(window.innerHeight,_._bottom),b=_._element.parentNode;b&&b!==document&&b!==document.documentElement&&b!==document.body;){if(b.getRootNode&&b instanceof DocumentFragment){b=b.getRootNode().host;continue}if(at(b,"overflow")!=="visible"&&(p=b.getBoundingClientRect(),f=Math.max(f,p.left),c=Math.max(c,p.top),a=Math.min(a,p.right),d=Math.min(d,p.bottom)),at(b,"position")==="fixed")break;b=b.parentNode}f>=a||c>=d||(t.left=f,t.top=c,t.width=a-f,t.height=d-c,y=qi(e,t),y>g&&y>v&&(v=y,m=_))}return r.length=0,m}return function(l,h){var g=l._drag,m=g._getGrid(),T=h&&typeof h.threshold=="number"?h.threshold:50,v=h&&h.action===At?At:de,y=h&&h.migrateAction===At?At:de;T=Math.min(Math.max(T,s),n),e.width=l._width,e.height=l._height,e.left=g._clientX,e.top=g._clientY;var w=o(l,m,T);if(!w)return null;var _=l.getGrid()!==w,b=0,p=0,f=0,c=-1,a=!1,d,u,A;for(w===m?(e.left=g._gridX+l._marginLeft,e.top=g._gridY+l._marginTop):(w._updateBorders(1,0,1,0),b=w._left+w._borderLeft,p=w._top+w._borderTop),A=0;A<w._items.length;A++)d=w._items[A],!(!d._isActive||d===l)&&(a=!0,t.width=d._width,t.height=d._height,t.left=d._left+d._marginLeft+b,t.top=d._top+d._marginTop+p,u=qi(e,t),u>f&&(c=A,f=u));return _&&f<T&&(c=a?c:0,f=T),f>=T?(i.grid=w,i.index=c,i.action=_?y:v,i):null}}();k.prototype.stop=function(){if(this._isActive){if(this._isMigrating){this._finishMigration();return}var e=this._item,t=e._id;if(k.autoScroller.removeItem(e),ma(t),_a(t),va(t),this._cancelSort(),this._isStarted){this._unbindScrollListeners();var i=e._element,r=this._getGrid(),s=r._settings.itemDraggingClass;i.parentNode!==r._element&&(r._element.appendChild(i),e._setTranslate(this._gridX,this._gridY),s&&i.clientWidth),tt(i,s)}this._reset()}};k.prototype.sort=function(e){var t=this._item;this._isActive&&t._isActive&&this._dragMoveEvent&&(e===!0?this._handleSort():ir(t._id,this._handleSort))};k.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._dragger.destroy(),k.autoScroller.removeItem(this._item),this._isDestroyed=!0)};k.prototype._getGrid=function(){return Ji[this._gridId]||null};k.prototype._reset=function(){this._isActive=!1,this._isStarted=!1,this._container=null,this._containingBlock=null,this._dragStartEvent=null,this._dragMoveEvent=null,this._dragPrevMoveEvent=null,this._scrollEvent=null,this._scrollers=[],this._left=0,this._top=0,this._gridX=0,this._gridY=0,this._clientX=0,this._clientY=0,this._scrollDiffX=0,this._scrollDiffY=0,this._moveDiffX=0,this._moveDiffY=0,this._containerDiffX=0,this._containerDiffY=0};k.prototype._bindScrollListeners=function(){var e=this._getGrid()._element,t=this._container,i=this._scrollers,r,s;if(i.length=0,$s(this._item._element.parentNode,i),t!==e)for(r=[],$s(e,r),s=0;s<r.length;s++)i.indexOf(r[s])<0&&i.push(r[s]);for(s=0;s<i.length;s++)i[s].addEventListener("scroll",this._onScroll,Ca)};k.prototype._unbindScrollListeners=function(){var e=this._scrollers,t;for(t=0;t<e.length;t++)e[t].removeEventListener("scroll",this._onScroll,Ca);e.length=0};k.prototype._resolveStartPredicate=function(e){var t=this._startPredicateData;if(!(e.distance<t.distance||t.delay))return this._resetStartPredicate(),!0};k.prototype._forceResolveStartPredicate=function(e){!this._isDestroyed&&this._startPredicateState===Mr&&(this._startPredicateState=$i,this._onStart(e))};k.prototype._finishStartPredicate=function(e){var t=this._item._element,i=Math.abs(e.deltaX)<2&&Math.abs(e.deltaY)<2&&e.deltaTime<200;this._resetStartPredicate(),i&&Ph(t)};k.prototype._resetHeuristics=function(e,t){this._blockedSortIndex=null,this._sortX1=this._sortX2=e,this._sortY1=this._sortY2=t};k.prototype._checkHeuristics=function(e,t){var i=this._getGrid()._settings.dragSortHeuristics,r=i.minDragDistance;if(r<=0)return this._blockedSortIndex=null,!0;var s=e-this._sortX2,n=t-this._sortY2,o=r>3&&i.minBounceBackAngle>0;if(o||(this._blockedSortIndex=null),Math.abs(s)>r||Math.abs(n)>r){if(o){var l=Math.atan2(s,n),h=Math.atan2(this._sortX2-this._sortX1,this._sortY2-this._sortY1),g=Math.atan2(Math.sin(l-h),Math.cos(l-h));Math.abs(g)>i.minBounceBackAngle&&(this._blockedSortIndex=null)}return this._sortX1=this._sortX2,this._sortY1=this._sortY2,this._sortX2=e,this._sortY2=t,!0}return!1};k.prototype._resetStartPredicate=function(){var e=this._startPredicateData;e&&(e.delayTimer&&(e.delayTimer=window.clearTimeout(e.delayTimer)),this._startPredicateData=null)};k.prototype._handleSort=function(){if(this._isActive){var e=this._getGrid()._settings;if(!e.dragSort||!e.dragAutoScroll.sortDuringScroll&&k.autoScroller.isItemScrolling(this._item)){this._sortX1=this._sortX2=this._gridX,this._sortY1=this._sortY2=this._gridY,this._isSortNeeded=!0,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer));return}var t=this._checkHeuristics(this._gridX,this._gridY);if(!(!this._isSortNeeded&&!t)){var i=e.dragSortHeuristics.sortInterval;i<=0||this._isSortNeeded?(this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),this._checkOverlap()):this._sortTimer===void 0&&(this._sortTimer=window.setTimeout(this._handleSortDelayed,i))}}};k.prototype._handleSortDelayed=function(){this._isSortNeeded=!0,this._sortTimer=void 0,ir(this._item._id,this._handleSort)};k.prototype._cancelSort=function(){this._isSortNeeded=!1,this._sortTimer!==void 0&&(this._sortTimer=window.clearTimeout(this._sortTimer)),sh(this._item._id)};k.prototype._finishSort=function(){var e=this._getGrid()._settings.dragSort,t=e&&(this._isSortNeeded||this._sortTimer!==void 0);this._cancelSort(),t&&this._checkOverlap()};k.prototype._checkOverlap=function(){if(this._isActive){var e=this._item,t=this._getGrid()._settings,i,r,s,n,o,l,h,g;B(t.dragSortPredicate)?i=t.dragSortPredicate(e,this._dragMoveEvent):i=k.defaultSortPredicate(e,t.dragSortPredicate),!(!i||typeof i.index!="number")&&(h=i.action===At?At:de,r=e.getGrid(),n=i.grid||r,g=r!==n,s=r._items.indexOf(e),o=Oe(n._items,i.index,g&&h===de?1:0),!(!g&&o===this._blockedSortIndex)&&(g?(this._blockedSortIndex=null,l=n._items[o],r._hasListeners(Qt)&&r._emit(Qt,{item:e,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),n._hasListeners(Ni)&&n._emit(Ni,{item:e,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),e._gridId=n._id,this._isMigrating=e._gridId!==this._gridId,r._items.splice(s,1),ps(n._items,e,o),e._sortData=null,r._hasListeners(Vi)&&r._emit(Vi,{item:e,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),n._hasListeners(zi)&&n._emit(zi,{item:e,fromGrid:r,fromIndex:s,toGrid:n,toIndex:o}),h===At&&l&&l.isActive()&&n._items.indexOf(l)>-1&&n.send(l,r,s,{appendTo:this._container||document.body,layoutSender:!1,layoutReceiver:!1}),r.layout(),n.layout()):s!==o&&(this._blockedSortIndex=s,(h===At?Oa:Aa)(r._items,s,o),r._hasListeners(Bi)&&r._emit(Bi,{item:e,fromIndex:s,toIndex:o,action:h}),r.layout())))}};k.prototype._finishMigration=function(){var e=this._item,t=e._dragRelease,i=e._element,r=e._isActive,s=e.getGrid(),n=s._element,o=s._settings,l=o.dragContainer||n,h=this._getGrid()._settings,g=i.parentNode,m=r?h.itemVisibleClass:h.itemHiddenClass,T=r?o.itemVisibleClass:o.itemHiddenClass,v,y;this._isMigrating=!1,this.destroy(),h.itemClass!==o.itemClass&&(tt(i,h.itemClass),dt(i,o.itemClass)),m!==T&&(tt(i,m),dt(i,T)),l!==g&&(l.appendChild(i),y=Ie(g,l,!0),v=Bt(i),v.x-=y.left,v.y-=y.top),e._refreshDimensions(),y=Ie(l,n,!0),t._containerDiffX=y.left,t._containerDiffY=y.top,e._drag=o.dragEnabled?new k(e):null,l!==g&&e._setTranslate(v.x,v.y),e._visibility.setStyles(r?o.visibleStyles:o.hiddenStyles),t.start()};k.prototype._preStartCheck=function(e){this._startPredicateState===Yi&&(this._startPredicateState=Mr),this._startPredicateState===Mr?(this._startPredicateResult=this._startPredicate(this._item,e),this._startPredicateResult===!0?(this._startPredicateState=$i,this._onStart(e)):this._startPredicateResult===!1&&(this._resetStartPredicate(e),this._dragger._reset(),this._startPredicateState=Yi)):this._startPredicateState===$i&&this._isActive&&this._onMove(e)};k.prototype._preEndCheck=function(e){var t=this._startPredicateState===$i;this._startPredicate(this._item,e),this._startPredicateState=Yi,!(!t||!this._isActive)&&(this._isStarted?this._onEnd(e):this.stop())};k.prototype._onStart=function(e){var t=this._item;t._isActive&&(this._isActive=!0,this._dragStartEvent=e,k.autoScroller.addItem(t),eh(t._id,this._prepareStart,this._applyStart))};k.prototype._prepareStart=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=e._element,i=this._getGrid(),r=i._settings,s=i._element,n=r.dragContainer||s,o=Pr(n),l=Bt(t),h=t.getBoundingClientRect(),g=n!==s;if(this._container=n,this._containingBlock=o,this._clientX=h.left,this._clientY=h.top,this._left=this._gridX=l.x,this._top=this._gridY=l.y,this._scrollDiffX=this._scrollDiffY=0,this._moveDiffX=this._moveDiffY=0,this._resetHeuristics(this._gridX,this._gridY),g){var m=Ie(o,s);this._containerDiffX=m.left,this._containerDiffY=m.top}}}};k.prototype._applyStart=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=this._getGrid(),i=e._element,r=e._dragRelease,s=e._migrate,n=this._container!==t._element;e.isPositioning()&&e._layout.stop(!0,this._left,this._top),s._isActive&&(this._left-=s._containerDiffX,this._top-=s._containerDiffY,this._gridX-=s._containerDiffX,this._gridY-=s._containerDiffY,s.stop(!0,this._left,this._top)),e.isReleasing()&&r._reset(),t._settings.dragPlaceholder.enabled&&e._dragPlaceholder.create(),this._isStarted=!0,t._emit(Bl,e,this._dragStartEvent),n&&(i.parentNode===this._container?(this._gridX-=this._containerDiffX,this._gridY-=this._containerDiffY):(this._left+=this._containerDiffX,this._top+=this._containerDiffY,this._container.appendChild(i),e._setTranslate(this._left,this._top))),dt(i,t._settings.itemDraggingClass),this._bindScrollListeners(),t._emit(Vl,e,this._dragStartEvent)}}};k.prototype._onMove=function(e){var t=this._item;if(!t._isActive){this.stop();return}this._dragMoveEvent=e,ih(t._id,this._prepareMove,this._applyMove),ir(t._id,this._handleSort)};k.prototype._prepareMove=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=this._getGrid()._settings,i=t.dragAxis,r=this._dragMoveEvent,s=this._dragPrevMoveEvent||this._dragStartEvent||r;if(i!=="y"){var n=r.clientX-s.clientX;this._left=this._left-this._moveDiffX+n,this._gridX=this._gridX-this._moveDiffX+n,this._clientX=this._clientX-this._moveDiffX+n,this._moveDiffX=n}if(i!=="x"){var o=r.clientY-s.clientY;this._top=this._top-this._moveDiffY+o,this._gridY=this._gridY-this._moveDiffY+o,this._clientY=this._clientY-this._moveDiffY+o,this._moveDiffY=o}this._dragPrevMoveEvent=r}}};k.prototype._applyMove=function(){if(this._isActive){var e=this._item;e._isActive&&(this._moveDiffX=this._moveDiffY=0,e._setTranslate(this._left,this._top),this._getGrid()._emit(zl,e,this._dragMoveEvent),k.autoScroller.updateItem(e))}};k.prototype._onScroll=function(e){var t=this._item;if(!t._isActive){this.stop();return}this._scrollEvent=e,rh(t._id,this._prepareScroll,this._applyScroll),ir(t._id,this._handleSort)};k.prototype._prepareScroll=function(){if(this._isActive){var e=this._item;if(e._isActive){var t=e._element,i=this._getGrid(),r=i._element,s=t.getBoundingClientRect();if(this._container!==r){var n=Ie(this._containingBlock,r);this._containerDiffX=n.left,this._containerDiffY=n.top}var o=this._clientX-this._moveDiffX-s.left;this._left=this._left-this._scrollDiffX+o,this._scrollDiffX=o;var l=this._clientY-this._moveDiffY-s.top;this._top=this._top-this._scrollDiffY+l,this._scrollDiffY=l,this._gridX=this._left-this._containerDiffX,this._gridY=this._top-this._containerDiffY}}};k.prototype._applyScroll=function(){if(this._isActive){var e=this._item;e._isActive&&(this._scrollDiffX=this._scrollDiffY=0,e._setTranslate(this._left,this._top),this._getGrid()._emit(Nl,e,this._scrollEvent))}};k.prototype._onEnd=function(e){var t=this._item,i=t._element,r=this._getGrid(),s=r._settings,n=t._dragRelease;if(!t._isActive){this.stop();return}ma(t._id),_a(t._id),va(t._id),this._finishSort(),this._unbindScrollListeners(),n._containerDiffX=this._containerDiffX,n._containerDiffY=this._containerDiffY,this._reset(),tt(i,s.itemDraggingClass),k.autoScroller.removeItem(t),r._emit(Hl,t,e),this._isMigrating?this._finishMigration():n.start()};function Ph(e){if(e.tagName.toLowerCase()==="a"){var t=e.getAttribute("href");if(t){var i=e.getAttribute("target");i&&i!=="_self"?window.open(t,i):window.location.href=t}}}function La(e,t){var i={},r,s;if(Array.isArray(t))for(s=0;s<t.length;s++)r=t[s],i[r]=at(e,kr(r));else for(r in t)i[r]=at(e,kr(r));return i}var Mh=/^(webkit|moz|ms|o|Webkit|Moz|MS|O)(?=[A-Z])/,Fs={};function jh(e){var t=Fs[e];return t||(t=e.replace(Mh,""),t!==e&&(t=t[0].toLowerCase()+t.slice(1)),Fs[e]=t,t)}var Bh="[native code]";function Vh(e){var t=window.Symbol;return!!(e&&B(t)&&B(t.toString)&&t(e).toString().indexOf(Bh)>-1)}function Ce(e,t){for(var i in t)e.style[i]=t[i]}var zh=!!(Element&&B(Element.prototype.animate)),Xs=!!(Element&&Vh(Element.prototype.animate));function Lt(e){this._element=e,this._animation=null,this._duration=0,this._easing="",this._callback=null,this._props=[],this._values=[],this._isDestroyed=!1,this._onFinish=this._onFinish.bind(this)}Lt.prototype.start=function(e,t,i){if(!this._isDestroyed){var r=this._element,s=i||{};if(!zh){Ce(r,t),this._callback=B(s.onFinish)?s.onFinish:null,this._onFinish();return}var n=this._animation,o=this._props,l=this._values,h=s.duration||300,g=s.easing||"ease",m=!1,T,v,y;if(n&&(v=0,(h!==this._duration||g!==this._easing)&&(m=!0),!m)){for(T in t)if(++v,y=o.indexOf(T),y===-1||t[T]!==l[y]){m=!0;break}v!==o.length&&(m=!0)}if(m&&n.cancel(),this._callback=B(s.onFinish)?s.onFinish:null,!(n&&!m)){o.length=l.length=0;for(T in t)o.push(T),l.push(t[T]);this._duration=h,this._easing=g,this._animation=r.animate([Ws(e,Xs),Ws(t,Xs)],{duration:h,easing:g}),this._animation.onfinish=this._onFinish,Ce(r,t)}}};Lt.prototype.stop=function(){this._isDestroyed||!this._animation||(this._animation.cancel(),this._animation=this._callback=null,this._props.length=this._values.length=0)};Lt.prototype.getCurrentStyles=function(){return La(element,currentProps)};Lt.prototype.isAnimating=function(){return!!this._animation};Lt.prototype.destroy=function(){this._isDestroyed||(this.stop(),this._element=null,this._isDestroyed=!0)};Lt.prototype._onFinish=function(){var e=this._callback;this._animation=this._callback=null,this._props.length=this._values.length=0,e&&e()};function Ws(e,t){var i={};for(var r in e)i[t?r:jh(r)]=e[r];return i}function Wt(e,t){return"translateX("+e+"px) translateY("+t+"px)"}function rt(e){this._item=e,this._animation=new Lt,this._element=null,this._className="",this._didMigrate=!1,this._resetAfterLayout=!1,this._left=0,this._top=0,this._transX=0,this._transY=0,this._nextTransX=0,this._nextTransY=0,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this),this._updateDimensions=this._updateDimensions.bind(this),this._onLayoutStart=this._onLayoutStart.bind(this),this._onLayoutEnd=this._onLayoutEnd.bind(this),this._onReleaseEnd=this._onReleaseEnd.bind(this),this._onMigrate=this._onMigrate.bind(this),this._onHide=this._onHide.bind(this)}rt.prototype._updateDimensions=function(){this.isActive()&&Ce(this._element,{width:this._item._width+"px",height:this._item._height+"px"})};rt.prototype._onLayoutStart=function(e,t){var i=this._item;if(e.indexOf(i)===-1){this.reset();return}var r=i._left,s=i._top,n=this._left,o=this._top;if(this._left=r,this._top=s,!(!t&&!this._didMigrate&&n===r&&o===s)){var l=r+i._marginLeft,h=s+i._marginTop,g=i.getGrid(),m=!t&&g._settings.layoutDuration>0;if(!m||this._didMigrate){ya(i._id),this._element.style[Ot]=Wt(l,h),this._animation.stop(),this._didMigrate&&(g.getElement().appendChild(this._element),this._didMigrate=!1);return}this._nextTransX=l,this._nextTransY=h,nh(i._id,this._setupAnimation,this._startAnimation)}};rt.prototype._setupAnimation=function(){if(this.isActive()){var e=Bt(this._element);this._transX=e.x,this._transY=e.y}};rt.prototype._startAnimation=function(){if(this.isActive()){var e=this._animation,t=this._transX,i=this._transY,r=this._nextTransX,s=this._nextTransY;if(t===r&&i===s){e.isAnimating()&&(this._element.style[Ot]=Wt(r,s),e.stop());return}var n=this._item.getGrid()._settings,o={},l={};o[Ot]=Wt(t,i),l[Ot]=Wt(r,s),e.start(o,l,{duration:n.layoutDuration,easing:n.layoutEasing,onFinish:this._onLayoutEnd})}};rt.prototype._onLayoutEnd=function(){this._resetAfterLayout&&this.reset()};rt.prototype._onReleaseEnd=function(e){if(e._id===this._item._id){if(!this._animation.isAnimating()){this.reset();return}this._resetAfterLayout=!0}};rt.prototype._onMigrate=function(e){if(e.item===this._item){var t=this._item.getGrid(),i=e.toGrid;t.off(Ue,this._onReleaseEnd),t.off(Gt,this._onLayoutStart),t.off(Qt,this._onMigrate),t.off(We,this._onHide),i.on(Ue,this._onReleaseEnd),i.on(Gt,this._onLayoutStart),i.on(Qt,this._onMigrate),i.on(We,this._onHide),this._didMigrate=!0}};rt.prototype._onHide=function(e){e.indexOf(this._item)>-1&&this.reset()};rt.prototype.create=function(){if(this.isActive()){this._resetAfterLayout=!1;return}var e=this._item,t=e.getGrid(),i=t._settings,r=this._animation;this._left=e._left,this._top=e._top;var s;B(i.dragPlaceholder.createElement)?s=i.dragPlaceholder.createElement(e):s=document.createElement("div"),this._element=s,r._element=s,this._className=i.itemPlaceholderClass||"",this._className&&dt(s,this._className),Ce(s,{position:"absolute",left:"0px",top:"0px",width:e._width+"px",height:e._height+"px"}),s.style[Ot]=Wt(e._left+e._marginLeft,e._top+e._marginTop),t.on(Gt,this._onLayoutStart),t.on(Ue,this._onReleaseEnd),t.on(Qt,this._onMigrate),t.on(We,this._onHide),B(i.dragPlaceholder.onCreate)&&i.dragPlaceholder.onCreate(e,s),t.getElement().appendChild(s)};rt.prototype.reset=function(){if(this.isActive()){var e=this._element,t=this._item,i=t.getGrid(),r=i._settings,s=this._animation;this._resetAfterLayout=!1,ya(t._id),oh(t._id),s.stop(),s._element=null,i.off(Ue,this._onReleaseEnd),i.off(Gt,this._onLayoutStart),i.off(Qt,this._onMigrate),i.off(We,this._onHide),this._className&&(tt(e,this._className),this._className=""),e.parentNode.removeChild(e),this._element=null,B(r.dragPlaceholder.onRemove)&&r.dragPlaceholder.onRemove(t,e)}};rt.prototype.isActive=function(){return!!this._element};rt.prototype.getElement=function(){return this._element};rt.prototype.updateDimensions=function(){this.isActive()&&ah(this._item._id,this._updateDimensions)};rt.prototype.destroy=function(){this.reset(),this._animation.destroy(),this._item=this._animation=null};function Kt(e){this._item=e,this._isActive=!1,this._isDestroyed=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0}Kt.prototype.start=function(){if(!(this._isDestroyed||this._isActive)){var e=this._item,t=e.getGrid(),i=t._settings;this._isActive=!0,dt(e._element,i.itemReleasingClass),i.dragRelease.useDragContainer||this._placeToGrid(),t._emit(ql,e),t._nextLayoutData||e._layout.start(!1)}};Kt.prototype.stop=function(e,t,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item,s=r.getGrid();!e&&(t===void 0||i===void 0)&&(t=r._left,i=r._top);var n=this._placeToGrid(t,i);this._reset(n),e||s._emit(Ue,r)}};Kt.prototype.isJustReleased=function(){return this._isActive&&this._isPositioningStarted===!1};Kt.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};Kt.prototype._placeToGrid=function(e,t){if(!this._isDestroyed){var i=this._item,r=i._element,s=i.getGrid()._element,n=!1;if(r.parentNode!==s){if(e===void 0||t===void 0){var o=Bt(r);e=o.x-this._containerDiffX,t=o.y-this._containerDiffY}s.appendChild(r),i._setTranslate(e,t),n=!0}return this._containerDiffX=0,this._containerDiffY=0,n}};Kt.prototype._reset=function(e){if(!this._isDestroyed){var t=this._item,i=t.getGrid()._settings.itemReleasingClass;this._isActive=!1,this._isPositioningStarted=!1,this._containerDiffX=0,this._containerDiffY=0,i&&(e&&t._element.clientWidth,tt(t._element,i))}};var Us=2;function Ht(e){var t=e._element,i=t.style;this._item=e,this._isActive=!1,this._isDestroyed=!1,this._isInterrupted=!1,this._currentStyles={},this._targetStyles={},this._nextLeft=0,this._nextTop=0,this._offsetLeft=0,this._offsetTop=0,this._skipNextAnimation=!1,this._animOptions={onFinish:this._finish.bind(this),duration:0,easing:0},i.left="0px",i.top="0px",e._setTranslate(0,0),this._animation=new Lt(t),this._queue="layout-"+e._id,this._setupAnimation=this._setupAnimation.bind(this),this._startAnimation=this._startAnimation.bind(this)}Ht.prototype.start=function(e,t){if(!this._isDestroyed){var i=this._item,r=i._dragRelease,s=i.getGrid()._settings,n=this._isActive,o=r.isJustReleased(),l=o?s.dragRelease.duration:s.layoutDuration,h=o?s.dragRelease.easing:s.layoutEasing,g=!e&&!this._skipNextAnimation&&l>0;if(n&&(pa(i._id),i._emitter.burst(this._queue,!0,i)),o&&(r._isPositioningStarted=!0),B(t)&&i._emitter.on(this._queue,t),this._skipNextAnimation=!1,!g){this._updateOffsets(),i._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._animation.isAnimating()&&(this._animation._animation.onfinish=null),this._isActive=!0,this._animOptions.easing=h,this._animOptions.duration=l,this._isInterrupted=n,Kl(i._id,this._setupAnimation,this._startAnimation)}};Ht.prototype.stop=function(e,t,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item;if(pa(r._id),this._animation.isAnimating()){if(t===void 0||i===void 0){var s=Bt(r._element);t=s.x,i=s.y}r._setTranslate(t,i),this._animation.stop()}tt(r._element,r.getGrid()._settings.itemPositioningClass),this._isActive=!1,e&&r._emitter.burst(this._queue,!0,r)}};Ht.prototype.destroy=function(){if(!this._isDestroyed){var e=this._item._element.style;this.stop(!0,0,0),this._item._emitter.clear(this._queue),this._animation.destroy(),e[Ot]="",e.left="",e.top="",this._item=null,this._currentStyles=null,this._targetStyles=null,this._animOptions=null,this._isDestroyed=!0}};Ht.prototype._updateOffsets=function(){if(!this._isDestroyed){var e=this._item,t=e._migrate,i=e._dragRelease;this._offsetLeft=i._isActive?i._containerDiffX:t._isActive?t._containerDiffX:0,this._offsetTop=i._isActive?i._containerDiffY:t._isActive?t._containerDiffY:0,this._nextLeft=this._item._left+this._offsetLeft,this._nextTop=this._item._top+this._offsetTop}};Ht.prototype._finish=function(){if(!this._isDestroyed){var e=this._item,t=e._migrate,i=e._dragRelease;e._tX=this._nextLeft,e._tY=this._nextTop,this._isActive&&(this._isActive=!1,tt(e._element,e.getGrid()._settings.itemPositioningClass)),i._isActive&&i.stop(),t._isActive&&t.stop(),e._emitter.burst(this._queue,!1,e)}};Ht.prototype._setupAnimation=function(){var e=this._item;if(e._tX===void 0||e._tY===void 0){var t=Bt(e._element);e._tX=t.x,e._tY=t.y}};Ht.prototype._startAnimation=function(){var e=this._item,t=e.getGrid()._settings,i=this._animOptions.duration<=0;this._updateOffsets();var r=Math.abs(e._left-(e._tX-this._offsetLeft)),s=Math.abs(e._top-(e._tY-this._offsetTop));if(i||r<Us&&s<Us){(r||s||this._isInterrupted)&&e._setTranslate(this._nextLeft,this._nextTop),this._animation.stop(),this._finish();return}this._isInterrupted||dt(e._element,t.itemPositioningClass),this._currentStyles[Ot]=Wt(e._tX,e._tY),this._targetStyles[Ot]=Wt(this._nextLeft,this._nextTop),e._tX=e._tY=void 0,this._animation.start(this._currentStyles,this._targetStyles,this._animOptions)};function ni(e){this._item=e,this._isActive=!1,this._isDestroyed=!1,this._container=!1,this._containerDiffX=0,this._containerDiffY=0}ni.prototype.start=function(e,t,i){if(!this._isDestroyed){var r=this._item,s=r._element,n=r.isActive(),o=r.isVisible(),l=r.getGrid(),h=l._settings,g=e._settings,m=e._element,T=e._items,v=l._items.indexOf(r),y=i||document.body,w,_,b,p,f,c,a,d,u,A;if(typeof t=="number")w=Oe(T,t,1);else{if(_=e.getItem(t),!_)return;w=T.indexOf(_)}(r.isPositioning()||this._isActive||r.isReleasing())&&(c=Bt(s),a=c.x,d=c.y),r.isPositioning()&&r._layout.stop(!0,a,d),this._isActive&&(a-=this._containerDiffX,d-=this._containerDiffY,this.stop(!0,a,d)),r.isReleasing()&&(a-=r._dragRelease._containerDiffX,d-=r._dragRelease._containerDiffY,r._dragRelease.stop(!0,a,d)),r._visibility.stop(!0),r._drag&&r._drag.destroy(),l._hasListeners(Qt)&&l._emit(Qt,{item:r,fromGrid:l,fromIndex:v,toGrid:e,toIndex:w}),e._hasListeners(Ni)&&e._emit(Ni,{item:r,fromGrid:l,fromIndex:v,toGrid:e,toIndex:w}),h.itemClass!==g.itemClass&&(tt(s,h.itemClass),dt(s,g.itemClass)),u=o?h.itemVisibleClass:h.itemHiddenClass,A=o?g.itemVisibleClass:g.itemHiddenClass,u!==A&&(tt(s,u),dt(s,A)),l._items.splice(v,1),ps(T,r,w),r._gridId=e._id,n?(b=s.parentNode,y!==b&&(y.appendChild(s),p=Ie(y,b,!0),c||(c=Bt(s),a=c.x,d=c.y),r._setTranslate(a+p.left,d+p.top))):m.appendChild(s),r._visibility.setStyles(o?g.visibleStyles:g.hiddenStyles),n&&(f=Ie(y,m,!0)),r._refreshDimensions(),r._sortData=null,r._drag=g.dragEnabled?new k(r):null,n?(this._isActive=!0,this._container=y,this._containerDiffX=f.left,this._containerDiffY=f.top):(this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0),l._hasListeners(Vi)&&l._emit(Vi,{item:r,fromGrid:l,fromIndex:v,toGrid:e,toIndex:w}),e._hasListeners(zi)&&e._emit(zi,{item:r,fromGrid:l,fromIndex:v,toGrid:e,toIndex:w})}};ni.prototype.stop=function(e,t,i){if(!(this._isDestroyed||!this._isActive)){var r=this._item,s=r._element,n=r.getGrid(),o=n._element,l;this._container!==o&&((t===void 0||i===void 0)&&(e?(l=Bt(s),t=l.x-this._containerDiffX,i=l.y-this._containerDiffY):(t=r._left,i=r._top)),o.appendChild(s),r._setTranslate(t,i)),this._isActive=!1,this._container=null,this._containerDiffX=0,this._containerDiffY=0}};ni.prototype.destroy=function(){this._isDestroyed||(this.stop(!0),this._item=null,this._isDestroyed=!0)};function Et(e){var t=e._isActive,i=e._element,r=i.children[0],s=e.getGrid()._settings;if(!r)throw new Error("No valid child element found within item element.");this._item=e,this._isDestroyed=!1,this._isHidden=!t,this._isHiding=!1,this._isShowing=!1,this._childElement=r,this._currentStyleProps=[],this._animation=new Lt(r),this._queue="visibility-"+e._id,this._finishShow=this._finishShow.bind(this),this._finishHide=this._finishHide.bind(this),i.style.display=t?"":"none",dt(i,t?s.itemVisibleClass:s.itemHiddenClass),this.setStyles(t?s.visibleStyles:s.hiddenStyles)}Et.prototype.show=function(e,t){if(!this._isDestroyed){var i=this._item,r=i._element,s=B(t)?t:null,n=i.getGrid(),o=n._settings;if(!this._isShowing&&!this._isHidden){s&&s(!1,i);return}if(this._isShowing&&!e){s&&i._emitter.on(this._queue,s);return}this._isShowing||(i._emitter.burst(this._queue,!0,i),tt(r,o.itemHiddenClass),dt(r,o.itemVisibleClass),this._isHiding||(r.style.display="")),s&&i._emitter.on(this._queue,s),this._isShowing=!0,this._isHiding=this._isHidden=!1,this._startAnimation(!0,e,this._finishShow)}};Et.prototype.hide=function(e,t){if(!this._isDestroyed){var i=this._item,r=i._element,s=B(t)?t:null,n=i.getGrid(),o=n._settings;if(!this._isHiding&&this._isHidden){s&&s(!1,i);return}if(this._isHiding&&!e){s&&i._emitter.on(this._queue,s);return}this._isHiding||(i._emitter.burst(this._queue,!0,i),dt(r,o.itemHiddenClass),tt(r,o.itemVisibleClass)),s&&i._emitter.on(this._queue,s),this._isHidden=this._isHiding=!0,this._isShowing=!1,this._startAnimation(!1,e,this._finishHide)}};Et.prototype.stop=function(e){if(!this._isDestroyed&&!(!this._isHiding&&!this._isShowing)){var t=this._item;ga(t._id),this._animation.stop(),e&&t._emitter.burst(this._queue,!0,t)}};Et.prototype.setStyles=function(e){var t=this._childElement,i=this._currentStyleProps;this._removeCurrentStyles();for(var r in e)i.push(r),t.style[r]=e[r]};Et.prototype.destroy=function(){if(!this._isDestroyed){var e=this._item,t=e._element,i=e.getGrid(),r=i._settings;this.stop(!0),e._emitter.clear(this._queue),this._animation.destroy(),this._removeCurrentStyles(),tt(t,r.itemVisibleClass),tt(t,r.itemHiddenClass),t.style.display="",this._isHiding=this._isShowing=!1,this._isDestroyed=this._isHidden=!0}};Et.prototype._startAnimation=function(e,t,i){if(!this._isDestroyed){var r=this._item,s=this._animation,n=this._childElement,o=r.getGrid()._settings,l=e?o.visibleStyles:o.hiddenStyles,h=e?o.showDuration:o.hideDuration,g=e?o.showEasing:o.hideEasing,m=t||h<=0,T;if(!l){i&&i();return}if(ga(r._id),m){Ce(n,l),s.stop(),i&&i();return}s.isAnimating()&&(s._animation.onfinish=null),th(r._id,function(){T=La(n,l)},function(){s.start(T,l,{duration:h,easing:g,onFinish:i})})}};Et.prototype._finishShow=function(){this._isHidden||(this._isShowing=!1,this._item._emitter.burst(this._queue,!1,this._item))};Et.prototype._finishHide=function(){if(this._isHidden){var e=this._item;this._isHiding=!1,e._layout.stop(!0,0,0),e._element.style.display="none",e._emitter.burst(this._queue,!1,e)}};Et.prototype._removeCurrentStyles=function(){for(var e=this._childElement,t=this._currentStyleProps,i=0;i<t.length;i++)e.style[t[i]]="";t.length=0};var Nh=0;function Ra(){return++Nh}function W(e,t,i){var r=e._settings;if(ce){if(ce.has(t))throw new Error("You can only create one Muuri Item per element!");ce.set(t,this)}this._id=Ra(),this._gridId=e._id,this._element=t,this._isDestroyed=!1,this._left=0,this._top=0,this._width=0,this._height=0,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,this._tX=void 0,this._tY=void 0,this._sortData=null,this._emitter=new bt,t.parentNode!==e._element&&e._element.appendChild(t),dt(t,r.itemClass),typeof i!="boolean"&&(i=at(t,"display")!=="none"),this._isActive=i,this._visibility=new Et(this),this._layout=new Ht(this),this._migrate=new ni(this),this._drag=r.dragEnabled?new k(this):null,this._dragRelease=new Kt(this),this._dragPlaceholder=new rt(this)}W.prototype.getGrid=function(){return Ji[this._gridId]};W.prototype.getElement=function(){return this._element};W.prototype.getWidth=function(){return this._width};W.prototype.getHeight=function(){return this._height};W.prototype.getMargin=function(){return{left:this._marginLeft,right:this._marginRight,top:this._marginTop,bottom:this._marginBottom}};W.prototype.getPosition=function(){return{left:this._left,top:this._top}};W.prototype.isActive=function(){return this._isActive};W.prototype.isVisible=function(){return!!this._visibility&&!this._visibility._isHidden};W.prototype.isShowing=function(){return!!(this._visibility&&this._visibility._isShowing)};W.prototype.isHiding=function(){return!!(this._visibility&&this._visibility._isHiding)};W.prototype.isPositioning=function(){return!!(this._layout&&this._layout._isActive)};W.prototype.isDragging=function(){return!!(this._drag&&this._drag._isActive)};W.prototype.isReleasing=function(){return!!(this._dragRelease&&this._dragRelease._isActive)};W.prototype.isDestroyed=function(){return this._isDestroyed};W.prototype._refreshDimensions=function(e){if(!this._isDestroyed&&!(e!==!0&&this._visibility._isHidden)){var t=this._element,i=this._dragPlaceholder,r=t.getBoundingClientRect();this._width=r.width,this._height=r.height,this._marginLeft=Math.max(0,mt(t,"margin-left")),this._marginRight=Math.max(0,mt(t,"margin-right")),this._marginTop=Math.max(0,mt(t,"margin-top")),this._marginBottom=Math.max(0,mt(t,"margin-bottom")),i&&i.updateDimensions()}};W.prototype._refreshSortData=function(){if(!this._isDestroyed){var e=this._sortData={},t=this.getGrid()._settings.sortData,i;for(i in t)e[i]=t[i](this,this._element)}};W.prototype._addToLayout=function(e,t){this._isActive!==!0&&(this._isActive=!0,this._left=e||0,this._top=t||0)};W.prototype._removeFromLayout=function(){this._isActive!==!1&&(this._isActive=!1,this._left=0,this._top=0)};W.prototype._canSkipLayout=function(e,t){return this._left===e&&this._top===t&&!this._migrate._isActive&&!this._layout._skipNextAnimation&&!this._dragRelease.isJustReleased()};W.prototype._setTranslate=function(e,t){return this._tX===e&&this._tY===t?!1:(this._tX=e,this._tY=t,this._element.style[Ot]=Wt(e,t),!0)};W.prototype._destroy=function(e){if(!this._isDestroyed){var t=this._element,i=this.getGrid(),r=i._settings;this._dragPlaceholder.destroy(),this._dragRelease.destroy(),this._migrate.destroy(),this._layout.destroy(),this._visibility.destroy(),this._drag&&this._drag.destroy(),this._emitter.destroy(),tt(t,r.itemClass),e&&t.parentNode.removeChild(t),ce&&ce.delete(t),this._isActive=!1,this._isDestroyed=!0}};function ka(e){var t=1,i=2,r=4,s=8,n=16,o=.001,l=.5;function h(_){return((_*1e3+.5<<0)/10<<0)/100}function g(){this.currentRects=[],this.nextRects=[],this.rectTarget={},this.rectStore=[],this.slotSizes=[],this.rectId=0,this.slotIndex=-1,this.slotData={left:0,top:0,width:0,height:0},this.sortRectsLeftTop=this.sortRectsLeftTop.bind(this),this.sortRectsTopLeft=this.sortRectsTopLeft.bind(this)}if(g.prototype.computeLayout=function(_,b){var p=_.items,f=_.slots,c=!!(b&t),a=!!(b&i),d=!!(b&r),u=!!(b&s),A=!!(b&n),D=typeof p[0]=="number",O,j,P,V,Y,$;if(!p.length)return _;for(j=D?2:1,O=0;O<p.length;O+=j)D?(V=p[O],Y=p[O+1]):(P=p[O],V=P._width+P._marginLeft+P._marginRight,Y=P._height+P._marginTop+P._marginBottom),A&&(V=h(V),Y=h(Y)),$=this.computeNextSlot(_,V,Y,c,a),a?$.left+$.width>_.width&&(_.width=$.left+$.width):$.top+$.height>_.height&&(_.height=$.top+$.height),f[++this.slotIndex]=$.left,f[++this.slotIndex]=$.top,(d||u)&&this.slotSizes.push($.width,$.height);if(d)for(O=0;O<f.length;O+=2)f[O]=_.width-(f[O]+this.slotSizes[O]);if(u)for(O=1;O<f.length;O+=2)f[O]=_.height-(f[O]+this.slotSizes[O]);return this.slotSizes.length=0,this.currentRects.length=0,this.nextRects.length=0,this.rectStore.length=0,this.rectId=0,this.slotIndex=-1,_},g.prototype.computeNextSlot=function(_,b,p,f,c){var a=this.slotData,d=this.currentRects,u=this.nextRects,A=!1,D,O,j,P,V;for(u.length=0,a.left=null,a.top=null,a.width=b,a.height=p,P=0;P<d.length;P++)if(O=d[P],!!O&&(D=this.getRect(O),a.width<=D.width+o&&a.height<=D.height+o)){a.left=D.left,a.top=D.top;break}if(a.left===null&&(c?(a.left=_.width,a.top=0):(a.left=0,a.top=_.height),f||(A=!0)),!c&&a.top+a.height>_.height+o&&(a.left>l&&u.push(this.addRect(0,_.height,a.left,1/0)),a.left+a.width<_.width-l&&u.push(this.addRect(a.left+a.width,_.height,_.width-a.left-a.width,1/0)),_.height=a.top+a.height),c&&a.left+a.width>_.width+o&&(a.top>l&&u.push(this.addRect(_.width,0,1/0,a.top)),a.top+a.height<_.height-l&&u.push(this.addRect(_.width,a.top+a.height,1/0,_.height-a.top-a.height)),_.width=a.left+a.width),!A){for(f&&(P=0);P<d.length;P++)if(O=d[P],!!O)for(D=this.getRect(O),j=this.splitRect(D,a),V=0;V<j.length;V++)O=j[V],D=this.getRect(O),(c?D.left+o<_.width-o:D.top+o<_.height-o)&&u.push(O)}return u.length>1&&this.purgeRects(u).sort(c?this.sortRectsLeftTop:this.sortRectsTopLeft),this.currentRects=u,this.nextRects=d,a},g.prototype.addRect=function(_,b,p,f){var c=++this.rectId;return this.rectStore[c]=_||0,this.rectStore[++this.rectId]=b||0,this.rectStore[++this.rectId]=p||0,this.rectStore[++this.rectId]=f||0,c},g.prototype.getRect=function(_,b){return b||(b=this.rectTarget),b.left=this.rectStore[_]||0,b.top=this.rectStore[++_]||0,b.width=this.rectStore[++_]||0,b.height=this.rectStore[++_]||0,b},g.prototype.splitRect=function(){var _=[],b=0,p=0;return function(f,c){return _.length=0,f.left+f.width<=c.left+o||c.left+c.width<=f.left+o||f.top+f.height<=c.top+o||c.top+c.height<=f.top+o?(_.push(this.addRect(f.left,f.top,f.width,f.height)),_):(b=c.left-f.left,b>=l&&_.push(this.addRect(f.left,f.top,b,f.height)),b=f.left+f.width-(c.left+c.width),b>=l&&_.push(this.addRect(c.left+c.width,f.top,b,f.height)),p=c.top-f.top,p>=l&&_.push(this.addRect(f.left,f.top,f.width,p)),p=f.top+f.height-(c.top+c.height),p>=l&&_.push(this.addRect(f.left,c.top+c.height,f.width,p)),_)}}(),g.prototype.isRectAWithinRectB=function(_,b){return _.left+o>=b.left&&_.top+o>=b.top&&_.left+_.width-o<=b.left+b.width&&_.top+_.height-o<=b.top+b.height},g.prototype.purgeRects=function(){var _={},b={};return function(p){for(var f=p.length,c;f--;)if(c=p.length,!!p[f]){for(this.getRect(p[f],_);c--;)if(!(!p[c]||f===c)&&(this.getRect(p[c],b),this.isRectAWithinRectB(_,b))){p[f]=0;break}}return p}}(),g.prototype.sortRectsTopLeft=function(){var _={},b={};return function(p,f){return this.getRect(p,_),this.getRect(f,b),_.top<b.top&&_.top+o<b.top?-1:_.top>b.top&&_.top-o>b.top?1:_.left<b.left&&_.left+o<b.left?-1:_.left>b.left&&_.left-o>b.left?1:0}}(),g.prototype.sortRectsLeftTop=function(){var _={},b={};return function(p,f){return this.getRect(p,_),this.getRect(f,b),_.left<b.left&&_.left+o<b.left?-1:_.left>b.left&&_.left-o<b.left?1:_.top<b.top&&_.top+o<b.top?-1:_.top>b.top&&_.top-o>b.top?1:0}}(),e){var m=1,T=2,v=3,y=4,w=new g;self.onmessage=function(_){var b=new Float32Array(_.data),p=b.subarray(y,b.length),f=new Float32Array(p.length),c=b[v],a={items:p,slots:f,width:b[m],height:b[T]};w.computeLayout(a,c),b[m]=a.width,b[T]=a.height,b.set(a.slots,y),postMessage(b.buffer,[b.buffer])}}return g}var Gs=ka(),xe=null,Li=[];function Hh(e,t){var i=[];if(e>0){xe||(xe=URL.createObjectURL(new Blob(["("+ka.toString()+")(true)"],{type:"application/javascript"})));for(var r=0,s;r<e;r++)s=new Worker(xe),t&&(s.onmessage=t),i.push(s),Li.push(s)}return i}function qh(e){for(var t,i,r=0;r<e.length;r++)t=e[r],t.onmessage=null,t.onerror=null,t.onmessageerror=null,t.terminate(),i=Li.indexOf(t),i>-1&&Li.splice(i,1);xe&&!Li.length&&(URL.revokeObjectURL(xe),xe=null)}function Yh(){return!!(window.Worker&&window.URL&&window.Blob)}var Qs=1,Fi=2,Js=4,Zs=8,Ks=16,Pa=0,Ma=1,ja=2,$h=3,jr=4;function qt(e,t){if(this._options=0,this._processor=null,this._layoutQueue=[],this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={},this._workers=[],this._onWorkerMessage=this._onWorkerMessage.bind(this),this.setOptions(t),e=typeof e=="number"?Math.max(0,e):0,e&&Yh())try{this._workers=Hh(e,this._onWorkerMessage)}catch(i){this._processor=new Gs}else this._processor=new Gs}qt.prototype._sendToWorker=function(){if(!(!this._layoutQueue.length||!this._workers.length)){var e=this._layoutQueue.shift(),t=this._workers.pop(),i=this._layoutWorkerData[e];delete this._layoutWorkerData[e],this._layoutWorkers[e]=t,t.postMessage(i.buffer,[i.buffer])}};qt.prototype._onWorkerMessage=function(e){var t=new Float32Array(e.data),i=t[Pa],r=this._layouts[i],s=this._layoutCallbacks[i],n=this._layoutWorkers[i];r&&delete this._layouts[i],s&&delete this._layoutCallbacks[i],n&&delete this._layoutWorkers[i],r&&s&&(r.width=t[Ma],r.height=t[ja],r.slots=t.subarray(jr,t.length),this._finalizeLayout(r),s(r)),n&&(this._workers.push(n),this._sendToWorker())};qt.prototype._finalizeLayout=function(e){var t=e._grid,i=e._settings&Fi,r=t._boxSizing==="border-box";return delete e._grid,delete e._settings,e.styles={},i?e.styles.width=(r?e.width+t._borderLeft+t._borderRight:e.width)+"px":e.styles.height=(r?e.height+t._borderTop+t._borderBottom:e.height)+"px",e};qt.prototype.setOptions=function(e){if(e){var t;typeof e.fillGaps=="boolean"?t=e.fillGaps?Qs:0:t=this._options&Qs;var i;typeof e.horizontal=="boolean"?i=e.horizontal?Fi:0:i=this._options&Fi;var r;typeof e.alignRight=="boolean"?r=e.alignRight?Js:0:r=this._options&Js;var s;typeof e.alignBottom=="boolean"?s=e.alignBottom?Zs:0:s=this._options&Zs;var n;typeof e.rounding=="boolean"?n=e.rounding?Ks:0:n=this._options&Ks,this._options=t|i|r|s|n}};qt.prototype.createLayout=function(e,t,i,r,s,n){if(this._layouts[t])throw new Error("A layout with the provided id is currently being processed.");var o=this._options&Fi,l={id:t,items:i,slots:null,width:o?0:r,height:o?s:0,_grid:e,_settings:this._options};if(!i.length){l.slots=[],this._finalizeLayout(l),n(l);return}if(this._processor){l.slots=window.Float32Array?new Float32Array(i.length*2):new Array(i.length*2),this._processor.computeLayout(l,l._settings),this._finalizeLayout(l),n(l);return}var h=new Float32Array(jr+i.length*2);h[Pa]=t,h[Ma]=l.width,h[ja]=l.height,h[$h]=l._settings;var g,m,T;for(g=0,m=jr-1,T;g<i.length;g++)T=i[g],h[++m]=T._width+T._marginLeft+T._marginRight,h[++m]=T._height+T._marginTop+T._marginBottom;return this._layoutQueue.push(t),this._layouts[t]=l,this._layoutCallbacks[t]=n,this._layoutWorkerData[t]=h,this._sendToWorker(),this.cancelLayout.bind(this,t)};qt.prototype.cancelLayout=function(e){var t=this._layouts[e];if(t&&(delete this._layouts[e],delete this._layoutCallbacks[e],this._layoutWorkerData[e])){delete this._layoutWorkerData[e];var i=this._layoutQueue.indexOf(e);i>-1&&this._layoutQueue.splice(i,1)}};qt.prototype.destroy=function(){for(var e in this._layoutWorkers)this._workers.push(this._layoutWorkers[e]);qh(this._workers),this._workers.length=0,this._layoutQueue.length=0,this._layouts={},this._layoutCallbacks={},this._layoutWorkers={},this._layoutWorkerData={}};var Fh=0;function Xh(e,t){var i=++Fh,r=0,s=0,n=!1,o=function(l){n||(s&&(r-=l-s),s=l,r>0?hh(i,o):(r=s=0,e()))};return function(l){if(!n){if(t<=0){l!==!0&&e();return}if(l===!0){n=!0,r=s=0,o=void 0,ch(i);return}r<=0?(r=t,o(0)):r=t}}}var Wh="[object HTMLCollection]",Uh="[object NodeList]";function gs(e){var t=Object.prototype.toString.call(e);return t===Wh||t===Uh}var Gh="object",Qh="[object Object]",Jh=Object.prototype.toString;function tn(e){return typeof e===Gh&&Jh.call(e)===Qh}function Zh(){}function Kh(e){return gs(e)?Array.prototype.slice.call(e):Array.prototype.concat(e)}var Ba="number",sr="string",Jt="instant",gr=0;function R(e,t){typeof e===sr&&(e=document.querySelector(e));var i=e.getRootNode?e.getRootNode({composed:!0})===document:document.body.contains(e);if(!i||e===document.documentElement)throw new Error("Container element must be an existing DOM element.");var r=tc(R.defaultOptions,t);r.visibleStyles=en(r.visibleStyles),r.hiddenStyles=en(r.hiddenStyles),B(r.dragSort)||(r.dragSort=!!r.dragSort),this._id=Ra(),this._element=e,this._settings=r,this._isDestroyed=!1,this._items=[],this._layout={id:0,items:[],slots:[]},this._isLayoutFinished=!0,this._nextLayoutData=null,this._emitter=new bt,this._onLayoutDataReceived=this._onLayoutDataReceived.bind(this),Ji[this._id]=this,dt(e,r.containerClass),ic(this,r.layoutOnResize),this.add(ec(e,r.items),{layout:!1}),r.layoutOnInit&&this.layout(!0)}R.Item=W;R.ItemLayout=Ht;R.ItemVisibility=Et;R.ItemMigrate=ni;R.ItemDrag=k;R.ItemDragRelease=Kt;R.ItemDragPlaceholder=rt;R.Emitter=bt;R.Animator=Lt;R.Dragger=x;R.Packer=qt;R.AutoScroller=N;R.defaultPacker=new qt(2);R.defaultOptions={items:"*",showDuration:300,showEasing:"ease",hideDuration:300,hideEasing:"ease",visibleStyles:{opacity:"1",transform:"scale(1)"},hiddenStyles:{opacity:"0",transform:"scale(0.5)"},layout:{fillGaps:!1,horizontal:!1,alignRight:!1,alignBottom:!1,rounding:!1},layoutOnResize:150,layoutOnInit:!0,layoutDuration:300,layoutEasing:"ease",sortData:null,dragEnabled:!1,dragContainer:null,dragHandle:null,dragStartPredicate:{distance:0,delay:0},dragAxis:"xy",dragSort:!0,dragSortHeuristics:{sortInterval:100,minDragDistance:10,minBounceBackAngle:1},dragSortPredicate:{threshold:50,action:de,migrateAction:de},dragRelease:{duration:300,easing:"ease",useDragContainer:!0},dragCssProps:{touchAction:"none",userSelect:"none",userDrag:"none",tapHighlightColor:"rgba(0, 0, 0, 0)",touchCallout:"none",contentZooming:"none"},dragPlaceholder:{enabled:!1,createElement:null,onCreate:null,onRemove:null},dragAutoScroll:{targets:[],handle:null,threshold:50,safeZone:.2,speed:N.smoothSpeed(1e3,2e3,2500),sortDuringScroll:!0,smoothStop:!1,onStart:null,onStop:null},containerClass:"muuri",itemClass:"muuri-item",itemVisibleClass:"muuri-item-shown",itemHiddenClass:"muuri-item-hidden",itemPositioningClass:"muuri-item-positioning",itemDraggingClass:"muuri-item-dragging",itemReleasingClass:"muuri-item-releasing",itemPlaceholderClass:"muuri-item-placeholder"};R.prototype.on=function(e,t){return this._emitter.on(e,t),this};R.prototype.off=function(e,t){return this._emitter.off(e,t),this};R.prototype.getElement=function(){return this._element};R.prototype.getItem=function(e){if(this._isDestroyed||!e&&e!==0)return null;if(typeof e===Ba)return this._items[e>-1?e:this._items.length+e]||null;if(e instanceof W)return e._gridId===this._id?e:null;if(ce){var t=ce.get(e);return t&&t._gridId===this._id?t:null}else for(var i=0;i<this._items.length;i++)if(this._items[i]._element===e)return this._items[i];return null};R.prototype.getItems=function(e){if(this._isDestroyed||e===void 0)return this._items.slice(0);var t=[],i,r;if(Array.isArray(e)||gs(e))for(i=0;i<e.length;i++)r=this.getItem(e[i]),r&&t.push(r);else r=this.getItem(e),r&&t.push(r);return t};R.prototype.refreshItems=function(e,t){if(this._isDestroyed)return this;var i=e||this._items,r,s,n,o;if(t===!0)for(o=[],r=0;r<i.length;r++)s=i[r],!s.isVisible()&&!s.isHiding()&&(n=s.getElement().style,n.visibility="hidden",n.display="",o.push(n));for(r=0;r<i.length;r++)i[r]._refreshDimensions(t);if(t===!0){for(r=0;r<o.length;r++)n=o[r],n.visibility="",n.display="none";o.length=0}return this};R.prototype.refreshSortData=function(e){if(this._isDestroyed)return this;for(var t=e||this._items,i=0;i<t.length;i++)t[i]._refreshSortData();return this};R.prototype.synchronize=function(){if(this._isDestroyed)return this;var e=this._items;if(!e.length)return this;for(var t,i,r=0;r<e.length;r++)i=e[r]._element,i.parentNode===this._element&&(t=t||document.createDocumentFragment(),t.appendChild(i));return t?(this._element.appendChild(t),this._emit(kl),this):this};R.prototype.layout=function(e,t){if(this._isDestroyed)return this;var i=this._nextLayoutData;i&&B(i.cancel)&&i.cancel(),gr=gr%$l+1;var r=gr;this._nextLayoutData={id:r,instant:e,onFinish:t,cancel:null};for(var s=this._items,n=[],o=0;o<s.length;o++)s[o]._isActive&&n.push(s[o]);this._refreshDimensions();var l=this._width-this._borderLeft-this._borderRight,h=this._height-this._borderTop-this._borderBottom,g=this._settings.layout,m;return B(g)?m=g(this,r,n,l,h,this._onLayoutDataReceived):(R.defaultPacker.setOptions(g),m=R.defaultPacker.createLayout(this,r,n,l,h,this._onLayoutDataReceived)),B(m)&&this._nextLayoutData&&this._nextLayoutData.id===r&&(this._nextLayoutData.cancel=m),this};R.prototype.add=function(e,t){if(this._isDestroyed||!e)return[];var i=Kh(e);if(!i.length)return i;var r=t||{},s=r.layout?r.layout:r.layout===void 0,n=this._items,o=!1,l,h,g,m;for(m=0;m<i.length;m++)h=i[m],h.parentNode!==this._element&&(l=l||document.createDocumentFragment(),l.appendChild(h));for(l&&this._element.appendChild(l),m=0;m<i.length;m++)h=i[m],g=i[m]=new W(this,h,r.active),g._isActive&&(o=!0,g._layout._skipNextAnimation=!0);for(m=0;m<i.length;m++)g=i[m],g._refreshDimensions(),g._refreshSortData();return ps(n,i,r.index),this._hasListeners(Bs)&&this._emit(Bs,i.slice(0)),o&&s&&this.layout(s===Jt,B(s)?s:void 0),i};R.prototype.remove=function(e,t){if(this._isDestroyed||!e.length)return[];var i=t||{},r=i.layout?i.layout:i.layout===void 0,s=!1,n=this.getItems(),o=[],l=[],h,g,m;for(m=0;m<e.length;m++)g=e[m],!g._isDestroyed&&(h=this._items.indexOf(g),h!==-1&&(g._isActive&&(s=!0),o.push(g),l.push(n.indexOf(g)),g._destroy(i.removeElements),this._items.splice(h,1)));return this._hasListeners(Vs)&&this._emit(Vs,o.slice(0),l),s&&r&&this.layout(r===Jt,B(r)?r:void 0),o};R.prototype.show=function(e,t){return!this._isDestroyed&&e.length&&this._setItemsVisibility(e,!0,t),this};R.prototype.hide=function(e,t){return!this._isDestroyed&&e.length&&this._setItemsVisibility(e,!1,t),this};R.prototype.filter=function(e,t){if(this._isDestroyed||!this._items.length)return this;var i=[],r=[],s=typeof e===sr,n=B(e),o=t||{},l=o.instant===!0,h=o.syncWithLayout,g=o.layout?o.layout:o.layout===void 0,m=B(o.onFinish)?o.onFinish:null,T=-1,v=Zh,y,w;if(m&&(v=function(){++T&&m(i.slice(0),r.slice(0))}),n||s)for(w=0;w<this._items.length;w++)y=this._items[w],(n?e(y):rr(y._element,e))?i.push(y):r.push(y);return i.length?this.show(i,{instant:l,syncWithLayout:h,onFinish:v,layout:!1}):v(),r.length?this.hide(r,{instant:l,syncWithLayout:h,onFinish:v,layout:!1}):v(),(i.length||r.length)&&(this._hasListeners(zs)&&this._emit(zs,i.slice(0),r.slice(0)),g&&this.layout(g===Jt,B(g)?g:void 0)),this};R.prototype.sort=function(){var e,t,i,r;function s(o,l){for(var h=0,g,m,T,v,y=0;y<e.length;y++)if(g=e[y][0],m=e[y][1],T=(o._sortData?o:o._refreshSortData())._sortData[g],v=(l._sortData?l:l._refreshSortData())._sortData[g],m==="desc"||!m&&t?h=v<T?-1:v>T?1:0:h=T<v?-1:T>v?1:0,h)return h;return h||(r||(r=rn(i)),h=t?Ei(r,l,o):Ei(r,o,l)),h}function n(o,l){var h=t?-e(o,l):e(o,l);return h||(r||(r=rn(i)),h=t?Ei(r,l,o):Ei(r,o,l)),h}return function(o,l){if(this._isDestroyed||this._items.length<2)return this;var h=this._items,g=l||{},m=g.layout?g.layout:g.layout===void 0;if(t=!!g.descending,i=h.slice(0),r=null,B(o))e=o,h.sort(n);else if(typeof o===sr)e=o.trim().split(" ").filter(function(T){return T}).map(function(T){return T.split(":")}),h.sort(s);else if(Array.isArray(o))h.length=0,h.push.apply(h,o);else throw e=t=i=r=null,new Error("Invalid comparer argument provided.");return this._hasListeners(Ns)&&this._emit(Ns,h.slice(0),i),m&&this.layout(m===Jt,B(m)?m:void 0),e=t=i=r=null,this}}();R.prototype.move=function(e,t,i){if(this._isDestroyed||this._items.length<2)return this;var r=this._items,s=i||{},n=s.layout?s.layout:s.layout===void 0,o=s.action===At,l=o?At:de,h=this.getItem(e),g=this.getItem(t),m,T;return h&&g&&h!==g&&(m=r.indexOf(h),T=r.indexOf(g),o?Oa(r,m,T):Aa(r,m,T),this._hasListeners(Bi)&&this._emit(Bi,{item:h,fromIndex:m,toIndex:T,action:l}),n&&this.layout(n===Jt,B(n)?n:void 0)),this};R.prototype.send=function(e,t,i,r){if(this._isDestroyed||t._isDestroyed||this===t)return this;if(e=this.getItem(e),!e)return this;var s=r||{},n=s.appendTo||document.body,o=s.layoutSender?s.layoutSender:s.layoutSender===void 0,l=s.layoutReceiver?s.layoutReceiver:s.layoutReceiver===void 0;return e._migrate.start(t,i,n),e._migrate._isActive&&e._isActive&&(o&&this.layout(o===Jt,B(o)?o:void 0),l&&t.layout(l===Jt,B(l)?l:void 0)),this};R.prototype.destroy=function(e){if(this._isDestroyed)return this;var t=this._element,i=this._items.slice(0),r=this._layout&&this._layout.styles||{},s,n;for(rc(this),s=0;s<i.length;s++)i[s]._destroy(e);this._items.length=0,tt(t,this._settings.containerClass);for(n in r)t.style[n]="";return this._emit(Yl),this._emitter.destroy(),delete Ji[this._id],this._isDestroyed=!0,this};R.prototype._emit=function(){this._isDestroyed||this._emitter.emit.apply(this._emitter,arguments)};R.prototype._hasListeners=function(e){return this._isDestroyed?!1:this._emitter.countListeners(e)>0};R.prototype._updateBoundingRect=function(){var e=this._element,t=e.getBoundingClientRect();this._width=t.width,this._height=t.height,this._left=t.left,this._top=t.top,this._right=t.right,this._bottom=t.bottom};R.prototype._updateBorders=function(e,t,i,r){var s=this._element;e&&(this._borderLeft=mt(s,"border-left-width")),t&&(this._borderRight=mt(s,"border-right-width")),i&&(this._borderTop=mt(s,"border-top-width")),r&&(this._borderBottom=mt(s,"border-bottom-width"))};R.prototype._refreshDimensions=function(){this._updateBoundingRect(),this._updateBorders(1,1,1,1),this._boxSizing=at(this._element,"box-sizing")};R.prototype._onLayoutDataReceived=function(){var e=[];return function(t){if(!(this._isDestroyed||!this._nextLayoutData||this._nextLayoutData.id!==t.id)){var i=this,r=this._nextLayoutData.instant,s=this._nextLayoutData.onFinish,n=t.items.length,o=n,l,h,g,m;for(this._nextLayoutData=null,!this._isLayoutFinished&&this._hasListeners(js)&&this._emit(js,this._layout.items.slice(0)),this._layout=t,e.length=0,m=0;m<n;m++){if(l=t.items[m],!l){--o;continue}if(h=t.slots[m*2],g=t.slots[m*2+1],l._canSkipLayout(h,g)){--o;continue}l._left=h,l._top=g,l.isActive()&&!l.isDragging()?e.push(l):--o}if(t.styles&&Ce(this._element,t.styles),!(this._hasListeners(Gt)&&(this._emit(Gt,t.items.slice(0),r===!0),this._layout.id!==t.id))){var T=function(){if(!(--o>0)){var v=i._layout.id!==t.id,y=B(r)?r:s;v||(i._isLayoutFinished=!0),B(y)&&y(t.items.slice(0),v),!v&&i._hasListeners(Ms)&&i._emit(Ms,t.items.slice(0))}};if(!e.length)return T(),this;for(this._isLayoutFinished=!1,m=0;m<e.length&&this._layout.id===t.id;m++)e[m]._layout.start(r===!0,T);return this._layout.id===t.id&&(e.length=0),this}}}}();R.prototype._setItemsVisibility=function(e,t,i){var r=this,s=e.slice(0),n=i||{},o=n.instant===!0,l=n.onFinish,h=n.layout?n.layout:n.layout===void 0,g=s.length,m=t?Pl:We,T=t?Ml:jl,v=t?"show":"hide",y=!1,w=[],_=[],b,p;if(!g){B(l)&&l(s);return}for(p=0;p<s.length;p++)b=s[p],(t&&!b._isActive||!t&&b._isActive)&&(y=!0),b._layout._skipNextAnimation=!!(t&&!b._isActive),t&&b._visibility._isHidden&&_.push(b),t?b._addToLayout():b._removeFromLayout();_.length&&(this.refreshItems(_,!0),_.length=0);function f(){for(y&&n.syncWithLayout!==!1&&r.off(Gt,f),r._hasListeners(m)&&r._emit(m,s.slice(0)),p=0;p<s.length;p++){if(s[p]._gridId!==r._id){--g<1&&(B(l)&&l(w.slice(0)),r._hasListeners(T)&&r._emit(T,w.slice(0)));continue}s[p]._visibility[v](o,function(c,a){c||w.push(a),--g<1&&(B(l)&&l(w.slice(0)),r._hasListeners(T)&&r._emit(T,w.slice(0)))})}}y&&n.syncWithLayout!==!1?this.on(Gt,f):f(),y&&h&&this.layout(h===Jt,B(h)?h:void 0)};function tc(e,t){var i=$e({},e);return t&&(i=$e(i,t)),t&&t.visibleStyles?i.visibleStyles=t.visibleStyles:e&&e.visibleStyles&&(i.visibleStyles=e.visibleStyles),t&&t.hiddenStyles?i.hiddenStyles=t.hiddenStyles:e&&e.hiddenStyles&&(i.hiddenStyles=e.hiddenStyles),i}function $e(e,t){var i=Object.keys(t),r=i.length,s,n,o;for(o=0;o<r;o++){if(n=i[o],s=tn(t[n]),tn(e[n])&&s){e[n]=$e($e({},e[n]),t[n]);continue}if(s){e[n]=$e({},t[n]);continue}if(Array.isArray(t[n])){e[n]=t[n].slice(0);continue}e[n]=t[n]}return e}function ec(e,t){if(t==="*")return e.children;if(typeof t===sr){for(var i=[],r=e.children,s=0;s<r.length;s++)rr(r[s],t)&&i.push(r[s]);return i}return Array.isArray(t)||gs(t)?t:[]}function ic(e,t){typeof t!==Ba&&(t=t===!0?0:-1),t>=0&&(e._resizeHandler=Xh(function(){e.refreshItems().layout()},t),window.addEventListener("resize",e._resizeHandler))}function rc(e){e._resizeHandler&&(e._resizeHandler(!0),window.removeEventListener("resize",e._resizeHandler),e._resizeHandler=null)}function en(e){var t={},i=document.documentElement.style,r,s;for(r in e)e[r]&&(s=Ki(i,r),s&&(t[s]=e[r]));return t}function rn(e){for(var t={},i=0;i<e.length;i++)t[e[i]._id]=i;return t}function Ei(e,t,i){var r=e[t._id],s=e[i._id];return r-s}var Va={exports:{}},mr={exports:{}},sn;function sc(){return sn||(sn=1,function(e){(function(t,i){e.exports?e.exports=i():t.EvEmitter=i()})(typeof window<"u"?window:as,function(){function t(){}let i=t.prototype;return i.on=function(r,s){if(!r||!s)return this;let n=this._events=this._events||{},o=n[r]=n[r]||[];return o.includes(s)||o.push(s),this},i.once=function(r,s){if(!r||!s)return this;this.on(r,s);let n=this._onceEvents=this._onceEvents||{},o=n[r]=n[r]||{};return o[s]=!0,this},i.off=function(r,s){let n=this._events&&this._events[r];if(!n||!n.length)return this;let o=n.indexOf(s);return o!=-1&&n.splice(o,1),this},i.emitEvent=function(r,s){let n=this._events&&this._events[r];if(!n||!n.length)return this;n=n.slice(0),s=s||[];let o=this._onceEvents&&this._onceEvents[r];for(let l of n)o&&o[l]&&(this.off(r,l),delete o[l]),l.apply(this,s);return this},i.allOff=function(){return delete this._events,delete this._onceEvents,this},t})}(mr)),mr.exports}/*!
 * imagesLoaded v5.0.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */(function(e){(function(t,i){e.exports?e.exports=i(t,sc()):t.imagesLoaded=i(t,t.EvEmitter)})(typeof window<"u"?window:as,function(i,r){let s=i.jQuery,n=i.console;function o(v){return Array.isArray(v)?v:typeof v=="object"&&typeof v.length=="number"?[...v]:[v]}function l(v,y,w){if(!(this instanceof l))return new l(v,y,w);let _=v;if(typeof v=="string"&&(_=document.querySelectorAll(v)),!_){n.error("Bad element for imagesLoaded ".concat(_||v));return}this.elements=o(_),this.options={},typeof y=="function"?w=y:Object.assign(this.options,y),w&&this.on("always",w),this.getImages(),s&&(this.jqDeferred=new s.Deferred),setTimeout(this.check.bind(this))}l.prototype=Object.create(r.prototype),l.prototype.getImages=function(){this.images=[],this.elements.forEach(this.addElementImages,this)};const h=[1,9,11];l.prototype.addElementImages=function(v){v.nodeName==="IMG"&&this.addImage(v),this.options.background===!0&&this.addElementBackgroundImages(v);let{nodeType:y}=v;if(!y||!h.includes(y))return;let w=v.querySelectorAll("img");for(let _ of w)this.addImage(_);if(typeof this.options.background=="string"){let _=v.querySelectorAll(this.options.background);for(let b of _)this.addElementBackgroundImages(b)}};const g=/url\((['"])?(.*?)\1\)/gi;l.prototype.addElementBackgroundImages=function(v){let y=getComputedStyle(v);if(!y)return;let w=g.exec(y.backgroundImage);for(;w!==null;){let _=w&&w[2];_&&this.addBackground(_,v),w=g.exec(y.backgroundImage)}},l.prototype.addImage=function(v){let y=new m(v);this.images.push(y)},l.prototype.addBackground=function(v,y){let w=new T(v,y);this.images.push(w)},l.prototype.check=function(){if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length){this.complete();return}let v=(y,w,_)=>{setTimeout(()=>{this.progress(y,w,_)})};this.images.forEach(function(y){y.once("progress",v),y.check()})},l.prototype.progress=function(v,y,w){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!v.isLoaded,this.emitEvent("progress",[this,v,y]),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,v),this.progressedCount===this.images.length&&this.complete(),this.options.debug&&n&&n.log("progress: ".concat(w),v,y)},l.prototype.complete=function(){let v=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emitEvent(v,[this]),this.emitEvent("always",[this]),this.jqDeferred){let y=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[y](this)}};function m(v){this.img=v}m.prototype=Object.create(r.prototype),m.prototype.check=function(){if(this.getIsImageComplete()){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image,this.img.crossOrigin&&(this.proxyImage.crossOrigin=this.img.crossOrigin),this.proxyImage.addEventListener("load",this),this.proxyImage.addEventListener("error",this),this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.proxyImage.src=this.img.currentSrc||this.img.src},m.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth},m.prototype.confirm=function(v,y){this.isLoaded=v;let{parentNode:w}=this.img,_=w.nodeName==="PICTURE"?w:this.img;this.emitEvent("progress",[this,_,y])},m.prototype.handleEvent=function(v){let y="on"+v.type;this[y]&&this[y](v)},m.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},m.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},m.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this),this.proxyImage.removeEventListener("error",this),this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)};function T(v,y){this.url=v,this.element=y,this.img=new Image}return T.prototype=Object.create(m.prototype),T.prototype.check=function(){this.img.addEventListener("load",this),this.img.addEventListener("error",this),this.img.src=this.url,this.getIsImageComplete()&&(this.confirm(this.img.naturalWidth!==0,"naturalWidth"),this.unbindEvents())},T.prototype.unbindEvents=function(){this.img.removeEventListener("load",this),this.img.removeEventListener("error",this)},T.prototype.confirm=function(v,y){this.isLoaded=v,this.emitEvent("progress",[this,this.element,y])},l.makeJQueryPlugin=function(v){v=v||i.jQuery,v&&(s=v,s.fn.imagesLoaded=function(y,w){return new l(this,y,w).jqDeferred.promise(s(this))})},l.makeJQueryPlugin(),l})})(Va);var nc=Va.exports;const ac=ns(nc);function oc(){ji.delegate.adapter.progressBar.setValue(0),ji.delegate.adapter.progressBar.show()}function lc(){ji.delegate.adapter.progressBar.setValue(1),ji.delegate.adapter.progressBar.hide()}function ms(e){return oc(),e.then(t=>(lc(),t))}function _s(e,{body:t}){const i=new kn("patch",e,{contentType:"application/json",responseKind:"json",body:t});return ms(i.perform())}function hc(e,t){const i=e==="get"?"query":"body",r=t.reduce((s,n)=>Object.assign(s,{[n.name]:n.value}),{});return{[i]:r}}class Ri extends C{constructor(){super(...arguments);E(this,"expandContainerIfNeeded",(i,{pageY:r})=>{const s=this.containerTargets.filter(n=>n.childElementCount===0).find(n=>{const o=r+this.remainingDistanceY-n.offsetTop;return o>=-100&&o<=100});requestAnimationFrame(()=>{s&&(s.style.minHeight=cc(i))}),requestAnimationFrame(()=>{this.containerTargets.filter(n=>n!==s).forEach(n=>n.style.minHeight="")})});E(this,"handleImageLoaded",()=>{this.grids.forEach(i=>i.refreshItems().layout())});E(this,"handleDragInit",i=>{uc(i),this.classList.add("muuri-dragging"),document.body.classList.add("overflow-hidden","select-none")});E(this,"handleDragItemPositioned",i=>{this._mainOffset=null,this.updateItemsPosition(i),dc(i),this.containerTargets.forEach(r=>r.style.minHeight=""),this.classList.remove("muuri-dragging"),document.body.classList.remove("overflow-hidden","select-none")})}connect(){this.grids=this.containerTargets.map(i=>(i.style.minHeight="".concat(i.offsetHeight,"px"),this.createGrid(i))),Rn(this),Qi(this,{wait:150}),ac(this.element).on("progress",this.handleImageLoaded)}disconnect(){this.grids.forEach(i=>i.destroy())}layout(){this.grids.forEach(i=>i.refreshItems().layout())}resize({width:i}){typeof this.previousWidth=="number"&&i!==this.previousWidth&&this.layout(),this.previousWidth=i}injectAction({detail:i}){i.newStream.action==="paginate"&&(i.render=r=>{var o;const s=r.targetElements[0],n=this.grids.find(l=>l.getElement()===s);(o=s==null?void 0:s.closest(".hidden"))==null||o.classList.remove("hidden"),n?n.add([...r.templateContent.children]):s&&s.append(r.templateContent)})}focusItem({target:i}){i.closest(".muuri-item").classList.add("z-10")}blurItem({target:i}){i.closest(".muuri-item").classList.remove("z-10")}createGrid(i){return new R(i,{layout:{fillGaps:!0},dragContainer:this.element,dragEnabled:this.dragEnabled,dragSort:()=>this.grids,dragHandle:".muuri-item-handle",dragStartPredicate:this.handleMissingDragHandle,dragAutoScroll:{targets:[this.mainTarget]}}).on("dragInit",this.handleDragInit).on("dragMove",this.expandContainerIfNeeded).on("dragReleaseEnd",this.handleDragItemPositioned).on("layoutStart",()=>this.mainTarget.classList.add("overflow-x-hidden")).on("layoutEnd",()=>{i.style.minHeight="",this.mainTarget.classList.remove("oveflow-x-hidden"),this.observeInfinitePagination()})}observeInfinitePagination(){var i;(i=this.paginationObserver)!=null||(this.paginationObserver=jo(".muuri-item:last-of-type",()=>{const r=document.getElementById("pagination");r&&(r.setAttribute("loading","eager"),this.paginationObserver=void 0)}))}handleMissingDragHandle(i,r){return i.getElement().querySelector(".muuri-item-handle")?R.ItemDrag.defaultStartPredicate(i,r):!1}updateItemsPosition(i){const r=i.getGrid(),{categoryId:s}=r.getElement().dataset,n=r.getItems().map(o=>o.getElement().dataset.id);_s(this.sortUrlValue,{body:{category_id:s,ids:n}})}get dragEnabled(){return this.containerTargets.some(i=>i.querySelector(".muuri-item-handle"))}get mainTarget(){return document.getElementById("main")}get remainingDistanceY(){return clearTimeout(this.mainTimeout),this._mainOffset=this._mainOffset||this.mainTarget.scrollTop+this.mainTarget.offsetTop,this.mainTimeout=setTimeout(()=>{this._mainOffset=this.mainTarget.scrollTop+this.mainTarget.offsetTop},100),this._mainOffset}}E(Ri,"targets",["container"]),E(Ri,"values",{sortUrl:String}),E(Ri,"debounces",["layout"]);function cc(e){const t=e.getHeight(),i=e.getMargin();return"".concat(t+i.bottom,"px")}function uc(e){const t=e.getMargin();Object.assign(e.getElement().style,{width:"".concat(e.getWidth(),"px"),height:"".concat(e.getHeight(),"px"),marginLeft:"".concat(t.left,"px"),marginRight:"".concat(t.right,"px"),marginTop:"".concat(t.top,"px"),marginBottom:"".concat(t.bottom,"px")})}function dc(e){Object.assign(e.getElement().style,{width:"",height:"",marginLeft:"",marginRight:"",marginTop:"",marginBottom:""})}const fc=Object.freeze(Object.defineProperty({__proto__:null,default:Ri},Symbol.toStringTag,{value:"Module"}));class pc extends C{connect(){Xo(this,{dispatchEvent:!1,threshold:.01}),Gi(this,{attributes:!0,attributeFilter:["aria-hidden"]}),this.hidden=this.outsideViewport}appear(){this.hidden=!1}disappear(){this.hidden=!0}mutate(){this.classList.toggle("-sm:hidden",this.hidden)}set hidden(t){this.element.setAttribute("aria-hidden",t)}get hidden(){return this.element.getAttribute("aria-hidden")==="true"}get outsideViewport(){const t=this.element.getBoundingClientRect();for(const i of Object.keys(DOMRect.prototype))if(t[i]<0)return!0;return!1}}const gc=Object.freeze(Object.defineProperty({__proto__:null,default:pc},Symbol.toStringTag,{value:"Module"})),ne=(e,...t)=>zt.t("learnings.".concat(e),...t),mc=e=>Highcharts.numberFormat(e,0,",",".");class Br extends C{async connect(){await ht("https://code.highcharts.com/highcharts.js"),await ht("https://code.highcharts.com/modules/coloraxis.js"),Highcharts.setOptions(jt),this.chart=this.renderChart(),this.titleElement.setAttribute("transform","translate(80 40) rotate(90)"),this.setSeries()}disconnect(){var t;(t=this.chart)==null||t.destroy()}update(){this._series=this.seriesOutlet.getRecords().map((t,i)=>({x:i+1,y:t.progress,percentage:t.percentage,name:t.full_name})),this._percentages=this._series.map(t=>t.percentage),this._minAxisValue=Math.min(...this._percentages),this._maxAxisValue=Math.max(...this._percentages),requestAnimationFrame(()=>this.setSeries())}renderChart(){return new Highcharts.Chart({chart:{renderTo:this.containerTarget,type:"scatter",zoomType:"x",zooming:jt.chart.zooming,spacingBottom:6},legend:{align:"right",layout:"vertical",verticalAlign:"middle",width:75,title:{layout:"vertical",text:ne("percentage"),style:{fontWeight:"normal",color:X.gray[400]}}},colorAxis:[{min:0,max:1,minColor:"#06d6a0",maxColor:"#ff0054",gridLineColor:X.gray[800],reversed:!1,labels:{format:"{text}%",x:8,style:{color:X.gray[400]}},marker:{color:X.gray[400]}}],yAxis:{min:0,max:100,title:{text:ne("y_axis_title")},labels:{format:"{value}%"}},xAxis:{allowDecimals:!1,title:{text:ne("x_axis_title"),margin:23},labels:{enabled:!1}},plotOptions:{scatter:{marker:{radius:4,symbol:"square",states:{hover:{lineWidthPlus:0}}}}},tooltip:{formatter(){return'\n            <div class="text-gray-700 font-semibold mb-1">'.concat(ne("heading",{index:this.x,name:this.key}),"</div>\n            <div>").concat(ne("progress"),': <span class="font-semibold">').concat(this.y.toFixed(0),"%</span></div>\n            <div>").concat(ne("percentage"),': <span class="font-semibold">').concat(this.point.percentage.toFixed(0),"%</span></div>\n          ")}},series:[{animation:!1,colorKey:"percentage",turboThreshold:0}]})}setSeries(){var t,i,r,s,n,o,l;(t=this._series)!=null||(this._series=[]),(i=this._minAxisValue)!=null||(this._minAxisValue=0),(r=this._maxAxisValue)!=null||(this._maxAxisValue=1),(s=this.chart)==null||s.series[0].setData(this._series,!1,!1,!0),(n=this.chart)==null||n.xAxis[0].update({title:{text:"".concat(ne("x_axis_title")," (").concat(mc(this._series.length),")")}},!1),(o=this.chart)==null||o.colorAxis[0].update({min:this._minAxisValue,max:this._maxAxisValue},!1),(l=this.chart)==null||l.redraw(!1)}get titleElement(){return this.chart.legend.title.element}}E(Br,"targets",["container"]),E(Br,"outlets",["series"]);const _c=Object.freeze(Object.defineProperty({__proto__:null,default:Br},Symbol.toStringTag,{value:"Module"}));class Se{constructor(t,i,r){this.targetElement=t,this.options=i,this.handlers=r,this.store={},this.resizing=!1,this.resizeThreshold={},this.directions={},this.resizeInitiate()}resizeInitiate(){this.resizeEnd(),this.resizeStartHandler=(function(t){this.resizeStart(t)}).bind(this),this.resizeHandler=(function(t){this.resize(t)}).bind(this),this.directions=Se.parseDirection(this.options.directions),this.resizeThreshold=Se.parseThreshold(this.options.threshold),this.createResizableDivElements()}createResizableDivElements(){if(this.store.divContainer)this.store.divContainer.innerHTML="";else{const t=document.createElement("div");t.className="resizable-container",this.targetElement.appendChild(t),this.store.divContainer=t,this.store.divContainer.addEventListener("mousedown",this.resizeStartHandler)}for(const t in this.directions){const i={},r="".concat(this.resizeThreshold[t],"px");let s;switch(this.options.thresholdPosition){case void 0:case"in":s="0";break;case"center":s="-".concat(.5*this.resizeThreshold[t],"px");break;case"out":s="-".concat(this.resizeThreshold[t],"px");break;default:_r(this.options.thresholdPosition)==="number"&&(s="-".concat(this.options.thresholdPosition*this.resizeThreshold[t],"px"));break}switch(t){case"s":i.bottom=s,i.height=r;break;case"se":i.right=s,i.bottom=s,i.width=r,i.height=r;break;case"e":i.right=s,i.width=r;break;case"ne":i.right=s,i.top=s,i.width=r,i.height=r;break;case"n":i.top=s,i.height=r;break;case"nw":i.left=s,i.top=s,i.width=r,i.height=r;break;case"w":i.left=s,i.width=r;break;case"sw":i.left=s,i.bottom=s,i.width=r,i.height=r;break}const n=document.createElement("div");n.className="resizable-div resizable-".concat(t),Object.assign(n.style,i),this.store.divContainer.appendChild(n),this.directions[t]=n}}setDirections(t){this.directions=Se.parseDirection(t),this.createResizableDivElements()}static parseDirection(t){let i={};switch(_r(t)){case"Array":for(const r of t)i[r]=null;break;case"string":{const r=t.match(/([swne]+)/g);for(const s in r)i[r[s]]=null;break}case"Object":{i=t;break}case"undefined":i={s:null,se:null,e:null,ne:null,n:null,nw:null,w:null,sw:null}}return i}setThreshold(t){this.resizeThreshold=Se.parseThreshold(t),this.createResizableDivElements()}static parseThreshold(t){const r={s:10,se:10,e:10,ne:10,n:10,nw:10,w:10,sw:10};switch(_r(t)){case"number":for(const s in r)r[s]=t;break;case"Object":{for(const s in t){const n=t[s];s==="corner"?(r.se=n,r.ne=n,r.nw=n,r.sw=n):s==="edge"?(r.e=n,r.n=n,r.s=n,r.w=n):r[s]=n}break}}return r}resizeStart(t){var i,r;this.resizing=!0,this.store.startTranslate=[0,0],this.store.currentTranslate,this.store.startMouse=[t.pageX,t.pageY],this.store.startElement=[this.targetElement.getBoundingClientRect().left+document.documentElement.scrollLeft,this.targetElement.getBoundingClientRect().top+document.documentElement.scrollTop],this.store.startSize=[this.targetElement.offsetWidth,this.targetElement.offsetHeight],this.store.currentSize=this.store.startSize,this.store.target=t.target,(r=(i=this.handlers).resizeStart)==null||r.call(i,{set:s=>{this.store.startTranslate=[s[0],s[1]],this.targetElement.style.transform="translate(".concat(s[0],"px,").concat(s[1],"px)")},stop:()=>{this.resizing=!1},clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}),this.store.currentTranslate=this.store.startTranslate,this.resizing&&(t.preventDefault(),document.documentElement.addEventListener("mousemove",this.resizeHandler))}resize(t){var o,l;t.preventDefault();const i=[t.pageX-this.store.startMouse[0],t.pageY-this.store.startMouse[1]];let r=this.store.startSize[0],s=this.store.startSize[1],n=[this.store.startTranslate[0],this.store.startTranslate[1]];switch(this.store.target){case this.directions.s:s+=i[1];break;case this.directions.se:r+=i[0],s+=i[1];break;case this.directions.e:r+=i[0];break;case this.directions.ne:r+=i[0],s-=i[1],n[1]+=i[1];break;case this.directions.n:s-=i[1],n[1]+=i[1];break;case this.directions.nw:r-=i[0],s-=i[1],n=[n[0]+=i[0],n[1]+=i[1]];break;case this.directions.w:r-=i[0],n[0]+=i[0];break;case this.directions.sw:r-=i[0],s+=i[1],n[0]+=i[0];break}this.store.currentTranslate=n,this.store.currentSize=[r,s],(l=(o=this.handlers).resize)==null||l.call(o,{inputEvent:t,target:this.targetElement,width:r,height:s,translate:[n[0],n[1]]})}resizeEnd(){document.documentElement.addEventListener("mouseup",t=>{this.resizing&&(this.resizing=!1,document.documentElement.removeEventListener("mousemove",this.resizeHandler),this.handlers.resizeEnd&&this.handlers.resizeEnd({target:this.targetElement,inputEvent:t,translate:[this.store.currentTranslate[0],this.store.currentTranslate[1]],width:this.store.currentSize[0],height:this.store.currentSize[1]}))})}request(t){var i,r,s,n,o,l;return t.width===void 0||t.height===void 0?!1:(this.store.startTranslate=[],(r=(i=this.handlers).resizeStart)==null||r.call(i,{set:h=>{this.store.startTranslate=h,this.targetElement.style.transform="translate(".concat(h[0],"px,").concat(h[1],"px)")}}),(n=(s=this.handlers).resize)==null||n.call(s,{target:this.targetElement,width:t.width,height:t.height,translate:this.store.startTranslate}),(l=(o=this.handlers).resizeEnd)==null||l.call(o,{translate:this.store.startTranslate,target:this.targetElement}),!0)}}function _r(e){let t=typeof e;if(t==="object"){let i=Object.prototype.toString.call(e);i=i.split(" ")[1],t=i.substring(0,i.length-1)}return t}class vs{constructor(t,i,r){this.targetElement=t,this.options=i,this.handlers=r,this.dragging=!1,this.store={},this.bounds={},this.bounding=!1,this.dragInitiate()}dragInitiate(){this.dragEnd(),this.setBounds(this.options.bounds),this.dragStartHandler=(function(t){this.dragStart(t)}).bind(this),this.dragHandler=(function(t){this.drag(t)}).bind(this),this.targetElement.addEventListener("mousedown",this.dragStartHandler)}static parseBounds(t){const i={};return t=t||{},i.left=t.left!==void 0?t.left:Number.NEGATIVE_INFINITY,i.top=t.top!==void 0?t.top:Number.NEGATIVE_INFINITY,i.right=t.right!==void 0?t.right:Number.POSITIVE_INFINITY,i.bottom=t.bottom!==void 0?t.bottom:Number.POSITIVE_INFINITY,i}setBounds(t){this.bounds=vs.parseBounds(t)}dragStart(t){var r,s;if(t.target.classList.contains("resizable-div"))return;this.dragging=!0,this.store.startTranslate=[],this.store.startMouse=[t.pageX,t.pageY];const i=[this.targetElement.getBoundingClientRect().left+document.documentElement.scrollLeft,this.targetElement.getBoundingClientRect().top+document.documentElement.scrollTop];this.store.startElement={left:i[0],top:i[1],right:i[0]+this.targetElement.offsetWidth,bottom:i[1]+this.targetElement.offsetHeight},(s=(r=this.handlers).dragStart)==null||s.call(r,{inputEvent:t,set:n=>{this.store.startTranslate=[n[0],n[1]],this.targetElement.style.transform="translate(".concat(n[0],"px,").concat(n[1],"px)")},stop:()=>{this.dragging=!1},clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}),this.store.currentTranslate=this.store.startTranslate,this.dragging&&(t.preventDefault(),document.documentElement.addEventListener("mousemove",this.dragHandler))}drag(t){var l,h;t.preventDefault();const i=[t.pageX-this.store.startMouse[0],t.pageY-this.store.startMouse[1]],r=[i[0]+this.store.startTranslate[0],i[1]+this.store.startTranslate[1]];this.store.startElement.right=this.store.startElement.left+this.targetElement.offsetWidth,this.store.startElement.bottom=this.store.startElement.top+this.targetElement.offsetHeight;const s={left:this.bounds.left-(i[0]+this.store.startElement.left),top:this.bounds.top-(i[1]+this.store.startElement.top),right:i[0]+this.store.startElement.right-this.bounds.right,bottom:i[1]+this.store.startElement.bottom-this.bounds.bottom};let n=!1,o;s.left>=0&&(n=!0,o="left",r[0]+=s[o]),s.top>=0&&(n=!0,o="top",r[1]+=s[o]),s.right>=0&&(n=!0,o="right",r[0]-=s[o]),s.bottom>=0&&(n=!0,o="bottom",r[1]-=s[o]),n&&(this.bounding||(this.bounding=!0,this.boundStart(o)),this.bound(o,s[o])),this.bounding&&!n&&(this.bounding=!1,this.boundEnd()),this.store.currentTranslate=[r[0],r[1]],(h=(l=this.handlers).drag)==null||h.call(l,{inputEvent:t,target:this.targetElement,transform:"translate(".concat(this.store.currentTranslate[0],"px,").concat(this.store.currentTranslate[1],"px)"),translate:this.store.currentTranslate,delta:i})}dragEnd(){document.documentElement.addEventListener("mouseup",t=>{this.dragging&&(this.dragging=!1,document.documentElement.removeEventListener("mousemove",this.dragHandler),this.handlers.dragEnd&&this.handlers.dragEnd({inputEvent:t,translate:[this.store.currentTranslate[0],this.store.currentTranslate[1]]}))})}boundStart(t){var i,r;(r=(i=this.handlers).boundStart)==null||r.call(i,{direction:t})}bound(t,i){var r,s;(s=(r=this.handlers).bound)==null||s.call(r,{direction:t,distance:i})}boundEnd(){var t,i;(i=(t=this.handlers).boundEnd)==null||i.call(t)}request(t){var r,s,n,o,l,h;let i;if(t.x!==void 0&&t.y!==void 0)i=[t.x,t.y];else if(t.deltaX!==void 0&&t.deltaY!==void 0)i=[this.store.startTranslate[0]+t.deltaX,this.store.startTranslate[1]+t.deltaY];else return!1;return this.dragging=!0,this.store.startTranslate=[],(s=(r=this.handlers).dragStart)==null||s.call(r,{set:g=>{this.store.startTranslate=g},stop:()=>{this.dragging=!1}}),(o=(n=this.handlers).drag)==null||o.call(n,{target:this.targetElement,transform:"translate(".concat(i[0],"px,").concat(i[1],"px)"),translate:i}),this.dragging=!1,(h=(l=this.handlers).dragEnd)==null||h.call(l,{translate:[i[0],i[1]]}),!0}}class vc{constructor(t,i){this.handlers={},this.targetElement=t,this.options=i,this.options.resizable&&(this.resizable=new Se(this.targetElement,this.options,this.handlers)),this.options.draggable&&(this.draggable=new vs(this.targetElement,this.options,this.handlers))}setDirections(t){return this.resizable?(this.resizable.setDirections(t),!0):!1}setThreshold(t){return this.resizable?(this.resizable.setThreshold(t),!0):!1}setBounds(t){return this.draggable?(this.draggable.setBounds(t),!0):!1}on(t,i){return this.handlers[t]=i,this}request(t,i){if(!i)return!1;switch(t){case"draggable":return this.draggable?this.draggable.request(i):!1;case"resizable":return this.resizable?this.resizable.request(i):!1;default:return!1}}}class za extends C{constructor(){super(...arguments);E(this,"resetBounds",()=>this.moveable.setBounds(this.bounds));E(this,"handleDragStart",({set:i})=>{i(this.positionValue)});E(this,"handleDrag",({translate:i})=>{this.positionValue=i});E(this,"handleDragEnd",({translate:i})=>{this.positionValue=i});E(this,"handleResizeStart",({set:i})=>{i(this.positionValue)});E(this,"handleResize",({width:i,height:r,translate:s})=>{this.isConstrained(i,r,s)||(this.sizeValue=[i,r],this.positionValue=s)});E(this,"handleResizeEnd",({width:i,height:r,translate:s})=>{this.isConstrained(i,r,s)||(this.positionValue=s)})}connect(){this.moveable=new vc(this.element,{resizable:!0,draggable:!0,directions:["e","w"]}),this.moveable.on("dragStart",this.handleDragStart).on("drag",this.handleDrag).on("dragEnd",this.handleDragEnd).on("resizeStart",this.handleResizeStart).on("resize",this.handleResize).on("resizeEnd",this.handleResizeEnd),this.mainTarget.addEventListener("scroll",this.resetBounds)}disconnect(){this.mainTarget.removeEventListener("scroll",this.resetBounds)}layout(i){const{renderWidth:r,renderHeight:s}=i.detail;this.renderWidth=r,this.renderHeight=s,this.moveable.setBounds(this.bounds),this.scaleValues()}scaleValues(){const[i,r]=this.sizeValue,[s,n]=this.positionValue,o=hs(this.renderWidth,this.renderHeight),l=Math.round(this.renderHeight*o),{offsets:h}=this;if(this.scaled){this.positionValue=[Math.min(h.width-i,s),Math.min(h.height-r,n)];return}this.positionValue=[Ee(s,h.width,this.renderWidth),Ee(l-Math.abs(n),h.height,this.renderHeight)],this.sizeValue=[Math.min(Ee(i,h.width,this.renderWidth),h.width),r],this.scaled=!0}fireRedraw(){const{offsets:i}=this;this.dispatch("redraw",{detail:{size:this.sizeValue,position:this.positionValue,renderWidth:this.renderWidth,renderHeight:this.renderHeight,offsetWidth:i.width,offsetHeight:i.height}})}sizeValueChanged(){const[i,r]=this.sizeValue;this.element.style.width="".concat(i,"px"),this.element.style.height="".concat(r,"px"),this.fireRedraw()}positionValueChanged(){const[i,r]=this.positionValue;this.element.style.transform="translate(".concat(i,"px, ").concat(r,"px)"),this.fireRedraw()}isConstrained(i,r,s){const{offsets:n}=this,o=Math.floor(s[0]),l=Math.floor(s[1]);return o<0||l<0||i<150||i+o>n.width||r+l>n.height}get offsets(){const{x:i}=this.parentElement.getBoundingClientRect();return{top:this.parentElement.offsetTop-this.mainTarget.scrollTop,left:Math.round(i),width:this.parentElement.offsetWidth,height:this.parentElement.offsetHeight}}get bounds(){const{offsets:i}=this;return{top:i.top,left:i.left,bottom:i.top+i.height,right:i.left+i.width}}get mainTarget(){return document.getElementById("main")}}E(za,"values",{size:Array,position:Array});const yc=Object.freeze(Object.defineProperty({__proto__:null,default:za},Symbol.toStringTag,{value:"Module"}));class Vr extends C{reset(){this.inputTargets.filter(t=>t.type!=="hidden").forEach(t=>t.value="")}validate(t){const i=this.inputTargets.find(r=>r.value==="");i&&(i.focus(),Bo(t))}async submit(){const t=new kn(this.methodValue,this.urlValue,{responseKind:"turbo-stream",...this.params});await ms(t.perform()),this.dispatch("complete")}get params(){return hc(this.methodValue,this.inputTargets)}}E(Vr,"targets",["input"]),E(Vr,"values",{url:String,method:{type:String,default:"get"}});const bc=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"})),xi=(e,...t)=>zt.t("nps.".concat(e),...t),nn=e=>e>=7776e6;class zr extends C{async connect(){await Promise.all([ht("https://cdn.jsdelivr.net/npm/spacetime@7.4.7/builds/spacetime.min.js"),ht("https://code.highcharts.com/highcharts.js")]),Highcharts.setOptions(jt),this.chart=this.renderChart(),this.setSeries()}disconnect(){var t;(t=this.chart)==null||t.destroy()}update(){this._promoters=this.seriesOutlet.pluck("promoters_count"),this._passives=this.seriesOutlet.pluck("passives_count"),this._detractors=this.seriesOutlet.pluck("detractors_count"),this._npsScore=this.seriesOutlet.pluck("nps_score"),requestAnimationFrame(()=>this.setSeries())}renderChart(){return new Highcharts.Chart({chart:{renderTo:this.containerTarget,type:"column",spacingBottom:0},yAxis:[{min:0,max:100,alignTicks:!1,title:{text:xi("responses")},labels:{format:"{value}%"}},{min:-100,max:100,opposite:!0,alignTicks:!1,title:{text:"Net Promoter Score"}}],xAxis:{type:"datetime",labels:{formatter(){return nn(this.axis.tickInterval)&&(this.dateTimeLabelFormat=this.axis.options.dateTimeLabelFormats.quarter),this.axis.defaultLabelFormatter.call(this)}}},plotOptions:{column:{stacking:"percent",borderRadius:0,borderWidth:2,borderColor:X.gray[800],tooltip:{valueSuffix:" ({#if (isUndefined point.percentage)}0%{else}{point.percentage:.0f}%{/if})"}},spline:{marker:jt.plotOptions.line.marker}},tooltip:{shared:!0,headerFormat:"<p class='font-semibold text-gray-700 mb-1'>{point.key}</p>",formatter(t){const{tickInterval:i}=t.chart.xAxis[0],{tooltipOptions:r}=this.points[0].series;return nn(i)?r.xDateFormat=r.dateTimeLabelFormats.quarter:r.xDateFormat=void 0,t.defaultFormatter.call(this,t)}},series:[{id:"promoters",type:"column",name:xi("promoters"),color:X.indigo[600]},{id:"passives",type:"column",name:xi("passives"),color:X.yellow[300]},{id:"detractors",type:"column",name:xi("detractors"),color:X.red[500]},{id:"nps",name:"NPS Score",type:"spline",color:X.gray[400],clip:!1,yAxis:1}]})}setData(t,i){var r;return(r=this.chart)==null?void 0:r.get(t).setData(i||[],!1,!0,!1)}setSeries(){var t;this.setData("promoters",this._promoters),this.setData("passives",this._passives),this.setData("detractors",this._detractors),this.setData("nps",this._npsScore),(t=this.chart)==null||t.redraw()}}E(zr,"targets",["container"]),E(zr,"outlets",["series"]);const Tc=Object.freeze(Object.defineProperty({__proto__:null,default:zr},Symbol.toStringTag,{value:"Module"}));class Na extends C{constructor(){super(...arguments);E(this,"setDraggingClass",()=>{this.classList.add("sortable-dragging")});E(this,"ceaseDragging",()=>{this.classList.remove("sortable-dragging"),this.grid.synchronize(),this.applyOrdering()})}connect(){this.grid=new R(this.element,{dragEnabled:!0,dragAxis:"y",dragHandle:".sortable-handle",dragAutoScroll:{targets:[this.mainTarget]}}),this.grid.on("dragStart",this.setDraggingClass),this.grid.on("dragReleaseEnd",this.ceaseDragging)}disconnect(){var i;(i=this.grid)==null||i.destroy()}refreshItems(){clearTimeout(this.refreshItemsTimeout),this.refreshItemsTimeout=setTimeout(()=>{var i,r;return(r=(i=this.grid)==null?void 0:i.refreshItems())==null?void 0:r.layout()},50)}get mainTarget(){return document.getElementById("main")}itemTargetConnected(i){var r;i.classList.contains("muuri-item")||(r=this.grid)==null||r.add(i)}itemTargetDisconnected(){this.refreshItems()}applyOrdering(){this.inputTargets.forEach((i,r)=>i.value=r)}}E(Na,"targets",["item","input"]);const wc=Object.freeze(Object.defineProperty({__proto__:null,default:Na},Symbol.toStringTag,{value:"Module"}));function Ha(e){document.documentElement.style.removeProperty("--".concat(e))}function Sc(e,t){t?document.documentElement.style.setProperty("--".concat(e),t):Ha(e)}function Ec(e){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(e)).trim()}function xc(e){const t=Number.parseInt(e.substr(1,2),16),i=Number.parseInt(e.substr(3,2),16),r=Number.parseInt(e.substr(5,2),16);return(t*299+i*587+r*114)/1e3>=128?"black":"white"}function ys(e){let[t,i,r]=Ec(e).replace(/[^0-9. ]+/g,"").split(/[ ,]+/).map(o=>Math.round(o));r/=100;const s=i*Math.min(r,1-r)/100,n=o=>{const l=(o+t/30)%12,h=r-s*Math.max(Math.min(l-3,9-l,1),-1);return Math.round(255*h).toString(16).padStart(2,"0")};return"".concat(n(0)).concat(n(8)).concat(n(4))}class Nr extends C{constructor(){super(...arguments);E(this,"onEvent",i=>{var s;const r=i.currentTime||((s=i.playerData)==null?void 0:s.currentTime);r!==void 0&&(this.currentTime=r)});E(this,"onReady",()=>{var r;const i=(r=this.customTimeValue)!=null?r:this.timeValue;this.player.onEvent(this.onEvent),this.player.setCurrentTime(i)})}async connect(){await ht("https://player.pandavideo.com.br/api.v2.js"),os(this),this.iframeElement=this.createIframe(),this.element.appendChild(this.iframeElement),this.player=new PandaPlayer(this.iframeElement.id,{onReady:this.onReady})}disconnect(){window.removeEventListener("message",this.player.captureMessage)}track(){return this.isTrackable&&this.persist()}createIframe(){return Object.assign(document.createElement("iframe"),{id:"panda-".concat(this.uidValue),src:this.src,allow:"accelerometer;gyroscope;autoplay;encrypted-media;picture-in-picture",allowFullscreen:!0})}persist(){this.sending=!0,ri(this.trackUrlValue,{time:this.currentTime}).then(()=>{this.sending=!1})}get isTrackable(){return!this.sending&&this.currentTime>0&&this.currentTime!==this.timeValue}get customTimeValue(){const i=new URLSearchParams(location.search);return i.has("t")?Number.parseInt(i.get("t")):null}get src(){const i=new URL(this.playerUrlValue),r=ys("brand");return i.searchParams.set("saveProgress",!1),this.pandaKeepColorsMeta||i.searchParams.set("color",r),i.toString()}}E(Nr,"values",{uid:String,playerUrl:String,trackUrl:String,time:Number}),E(Nr,"metaNames",["panda-keep-colors"]);const Dc=Object.freeze(Object.defineProperty({__proto__:null,default:Nr},Symbol.toStringTag,{value:"Module"}));class Hr extends C{constructor(){super(...arguments);E(this,"updateColor",i=>{const r=i.toHSLA().map(s=>s.toFixed(2)).slice(0,3).join(" ");Sc(this.propertyValue,r),this.inputTarget.value=i.toHEXA().toString(),this.dispatch("change")})}async connect(){const{default:i}=await Ut(async()=>{const{default:r}=await import("./pickr.es5.min-Rdv06rtu.js").then(s=>s.p);return{default:r}},__vite__mapDeps([2,1]));this.pickr=i.create({el:this.containerTarget,theme:"nano",default:this.inputTarget.value,comparison:!1,lockOpacity:!0,components:{preview:!1,hue:!0,opacity:!1,interaction:{input:!0}}}),this.pickr.on("init",()=>this.dispatch("change")),this.pickr.on("change",this.updateColor),this.pickr.getRoot().interaction.result.maxLength=7}disconnect(){Ha(this.propertyValue),this.pickr.destroyAndRemove()}enable(){this.pickr.enable()}disable(){this.pickr.disable()}get isDarkConstrast(){return xc(this.inputTarget.value)==="black"}}E(Hr,"targets",["container","input"]),E(Hr,"values",{property:String});const Ac=Object.freeze(Object.defineProperty({__proto__:null,default:Hr},Symbol.toStringTag,{value:"Module"})),ae=(e,...t)=>zt.t("quizzes.".concat(e),...t);class qr extends C{async connect(){await Promise.all([ht("https://cdn.jsdelivr.net/npm/spacetime@7.4.7/builds/spacetime.min.js"),ht("https://code.highcharts.com/highcharts.js")]),Highcharts.setOptions(jt),this.chart=this.renderChart(),this.setSeries()}disconnect(){var t;(t=this.chart)==null||t.destroy()}update(){const t=this.seriesOutlet.getRecords();this._correctAnswers=t.map(i=>i.correct_answers_count),this._wrongAnswers=t.map(i=>i.wrong_answers_count),this._attempts=t.map(i=>i.attempts_count),this._uniqueUsers=t.map(i=>i.unique_users_count),requestAnimationFrame(()=>this.setSeries())}renderChart(){const t=this;return new Highcharts.Chart({chart:{renderTo:this.containerTarget,type:"column"},yAxis:[{min:0,alignTicks:!1,allowDecimals:!1,title:{text:ae("y_axis_title")}},{min:0,opposite:!0,alignTicks:!1,allowDecimals:!1,title:{text:ae("attempts")}}],xAxis:{labels:{format:ae("x_axis_title")}},tooltip:{shared:!0,headerFormat:"<p class='font-semibold text-gray-700 mb-1'>Pergunta #{add point.x 1}</p>",valueSuffix:" {#unless (isUndefined point.percentage)}({point.percentage:.0f}%){/unless}",formatter(i){const r=i.defaultFormatter.call(this,i),s=t._uniqueUsers[this.key];return r.push('<span class="text-blue-700">●</span> '.concat(ae("unique_users"),": <b>").concat(s,"</b><br/>")),r}},plotOptions:{column:{stacking:"normal",borderRadius:0,borderWidth:2,borderColor:X.gray[800]},spline:{marker:jt.plotOptions.line.marker}},series:[{id:"correct_answers",type:"column",name:ae("correct_answers"),color:X.lime[300]},{id:"wrong_answers",type:"column",name:ae("wrong_answers"),color:X.rose[400]},{id:"attempts",name:ae("attempts"),type:"spline",color:X.gray[400],clip:!1,yAxis:1}]})}setData(t,i){var r;return(r=this.chart)==null?void 0:r.get(t).setData(i||[],!1,!0,!1)}setSeries(){var t;this.setData("correct_answers",this._correctAnswers),this.setData("wrong_answers",this._wrongAnswers),this.setData("attempts",this._attempts),(t=this.chart)==null||t.redraw()}}E(qr,"targets",["container"]),E(qr,"outlets",["series"]);const Oc=Object.freeze(Object.defineProperty({__proto__:null,default:qr},Symbol.toStringTag,{value:"Module"}));class qa extends C{connect(){this.update()}update(){this.textTarget.innerText=this.formattedValue}get percentage(){return Number.parseInt(this.inputTarget.max)===100}get formattedValue(){const{value:t}=this.inputTarget;return this.percentage?"".concat(t,"%"):Number.parseInt(t)===0?"∞":t}}E(qa,"targets",["input","text"]);const Ic=Object.freeze(Object.defineProperty({__proto__:null,default:qa},Symbol.toStringTag,{value:"Module"}));class Ya extends C{select({submitter:t}){const i=["grayscale","hover:grayscale-0"];this.submitTargets.forEach(r=>r.classList.add(...i)),t.classList.remove(...i)}}E(Ya,"targets",["submit"]);const Cc=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"}));class Yr extends C{async connect(){const[,{Redactor:t,aitoolsOptions:i}]=await Promise.all([Ut(()=>Promise.resolve({}),__vite__mapDeps([3])),Ut(()=>import("./redactor-D8fgarN9.js"),[])]);this.redactor=t(this.textareaTarget,{plugins:["fontcolor","alignment","fullscreen","imageresize","emoji","counter","ai"],lang:this.language,scrollTarget:"#main",theme:"light",minHeight:this.minHeightValue,command:!1,image:{upload:"/redactor/images",select:"/redactor/images",name:"image",multiple:!1},toolbar:{add:{emoji:{position:{after:"image"}},removeinline:{position:{after:"table"}},hotkeys:{position:{after:"removeinline"}}}},control:{hide:["outset"]},extrabar:{hide:["hotkeys"]},buttons:{toolbar:["html","ai-tools","ai-image","format","bold","italic","underline","moreinline","list","link","image","table"],extrabar:[]},popups:{format:["text","h1","h2","h3","h4","quote"],addbar:["ai-tools","text","heading","image","list","embed","table","quote","pre","line"],inline:["highlight","deleted","sup","sub","code"]},ai:Object.assign({},i[this.language],{text:{url:"/redactor/completions",stream:!0}})})}disconnect(){var t;(t=this.redactor)==null||t.destroy()}insertText({target:t}){this.redactor.editor.insertContent({html:t.innerText})}get language(){return document.documentElement.lang.toLowerCase().replace("-","_")}}E(Yr,"targets",["textarea"]),E(Yr,"values",{minHeight:{type:String,default:"340px"}});const Lc=Object.freeze(Object.defineProperty({__proto__:null,default:Yr},Symbol.toStringTag,{value:"Module"}));class $r extends C{connect(){this.toggleButton()}portalOpened(){this.idsValue.forEach(t=>{const i=this.modalTarget.querySelector("#role_".concat(t));i&&(i.checked=!0)})}portalClosed(){const t=[...this.modalTarget.querySelectorAll(":checked")];this.idsValue=t.map(i=>i.value)}toggleButton(...t){gt(this.buttonTarget,"pointer-events-none opacity-60",this.notModerator),this.notModerator?this.inputsTarget.innerHTML="":t.length&&this.buttonTarget.click()}renderWith(t){return'<input type="hidden" name="user[role_ids][]" value="'.concat(t,'" />')}idsValueChanged(){const t=this.idsValue.map(i=>this.renderWith(i)).join(" ");this.inputsTarget.innerHTML=t}get notModerator(){return this.selectTarget.selectedIndex<this.selectTarget.options.length-1}get modalTarget(){return document.getElementById("portal")}}E($r,"targets",["select","button","inputs"]),E($r,"values",{ids:Array});const Rc=Object.freeze(Object.defineProperty({__proto__:null,default:$r},Symbol.toStringTag,{value:"Module"}));class $a extends C{constructor(){super(...arguments);E(this,"translate",()=>{const{scrollTop:i}=this.element;this.popoutTargets.forEach(r=>{const s=i+r.offsetHeight/2;r.classList.add("transition-none"),r.style.setProperty("--tw-translate-y","-".concat(s,"px"))})});E(this,"enableTransition",()=>{this.popoutTargets.forEach(i=>{i.classList.remove("transition-none")})})}redraw(){ss()||(clearTimeout(this.scrollEndTimeout),requestAnimationFrame(this.translate),this.scrollEndTimeout=setTimeout(this.enableTransition,200))}}E($a,"targets",["popout"]);const kc=Object.freeze(Object.defineProperty({__proto__:null,default:$a},Symbol.toStringTag,{value:"Module"}));class Pc extends C{connect(){this.scrollIntoView()}scrollIntoView(){var t;(t=this.element)==null||t.scrollIntoView(!1)}scrollIntoViewOnce(){this.scrolled||(this.scrollIntoView(),this.scrolled=!0)}}const Mc=Object.freeze(Object.defineProperty({__proto__:null,default:Pc},Symbol.toStringTag,{value:"Module"}));class Fr extends C{connect(){Qi(this,{wait:500})}submit(){var i;(i=this.abortController)==null||i.abort(),this.abortController=new AbortController;const t=Wo(this.urlValue,{responseKind:"turbo-stream",query:this.query,signal:this.abortController.signal});return ms(t)}delaySubmit(){this.submit()}get query(){return{[this.element.name]:this.element.value}}}E(Fr,"values",{url:String}),E(Fr,"debounces",["delaySubmit"]);const jc=Object.freeze(Object.defineProperty({__proto__:null,default:Fr},Symbol.toStringTag,{value:"Module"}));class Xr extends C{constructor(){super(...arguments);E(this,"handleDragItemPositioned",i=>{const s=i.getGrid().getItems().map(n=>n.getElement().id);_s(this.sortUrlValue,{body:{ids:s}}),this.grid.synchronize(),this.disableDragging()})}disconnect(){var i;(i=this.grid)==null||i.destroy()}toggle(){this.element.click(),this.isDestroyed?this.enableDragging():this.disableDragging()}focusItem({target:i}){var r,s;(s=(r=i.closest(".muuri-item"))==null?void 0:r.classList)==null||s.add("z-10")}blurItem({target:i}){var r,s;(s=(r=i.closest(".muuri-item"))==null?void 0:r.classList)==null||s.remove("z-10")}createGrid(){this.grid=new R(this.element,{itemClass:null,layoutOnInit:!1,dragEnabled:!0,dragAxis:"y",dragHandle:".muuri-item-handle",dragAutoScroll:{targets:[this.mainTarget]}}).on("dragReleaseEnd",this.handleDragItemPositioned),this.grid.layout(!0,i=>{i.forEach(r=>{r.getElement().classList.add("muuri-item")}),Object.assign(this.grid._settings,{itemClass:"muuri-item"})})}refreshItems(){clearTimeout(this.refreshItemsTimeout),this.refreshItemsTimeout=setTimeout(()=>{var i,r;return(r=(i=this.grid)==null?void 0:i.refreshItems())==null?void 0:r.layout()},50)}enableDragging(){this.createGrid(),this.toggleDragHandle(!0),this.expandableTargets.forEach(i=>{i.classList.add(...this.unselectClass),i.setAttribute("aria-expanded",!1)})}disableDragging(){this.expandableTargets.forEach(i=>{i.classList.remove(...this.unselectClass)}),this.toggleDragHandle(!1),this.grid.destroy()}toggleDragHandle(i){this.handleTargets.forEach(r=>{r.classList.toggle("muuri-item-handle",i),gt(r.parentElement,"transition-shadow hover:ring-2 hover:ring-black dark:hover:ring-zinc-200",i)})}get isDestroyed(){return!this.grid||this.grid._isDestroyed}get unselectClass(){return["pointer-events-none","select-none"]}get mainTarget(){return document.getElementById("main")}}E(Xr,"targets",["expandable","handle"]),E(Xr,"values",{sortUrl:String});const Bc=Object.freeze(Object.defineProperty({__proto__:null,default:Xr},Symbol.toStringTag,{value:"Module"}));class Wr extends C{connect(){Gi(this,{element:this.containerTarget,childList:!0})}mutate(){this.activeItemTarget&&gt(this.activeItemTarget,this.activeClasses)}change({target:t}){var r;const i=(r=t.closest("[data-id]"))!=null?r:t;i===this.activeItemTarget?this.unselect():this.select(i)}unselect(){gt(this.activeItemTarget,this.activeClasses,!1),this.inputTarget.value="",this.isTitleChangeable&&(this.titleTarget.value="")}select(t){this.itemTargets.forEach(i=>gt(i,this.activeClasses,!1)),this.inputTarget.value=t.dataset.id,gt(this.activeItemTarget,this.activeClasses),this.isTitleChangeable&&(this.titleTarget.value=t.innerText.trim())}get activeItemTarget(){return this.itemTargets.find(t=>t.dataset.id===this.inputTarget.value)}get isTitleChangeable(){return this.itemTargets.some(i=>i.innerText.trim()===this.titleTarget.value.trim())||this.titleTarget.value===""}}E(Wr,"targets",["input","title","container","item"]),E(Wr,"classes",["active"]);const Vc=Object.freeze(Object.defineProperty({__proto__:null,default:Wr},Symbol.toStringTag,{value:"Module"}));class Fa extends C{rowsValueChanged(){this._periods={},this.dispatch("update")}getRecords(){return this.rowsValue.map(t=>zc(this.columnsValue,t))}pluck(t){const i=this.columnsValue.indexOf(t);return this.rowsValue.map(r=>[this.extractDate(r),r[i]])}aggregateBy(t,i){const r=this.columnsValue.indexOf(t),s=this.columnsValue.indexOf(i);return this.rowsValue.reduce((n,o)=>{var h;const l=o[r];return(h=n[l])!=null||(n[l]=[]),n[l].push([this.extractDate(o),o[s]]),n},{})}indexAggregateBy(t,i){const r={},s=this.aggregateBy(t,i);return Object.entries(s).forEach(([n,o])=>{var l;(l=r[n])!=null||(r[n]={}),o.forEach(h=>{r[n][h.shift()]=h.pop()})}),r}extractDate(t){const i=this.columnsValue.indexOf("period"),r=t[i];return this._periods[r]||(this._periods[r]=Date.parse(r)),this._periods[r]}}E(Fa,"values",{columns:Array,rows:Array});function zc(e,t){const i={};return e.forEach((r,s)=>{i[r]=t[s]}),i}const Nc=Object.freeze(Object.defineProperty({__proto__:null,default:Fa},Symbol.toStringTag,{value:"Module"}));class Xa extends C{constructor(){super(...arguments);E(this,"captureMessage",({data:i})=>{switch(i.eventName){case"timeupdate":this.currentTime=i.currentTime;break}})}connect(){this.iframeElement=this.createIframe(),this.element.appendChild(this.iframeElement),window.addEventListener("message",this.captureMessage)}disconnect(){window.removeEventListener("message",this.captureMessage)}createIframe(){return Object.assign(document.createElement("iframe"),{src:this.src,allow:"accelerometer;clipboard-write;encrypted-media;gyroscope;picture-in-picture;web-share",allowFullscreen:!0})}track(){return this.isTrackable&&this.persist()}get isTrackable(){return!this.sending&&this.currentTime>0&&this.currentTime!==this.timeValue}persist(){this.sending=!0,ri(this.trackUrlValue,{time:this.currentTime}).then(()=>{this.sending=!1})}get customTimeValue(){const i=new URLSearchParams(location.search);return i.has("t")?Number.parseInt(i.get("t")):null}get src(){const i=new URL("https://player.scaleup.com.br/embed/".concat(this.uidValue)),r=ys("brand");return i.searchParams.set("primaryColor","#".concat(r)),i.searchParams.set("events","timeupdate"),i.searchParams.set("seekTo",this.customTimeValue||this.timeValue),i.searchParams.set("keepWatching","0"),i.toString()}}E(Xa,"values",{uid:String,time:Number,trackUrl:String});const Hc=Object.freeze(Object.defineProperty({__proto__:null,default:Xa},Symbol.toStringTag,{value:"Module"}));var qc=Object.defineProperty,Yc=(e,t,i)=>t in e?qc(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i,q=(e,t,i)=>(Yc(e,typeof t!="symbol"?t+"":t,i),i);function an(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function De(e){return new DOMPoint(e.left+e.width/2,e.top+e.height/2)}const $c=(e,t)=>{var i;const r=Array.from(t.entries()),s=De(e);return r.sort(([,n],[,o])=>an(s,De(n))-an(s,De(o))),(i=r[0])==null?void 0:i[0]};class Xi{constructor(t){q(this,"listeners",[]),q(this,"removeAll",()=>{this.listeners.forEach(i=>{var r;return(r=this.target)==null?void 0:r.removeEventListener(...i)})}),this.target=t}add(t,i,r){var s;(s=this.target)==null||s.addEventListener(t,i,r),this.listeners.push([t,i,r])}}function Wa(e){return/auto|scroll/.test(getComputedStyle(e).overflow)||e===document.scrollingElement}function Fc(e){let t=e;const i=[];for(;t=t.parentElement;)!Wa(t)||i.push(t);return i}function Ua(e){return e===document.documentElement?new DOMRect(0,0,window.innerWidth,window.innerHeight):e.getBoundingClientRect()}const on=.2,Di=20;class Xc{constructor(){q(this,"scrollInterval"),q(this,"scrollAmounts",new Map),q(this,"documentListeners",new Xi(document)),q(this,"onPointerMove",(t,i)=>{i.preventDefault(),t.onMove(new DOMPoint(i.clientX,i.clientY),!0),this.scrollAmounts.clear(),document.elementsFromPoint(i.clientX,i.clientY).forEach(r=>{if(!Wa(r))return;const s=Ua(r),n=on*s.width,o=on*s.height;let l=0,h=0;i.clientX>s.right-n?l=(i.clientX-s.right+n)/n*Di:i.clientX<s.left+n&&(l=(i.clientX-s.left-n)/n*Di),i.clientY>s.bottom-o?h=(i.clientY-s.bottom+o)/o*Di:i.clientY<s.top+o&&(h=(i.clientY-s.top-o)/o*Di),(l!==0||h!==0)&&this.scrollAmounts.set(r,[l,h])}),this.scrollAmounts.size?this.scrollInterval||(this.scrollInterval=window.setInterval(()=>{this.scrollAmounts.forEach(([r,s],n)=>n.scrollBy(r,s))},1e3/60)):this.clearScrollInterval()}),q(this,"onPointerUp",(t,i)=>{i.preventDefault(),t.onDrop()})}attach(t,i){const r=s=>{if(s.button!==0)return;const n=i(new DOMPoint(s.clientX,s.clientY));!n||(s.preventDefault(),this.documentListeners.add("pointermove",this.onPointerMove.bind(this,n)),this.documentListeners.add("pointerup",this.onPointerUp.bind(this,n)))};return t.addEventListener("pointerdown",r),t.style.touchAction="none",()=>{t.removeEventListener("pointerdown",r),t.style.touchAction=""}}deactivate(){this.clearScrollInterval(),this.documentListeners.removeAll()}destroy(){}clearScrollInterval(){clearInterval(this.scrollInterval),this.scrollInterval=void 0}}class Wc{constructor(t){q(this,"originalAttributes",new Map),this.target=t}set(t,i){this.saveOriginal(t),this.target.setAttribute(t,i)}add(t,i){this.target.hasAttribute(t)||this.set(t,i)}remove(t){this.saveOriginal(t),this.target.removeAttribute(t)}saveOriginal(t){this.originalAttributes.has(t)||this.originalAttributes.set(t,this.target.getAttribute(t))}revertAll(){for(let[t,i]of this.originalAttributes)i===null?this.target.removeAttribute(t):this.target.setAttribute(t,i);this.originalAttributes.clear()}}const Uc={instructions:"To pick up a sortable item, press space or enter. While dragging, use the arrow keys to move the item. Press space or enter again to drop the item in its new position, or press escape to cancel."};let Gc=0;class Qc{constructor(t={}){q(this,"options"),q(this,"instructionsElement"),q(this,"documentListeners",new Xi(document)),this.options=Object.assign({},Uc,t),this.instructionsElement=this.createInstructionsElement()}attach(t,i){const r=n=>{if(!["Enter","Space"].includes(n.code))return;const o=i();!o||(n.preventDefault(),setTimeout(()=>this.documentListeners.add("keydown",this.onKeyDown.bind(this,o))))},s=new Wc(t);return s.add("tabindex","0"),s.add("role","button"),s.add("aria-roledescription","sortable"),this.instructionsElement&&s.add("aria-describedby",this.instructionsElement.id),t.addEventListener("keydown",r),()=>{s.revertAll(),t.removeEventListener("keydown",r)}}deactivate(){this.documentListeners.removeAll()}destroy(){var t;(t=this.instructionsElement)==null||t.remove()}onKeyDown(t,i){if(["Enter","Space"].includes(i.code)){i.preventDefault(),t.onDrop(),t.activator.focus();return}if(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].includes(i.code)){i.preventDefault();const{options:{collisionDetection:r,strategy:s},rects:n,itemsByContainer:o,pointer:l,position:h,activeItem:g,onMove:m,container:T}=t,v=new Map;for(let[p,f]of o)for(let c of f.size?f:[p]){const a=n.get(c);(i.key==="ArrowUp"&&a.bottom<l.y||i.key==="ArrowDown"&&a.top>l.y||i.key==="ArrowLeft"&&a.right<l.x||i.key==="ArrowRight"&&a.left>l.x)&&v.set(c,a)}const y=r(h,v);if(!y)return;m(De(n.get(y)));let w=De(n.get(g));for(let[,p]of o){if(!p.has(g))continue;const f=Array.from(p),c=f.indexOf(g);let a=f.indexOf(y);i.key==="ArrowUp"&&T!==t.container&&a++;const d=s({rects:f.map(u=>n.get(u)),activeIndex:c,overIndex:a===-1?c:a,index:c});w.x+=(d==null?void 0:d.x)||0,w.y+=(d==null?void 0:d.y)||0}let _=0,b=0;for(let p of Fc(g)){const f=Ua(p),c=Math.min(p.scrollWidth-p.clientWidth-p.scrollLeft,Math.max(-p.scrollLeft,w.x-f.x-f.width/2)),a=Math.min(p.scrollHeight-p.clientHeight-p.scrollTop,Math.max(-p.scrollTop,w.y-f.y-f.height/2));p.scrollBy({left:c,top:a,behavior:"smooth"}),_+=c,b+=a}m(new DOMPoint(w.x-_,w.y-b))}}createInstructionsElement(){if(!this.options.instructions)return;const t=document.createElement("div");return t.id="SortableInstructions-"+Gc++,t.style.display="none",t.textContent=this.options.instructions,document.body.appendChild(t),t}}function Jc(e){let t=e.getBoundingClientRect();const{transform:i,transformOrigin:r}=window.getComputedStyle(e);return i&&(t=Zc(t,i,r)),t}function Zc(e,t,i){const r=Kc(t);if(!r)return e;const{scaleX:s,scaleY:n,x:o,y:l}=r,h=e.left-o-(1-s)*parseFloat(i),g=e.top-l-(1-n)*parseFloat(i.slice(i.indexOf(" ")+1)),m=s?e.width/s:e.width,T=n?e.height/n:e.height;return new DOMRect(h,g,m,T)}function Kc(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}class tu{constructor(t,i,r,s,n,o){q(this,"overItem"),q(this,"overlay"),q(this,"pointer",new DOMPoint(0,0)),q(this,"pointerOffset",new DOMPoint(0,0)),q(this,"position"),q(this,"itemsByContainer"),q(this,"rects",new Map),q(this,"originalContainer"),q(this,"originalIndex",-1),q(this,"documentListeners",new Xi(document)),q(this,"windowListeners",new Xi(window)),q(this,"onMove",(l,h)=>{this.pointer=l,this.position.x=l.x+this.pointerOffset.x,this.position.y=l.y+this.pointerOffset.y;const g=new CustomEvent("dragmove",{detail:this});this.instance.dispatchEvent(g),this.updateOverlay(h);let m=new Map;this.itemsByContainer.forEach((v,y)=>{const w=this.rects.get(y);l.x>w.left&&l.x<w.right&&l.y>w.top&&l.y<w.bottom&&(v.size?v.forEach(_=>m.set(_,this.rects.get(_))):m.set(y,this.rects.get(y)))}),m.size||(m=this.rects);const T=this.options.collisionDetection(this.position,m);if(T!==this.overItem){const v=new CustomEvent("dragover",{cancelable:!0,detail:{...this,overItem:T}});if(this.instance.dispatchEvent(v),v.defaultPrevented)return;this.overItem=T}this.itemsByContainer.forEach((v,y)=>{v.has(this.activeItem)&&!y.contains(T)?v.delete(this.activeItem):y.contains(T)&&!v.has(this.activeItem)&&(v.add(this.activeItem),y.appendChild(this.activeItem),this.updateRects())}),this.instance.announce(this.instance.options.announcements.onDragOver(this)),this.itemsByContainer.forEach(v=>{const y=Array.from(v),w=y.indexOf(this.activeItem),_=y.indexOf(T),b=y.map(p=>this.rects.get(p));y.forEach((p,f)=>{if(p.style.transform="none",_===-1)return;const c=this.options.strategy({rects:b,activeIndex:w,overIndex:_,index:f});if(!c)return;const a=Math.round(c.x),d=Math.round(c.y);p.style.transform="translate(".concat(a,"px, ").concat(d,"px)")})})}),q(this,"onDrop",()=>{const{activeItem:l,overItem:h}=this;if(l&&h){const g=new CustomEvent("drop",{cancelable:!0,detail:this});this.instance.dispatchEvent(g),g.defaultPrevented||(this.instance.containers.has(h)?h.appendChild(l):l.compareDocumentPosition(h)===Node.DOCUMENT_POSITION_PRECEDING?h.before(l):h.after(l),this.instance.announce(this.instance.options.announcements.onDrop(this)))}this.destroy()}),q(this,"onCancel",()=>{this.activeItem&&this.originalContainer&&this.originalIndex!==-1&&this.originalContainer.insertBefore(this.activeItem,this.originalContainer.children[this.originalIndex]);const l=new CustomEvent("dragcancel",{cancelable:!1,detail:this});this.instance.dispatchEvent(l),this.instance.announce(this.instance.options.announcements.onDragCancel(this)),this.activator.focus(),setTimeout(()=>this.destroy())}),q(this,"onScroll",()=>{this.updateRects(),this.onMove(this.pointer)}),q(this,"onKeyDown",l=>{l.key==="Escape"&&(l.preventDefault(),this.onCancel())}),this.instance=t,this.sensor=i,this.activeItem=r,this.activator=s,this.onFinished=n,this.itemsByContainer=new Map;for(let l of t.containers){const h=Array.from(l.children).filter(this.instance.options.filter),g=h.indexOf(r);g!==-1&&(this.originalContainer=l,this.originalIndex=g),this.itemsByContainer.set(l,new Set(h))}this.updateRects(),this.position=DOMRect.fromRect(this.rects.get(this.activeItem)),this.pointer=o||De(this.position),this.pointerOffset=new DOMPoint(this.position.x-this.pointer.x,this.position.y-this.pointer.y),this.overlay=this.createOverlay(r),this.updateOverlay(),document.body.appendChild(this.overlay),this.windowListeners.add("scroll",this.onScroll,{capture:!0,passive:!0}),this.documentListeners.add("keydown",this.onKeyDown),this.instance.announce(this.instance.options.announcements.onDragStart(this))}get options(){return this.instance.options}get container(){for(let[t,i]of this.itemsByContainer)if(i.has(this.activeItem))return t;return Array.from(this.itemsByContainer.keys())[0]}get activeIndex(){for(let[,t]of this.itemsByContainer)if(t.has(this.activeItem))return Array.from(t).indexOf(this.activeItem);return-1}get overIndex(){if(this.overItem){for(let[,t]of this.itemsByContainer)if(t.has(this.overItem))return Array.from(t).indexOf(this.overItem)}return-1}destroy(){this.sensor.deactivate(),this.itemsByContainer.forEach(r=>{r.forEach(s=>{s.style.transition="none",s.style.transform="none",s.offsetWidth,s.style.transition=""})});const{activeItem:t,overlay:i}=this;if(t&&i){const r=t.getBoundingClientRect();i.style.transform="translate(".concat(r.x,"px, ").concat(r.y,"px)"),Promise.all(i.getAnimations().map(s=>s.finished)).then(()=>{i.remove();const s=new CustomEvent("dragend",{cancelable:!1,detail:this});this.instance.dispatchEvent(s)})}this.windowListeners.removeAll(),this.documentListeners.removeAll(),this.onFinished()}updateRects(){this.rects.clear(),this.itemsByContainer.forEach((t,i)=>{[i,...t].forEach(r=>{this.rects.set(r,Jc(r))})})}createOverlay(t){const i=t.cloneNode(!0);return Object.assign(i.style,{position:"fixed",top:0,left:0,margin:0}),i}updateOverlay(t){if(Object.assign(this.overlay.style,{transform:"translate(".concat(this.position.x,"px, ").concat(this.position.y,"px)"),width:this.position.width+"px",height:this.position.height+"px"}),t){const i=this.overlay.style.transition;this.overlay.style.transition="none",this.overlay.offsetWidth,this.overlay.style.transition=i}}}function eu(e,t,i){const r=e.slice();return r.splice(i<0?r.length+i:i,0,r.splice(t,1)[0]),r}const iu=({rects:e,index:t,overIndex:i,activeIndex:r})=>{const s=eu(e,i,r),n=e[t],o=s[t];return!o||!n?null:{x:o.left-n.left,y:o.top-n.top}},ru=({rects:e,index:t,overIndex:i,activeIndex:r})=>{const s=e[r];if(t===r){const o=e[i];return{x:0,y:r<i?o.top+o.height-(s.top+s.height):o.top-s.top}}const n=su(e,t,r);return t>r&&t<=i?{x:0,y:-s.height-n}:t<r&&t>=i?{x:0,y:s.height+n}:{x:0,y:0}};function su(e,t,i){const r=e[t],s=e[t-1],n=e[t+1];return r?i<t?s?r.top-(s.top+s.height):n?n.top-(r.top+r.height):0:n?n.top-(r.top+r.height):s?r.top-(s.top+s.height):0:0}function oe(e){var t;const i=e.getAttribute("aria-labelledby");return i&&((t=document.getElementById(i))==null?void 0:t.textContent)||e.getAttribute("aria-label")}const nu={filter:()=>!0,activator:e=>e,sensors:[new Xc,new Qc],collisionDetection:$c,strategy:iu,announcements:{onDragStart({activeItem:e,activeIndex:t,container:i}){const r=oe(e)||"item ".concat(t+1),s=oe(i);return"Picked up ".concat(r)+(s?" in ".concat(s):"")},onDragOver({activeItem:e,activeIndex:t,container:i,overIndex:r}){const s=oe(e)||"item ".concat(t+1),n=oe(i);return"".concat(s," was moved to position ").concat(r+1)+(n?" in ".concat(n):"")},onDrop({activeItem:e,activeIndex:t,container:i,overIndex:r}){const s=oe(e)||"item ".concat(t+1),n=oe(i);return"".concat(s," was dropped in position ").concat(r+1)+(n?" in ".concat(n):"")},onDragCancel({activeItem:e,activeIndex:t}){return"Sorting was cancelled. ".concat(oe(e)||"item ".concat(t+1)," was dropped.")}}},au=EventTarget;class ou extends au{constructor(t={}){var i;super(),q(this,"containers",new Set),q(this,"options"),q(this,"context"),q(this,"containerObservers",new Map),q(this,"itemDetachers",new Map),q(this,"liveRegion"),this.options=Object.assign({},nu,t),this.liveRegion=this.createLiveRegion(),(i=t.containers)==null||i.forEach(r=>this.addContainer(r))}announce(t){this.liveRegion.textContent=t}destroy(){var t;(t=this.context)==null||t.onCancel(),this.liveRegion.remove(),this.containers.forEach(i=>this.removeContainer(i)),this.options.sensors.forEach(i=>i.destroy())}addContainer(t){if(this.containers.has(t))return;this.containers.add(t),Array.from(t.children).forEach(r=>this.attachItem(r));const i=new MutationObserver(r=>{r.forEach(s=>{s.addedNodes.forEach(n=>{n instanceof HTMLElement&&setTimeout(()=>this.attachItem(n))}),s.removedNodes.forEach(n=>{n instanceof HTMLElement&&this.detachItem(n)})})});i.observe(t,{childList:!0}),this.containerObservers.set(t,i)}removeContainer(t){var i;!this.containers.has(t)||(this.containers.delete(t),Array.from(t.children).forEach(r=>this.detachItem(r)),(i=this.containerObservers.get(t))==null||i.disconnect(),this.containerObservers.delete(t))}attachItem(t){if(!this.options.filter(t))return;const i=[];for(let r of this.options.sensors){const s=this.options.activator(t);if(!s)continue;const n=r.attach(s,o=>this.start(r,t,s,o));i.push(n)}this.itemDetachers.set(t,i)}detachItem(t){var i;(i=this.itemDetachers.get(t))==null||i.forEach(r=>r()),this.itemDetachers.delete(t)}start(t,i,r,s){if(this.context)return;const n=new tu(this,t,i,r,()=>this.context=void 0,s),o=new CustomEvent("dragstart",{cancelable:!0,detail:n});if(this.dispatchEvent(o),!o.defaultPrevented)return this.context=n}createLiveRegion(){const t=document.createElement("div");return Object.assign(t.style,{clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:"1px",overflow:"hidden",position:"absolute",top:0,whiteSpace:"nowrap",width:"1px"}),t.setAttribute("role","status"),t.setAttribute("aria-live","assertive"),t.setAttribute("aria-atomic",""),document.body.appendChild(t),t}}const Ai={scaleX:1,scaleY:1},lu=({rects:e,activeIndex:t,overIndex:i,index:r})=>{const s=e[t];if(!s)return null;const n=hu(e,r,t);if(r===t){const o=e[i];return o?{x:t<i?o.left+o.width-(s.left+s.width):o.left-s.left,y:0,...Ai}:null}return r>t&&r<=i?{x:-s.width-n,y:0,...Ai}:r<t&&r>=i?{x:s.width+n,y:0,...Ai}:{x:0,y:0,...Ai}};function hu(e,t,i){const r=e[t],s=e[t-1],n=e[t+1];return!r||!s&&!n?0:i<t?s?r.left-(s.left+s.width):n.left-(r.left+r.width):n?n.left-(r.left+r.width):r.left-(s.left+s.width)}class Ur extends C{constructor(){super(...arguments);E(this,"setDraggingClass",({detail:i})=>{const r=i.activeItem.closest(".dark");i.activeItem.classList.add("sortable-ghost"),i.overlay.setAttribute("aria-grabbed","true"),i.overlay.classList.add("sortable-dragging"),r&&i.overlay.classList.add("dark")});E(this,"stopDragging",({detail:i})=>{i.activeItem.classList.remove("sortable-ghost"),this.persistChanges()})}connect(){this.sortable=new ou({containers:[this.element],strategy:this.sortableStrategy,activator:i=>i.querySelector(".sortable-handle"),filter:i=>i.classList.contains("sortable-item")}),this.sortable.addEventListener("dragstart",this.setDraggingClass),this.sortable.addEventListener("dragend",this.stopDragging)}disconnect(){this.sortable.destroy()}applyOrdering(){return this.inputTargets.forEach((i,r)=>i.value=r)}get sortableStrategy(){switch(this.strategyValue){case"vertical":return ru;case"horizontal":return lu;default:throw new Error("unknown sorting strategy ".concat(this.strategyValue))}}get sortableItemsIds(){return[...this.element.children].map(i=>i.dataset.id)}updateRemote(){return _s(this.urlValue,{body:{ids:this.sortableItemsIds}})}persistChanges(){this.hasUrlValue?this.updateRemote():this.hasInputTarget&&this.applyOrdering()}}E(Ur,"targets",["input"]),E(Ur,"values",{url:String,strategy:{type:String,default:"vertical"}});const cu=Object.freeze(Object.defineProperty({__proto__:null,default:Ur},Symbol.toStringTag,{value:"Module"})),Ga={};class Qa extends C{constructor(){super(...arguments);E(this,"handleTouchMove",i=>{i.allowTouchMove=!i.el.querySelector(".sortable-ghost")});E(this,"handleTouchEnd",i=>{i.allowTouchMove=!0});E(this,"handleSnapGridLengthChange",i=>{ss()&&i.snapGrid.length!==i.slidesGrid.length&&(i.snapGrid=i.slidesGrid.slice(0))})}static afterLoad(){window.addEventListener("turbo:before-visit",du),window.addEventListener("turbo:before-render",hn),window.addEventListener("turbo:render",hn)}async connect(){const{default:i,FreeMode:r,Navigation:s}=await Ut(async()=>{const{default:o,FreeMode:l,Navigation:h}=await import("./swiper-uZbYBFhK.js");return{default:o,FreeMode:l,Navigation:h}},[]),n=this.getSwiperOptions({modules:[r,s]});this.swiper=new i(this.element,n)}disconnect(){var i;(i=this.swiper)==null||i.destroy()}prev(){var i;(i=this.swiper)==null||i.slidePrev()}next(){var i;(i=this.swiper)==null||i.slideNext()}get chipsEnabled(){return this.hasChipsValue&&this.chipsValue}get activeSlideElement(){return this.element.querySelector(".swiper-slide-active")}get activeSlideIndex(){return this.chipsEnabled?uu(this.activeSlideElement):0}getSwiperOptions({modules:i}){const r={slidesPerView:"auto",observer:!0};return this.chipsEnabled&&Object.assign(r,{modules:i,initialSlide:this.activeSlideIndex,slideToClickedSlide:!0,freeMode:!0,on:{touchMove:this.handleTouchMove,touchEnd:this.handleTouchEnd,snapGridLengthChange:this.handleSnapGridLengthChange},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}),r}}E(Qa,"values",{chips:Boolean});function uu(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function du(){document.querySelectorAll("[data-swiper-preserve]").forEach(e=>{Ga[e.id]=e.getAttribute("style")})}function ln(e){e.querySelectorAll("[data-swiper-preserve]").forEach(t=>{t.setAttribute("style",Ga[t.id])})}function hn({detail:e}){ln(document),e!=null&&e.newBody&&ln(e.newBody)}const fu=Object.freeze(Object.defineProperty({__proto__:null,default:Qa},Symbol.toStringTag,{value:"Module"}));class Gr extends C{update({detail:t}){const{renderWidth:i,renderHeight:r,offsetWidth:s,offsetHeight:n}=t,[o]=t.size,[l,h]=t.position,g=hs(i,r),m=Math.round(r*g);this.mergeAttributes({content:this.nameValue,x:Ee(l,i,s),y:m-Ee(h,r,n),width:Ee(o,i,s)})}disabledValueChanged(){this.dispatch("toggle",{detail:{name:this.nameValue,disabled:this.disabledValue}}),this.element.classList.toggle("hidden",this.disabledValue),this.fieldsValueChanged()}fieldsValueChanged(){this.inputsTarget.innerHTML=this.disabledValue?"":this.renderInputs()}renderInputs(){return Object.keys(this.fieldsValue).map(t=>{const i=this.fieldsValue[t];return'<input type="hidden" name="certificate_template[texts][]['.concat(t,']" value="').concat(i,'">')}).join("\n")}mergeAttributes(t){this.fieldsValue=Object.assign({},this.defaults,this.fieldsValue,t)}get defaults(){return{width:220,font_family:"Helvetica",font_color:"#000000",font_size:36}}}E(Gr,"targets",["inputs"]),E(Gr,"values",{name:String,fields:Object,disabled:Boolean});const pu=Object.freeze(Object.defineProperty({__proto__:null,default:Gr},Symbol.toStringTag,{value:"Module"}));class gu extends C{constructor(){super(...arguments);E(this,"hide",()=>{Vo(this.overlayElement,()=>{this.overlayElement.classList.add("hidden")}),this.overlayElement.classList.remove("opacity-90")})}connect(){this.overlayElement=document.createElement("div"),this.overlayElement.className="transition-opacity duration-200 hidden fixed inset-0 bg-black opacity-0 z-10",this.overlayElement.addEventListener("click",this.hide),document.getElementById("main").after(this.overlayElement)}disconnect(){this.overlayElement.remove()}show(){this.overlayElement.classList.remove("hidden"),requestAnimationFrame(()=>{this.overlayElement.classList.add("opacity-90")})}}const mu=Object.freeze(Object.defineProperty({__proto__:null,default:gu},Symbol.toStringTag,{value:"Module"})),cn=e=>"navbar-".concat(e.replace("_","-"));class ki extends C{connect(){os(this)}apply(){document.documentElement.dataset.theme=this.themeNameMeta,document.documentElement.dataset.themeTopbar=this.themeTopbarMeta}changeTopbar({target:t}){this.topbarTarget.classList.toggle("dark",t.value!=="classic"),this.topbarTarget.dataset.theme=t.value,this.topbarTarget.dataset.themeTopbar=t.value}changeNavbar(){this.isLoading||(this.navbarTarget.classList.remove("navbar-light","navbar-dark"),this.navbarTarget.classList.remove(...this.navbarStyleClasses),this.navbarTarget.classList.add(this.navbarCurrentClass),this.navbarTarget.classList.add(this.navbarTextClass),this.setPickrState())}setPickrState(){switch(this.navbarCurrentStyle){case"linear_gradient":case"blend_gradient":this.navbarPrimaryPickr.enable(),this.navbarSecondaryPickr.enable();break;case"minimal":case"transparent":this.navbarPrimaryPickr.disable(),this.navbarSecondaryPickr.disable();break;case"solid":this.navbarPrimaryPickr.enable(),this.navbarSecondaryPickr.disable();break}}get isDarkMode(){return this.colorSchemeMeta==="dark light"}get navbarPrimaryPickr(){return this.pickrOutlets.find(t=>t.propertyValue==="navbar-primary"&&t.pickr)}get navbarSecondaryPickr(){return this.pickrOutlets.find(t=>t.propertyValue==="navbar-secondary"&&t.pickr)}get navbarStyleClasses(){return[...this.navbarStyleInputTarget.options].map(t=>cn(t.value))}get navbarCurrentStyle(){return this.navbarStyleInputTarget.value}get navbarCurrentClass(){return cn(this.navbarCurrentStyle)}get isNavbarDarkGradient(){return this.navbarCurrentStyle.includes("gradient")&&this.navbarPrimaryPickr.isDarkConstrast&&this.navbarSecondaryPickr.isDarkConstrast}get isNavbarDarkSolid(){return this.navbarCurrentStyle==="solid"&&this.navbarPrimaryPickr.isDarkConstrast}get isNavbarMinimal(){return this.navbarCurrentStyle==="minimal"}get isNavbarTransparent(){return this.navbarCurrentStyle==="transparent"}get isNavbarDarkText(){return this.isNavbarDarkGradient||this.isNavbarDarkSolid||this.isNavbarMinimal||this.isNavbarTransparent}get navbarTextClass(){return this.isNavbarDarkText?"navbar-light":"navbar-dark"}get isLoading(){return!this.navbarPrimaryPickr||!this.navbarSecondaryPickr}}E(ki,"metaNames",["color-scheme","theme-name","theme-topbar"]),E(ki,"targets",["topbar","navbar","navbarStyleInput"]),E(ki,"outlets",["pickr"]);const _u=Object.freeze(Object.defineProperty({__proto__:null,default:ki},Symbol.toStringTag,{value:"Module"}));var ot="top",vt="bottom",yt="right",lt="left",bs="auto",ai=[ot,vt,yt,lt],Le="start",ei="end",vu="clippingParents",Ja="viewport",Ye="popper",yu="reference",un=ai.reduce(function(e,t){return e.concat([t+"-"+Le,t+"-"+ei])},[]),Za=[].concat(ai,[bs]).reduce(function(e,t){return e.concat([t,t+"-"+Le,t+"-"+ei])},[]),bu="beforeRead",Tu="read",wu="afterRead",Su="beforeMain",Eu="main",xu="afterMain",Du="beforeWrite",Au="write",Ou="afterWrite",Iu=[bu,Tu,wu,Su,Eu,xu,Du,Au,Ou];function Ct(e){return e?(e.nodeName||"").toLowerCase():null}function ft(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function pe(e){var t=ft(e).Element;return e instanceof t||e instanceof Element}function _t(e){var t=ft(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Ts(e){if(typeof ShadowRoot>"u")return!1;var t=ft(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function Cu(e){var t=e.state;Object.keys(t.elements).forEach(function(i){var r=t.styles[i]||{},s=t.attributes[i]||{},n=t.elements[i];!_t(n)||!Ct(n)||(Object.assign(n.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?n.removeAttribute(o):n.setAttribute(o,l===!0?"":l)}))})}function Lu(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow),function(){Object.keys(t.elements).forEach(function(r){var s=t.elements[r],n=t.attributes[r]||{},o=Object.keys(t.styles.hasOwnProperty(r)?t.styles[r]:i[r]),l=o.reduce(function(h,g){return h[g]="",h},{});!_t(s)||!Ct(s)||(Object.assign(s.style,l),Object.keys(n).forEach(function(h){s.removeAttribute(h)}))})}}const Ka={name:"applyStyles",enabled:!0,phase:"write",fn:Cu,effect:Lu,requires:["computeStyles"]};function It(e){return e.split("-")[0]}var ue=Math.max,Wi=Math.min,Re=Math.round;function Qr(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function to(){return!/^((?!chrome|android).)*safari/i.test(Qr())}function ke(e,t,i){t===void 0&&(t=!1),i===void 0&&(i=!1);var r=e.getBoundingClientRect(),s=1,n=1;t&&_t(e)&&(s=e.offsetWidth>0&&Re(r.width)/e.offsetWidth||1,n=e.offsetHeight>0&&Re(r.height)/e.offsetHeight||1);var o=pe(e)?ft(e):window,l=o.visualViewport,h=!to()&&i,g=(r.left+(h&&l?l.offsetLeft:0))/s,m=(r.top+(h&&l?l.offsetTop:0))/n,T=r.width/s,v=r.height/n;return{width:T,height:v,top:m,right:g+T,bottom:m+v,left:g,x:g,y:m}}function ws(e){var t=ke(e),i=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-i)<=1&&(i=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:i,height:r}}function eo(e,t){var i=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(i&&Ts(i)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Vt(e){return ft(e).getComputedStyle(e)}function Ru(e){return["table","td","th"].indexOf(Ct(e))>=0}function te(e){return((pe(e)?e.ownerDocument:e.document)||window.document).documentElement}function nr(e){return Ct(e)==="html"?e:e.assignedSlot||e.parentNode||(Ts(e)?e.host:null)||te(e)}function dn(e){return!_t(e)||Vt(e).position==="fixed"?null:e.offsetParent}function ku(e){var t=/firefox/i.test(Qr()),i=/Trident/i.test(Qr());if(i&&_t(e)){var r=Vt(e);if(r.position==="fixed")return null}var s=nr(e);for(Ts(s)&&(s=s.host);_t(s)&&["html","body"].indexOf(Ct(s))<0;){var n=Vt(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||t&&n.willChange==="filter"||t&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function oi(e){for(var t=ft(e),i=dn(e);i&&Ru(i)&&Vt(i).position==="static";)i=dn(i);return i&&(Ct(i)==="html"||Ct(i)==="body"&&Vt(i).position==="static")?t:i||ku(e)||t}function Ss(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Fe(e,t,i){return ue(e,Wi(t,i))}function Pu(e,t,i){var r=Fe(e,t,i);return r>i?i:r}function io(){return{top:0,right:0,bottom:0,left:0}}function ro(e){return Object.assign({},io(),e)}function so(e,t){return t.reduce(function(i,r){return i[r]=e,i},{})}var Mu=function(t,i){return t=typeof t=="function"?t(Object.assign({},i.rects,{placement:i.placement})):t,ro(typeof t!="number"?t:so(t,ai))};function ju(e){var t,i=e.state,r=e.name,s=e.options,n=i.elements.arrow,o=i.modifiersData.popperOffsets,l=It(i.placement),h=Ss(l),g=[lt,yt].indexOf(l)>=0,m=g?"height":"width";if(!(!n||!o)){var T=Mu(s.padding,i),v=ws(n),y=h==="y"?ot:lt,w=h==="y"?vt:yt,_=i.rects.reference[m]+i.rects.reference[h]-o[h]-i.rects.popper[m],b=o[h]-i.rects.reference[h],p=oi(n),f=p?h==="y"?p.clientHeight||0:p.clientWidth||0:0,c=_/2-b/2,a=T[y],d=f-v[m]-T[w],u=f/2-v[m]/2+c,A=Fe(a,u,d),D=h;i.modifiersData[r]=(t={},t[D]=A,t.centerOffset=A-u,t)}}function Bu(e){var t=e.state,i=e.options,r=i.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||eo(t.elements.popper,s)&&(t.elements.arrow=s))}const Vu={name:"arrow",enabled:!0,phase:"main",fn:ju,effect:Bu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Pe(e){return e.split("-")[1]}var zu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Nu(e,t){var i=e.x,r=e.y,s=t.devicePixelRatio||1;return{x:Re(i*s)/s||0,y:Re(r*s)/s||0}}function fn(e){var t,i=e.popper,r=e.popperRect,s=e.placement,n=e.variation,o=e.offsets,l=e.position,h=e.gpuAcceleration,g=e.adaptive,m=e.roundOffsets,T=e.isFixed,v=o.x,y=v===void 0?0:v,w=o.y,_=w===void 0?0:w,b=typeof m=="function"?m({x:y,y:_}):{x:y,y:_};y=b.x,_=b.y;var p=o.hasOwnProperty("x"),f=o.hasOwnProperty("y"),c=lt,a=ot,d=window;if(g){var u=oi(i),A="clientHeight",D="clientWidth";if(u===ft(i)&&(u=te(i),Vt(u).position!=="static"&&l==="absolute"&&(A="scrollHeight",D="scrollWidth")),u=u,s===ot||(s===lt||s===yt)&&n===ei){a=vt;var O=T&&u===d&&d.visualViewport?d.visualViewport.height:u[A];_-=O-r.height,_*=h?1:-1}if(s===lt||(s===ot||s===vt)&&n===ei){c=yt;var j=T&&u===d&&d.visualViewport?d.visualViewport.width:u[D];y-=j-r.width,y*=h?1:-1}}var P=Object.assign({position:l},g&&zu),V=m===!0?Nu({x:y,y:_},ft(i)):{x:y,y:_};if(y=V.x,_=V.y,h){var Y;return Object.assign({},P,(Y={},Y[a]=f?"0":"",Y[c]=p?"0":"",Y.transform=(d.devicePixelRatio||1)<=1?"translate("+y+"px, "+_+"px)":"translate3d("+y+"px, "+_+"px, 0)",Y))}return Object.assign({},P,(t={},t[a]=f?_+"px":"",t[c]=p?y+"px":"",t.transform="",t))}function Hu(e){var t=e.state,i=e.options,r=i.gpuAcceleration,s=r===void 0?!0:r,n=i.adaptive,o=n===void 0?!0:n,l=i.roundOffsets,h=l===void 0?!0:l,g={placement:It(t.placement),variation:Pe(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,fn(Object.assign({},g,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:o,roundOffsets:h})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,fn(Object.assign({},g,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const qu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Hu,data:{}};var Oi={passive:!0};function Yu(e){var t=e.state,i=e.instance,r=e.options,s=r.scroll,n=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,h=ft(t.elements.popper),g=[].concat(t.scrollParents.reference,t.scrollParents.popper);return n&&g.forEach(function(m){m.addEventListener("scroll",i.update,Oi)}),l&&h.addEventListener("resize",i.update,Oi),function(){n&&g.forEach(function(m){m.removeEventListener("scroll",i.update,Oi)}),l&&h.removeEventListener("resize",i.update,Oi)}}const $u={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yu,data:{}};var Fu={left:"right",right:"left",bottom:"top",top:"bottom"};function Pi(e){return e.replace(/left|right|bottom|top/g,function(t){return Fu[t]})}var Xu={start:"end",end:"start"};function pn(e){return e.replace(/start|end/g,function(t){return Xu[t]})}function Es(e){var t=ft(e),i=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:i,scrollTop:r}}function xs(e){return ke(te(e)).left+Es(e).scrollLeft}function Wu(e,t){var i=ft(e),r=te(e),s=i.visualViewport,n=r.clientWidth,o=r.clientHeight,l=0,h=0;if(s){n=s.width,o=s.height;var g=to();(g||!g&&t==="fixed")&&(l=s.offsetLeft,h=s.offsetTop)}return{width:n,height:o,x:l+xs(e),y:h}}function Uu(e){var t,i=te(e),r=Es(e),s=(t=e.ownerDocument)==null?void 0:t.body,n=ue(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ue(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+xs(e),h=-r.scrollTop;return Vt(s||i).direction==="rtl"&&(l+=ue(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:o,x:l,y:h}}function Ds(e){var t=Vt(e),i=t.overflow,r=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+r)}function no(e){return["html","body","#document"].indexOf(Ct(e))>=0?e.ownerDocument.body:_t(e)&&Ds(e)?e:no(nr(e))}function Xe(e,t){var i;t===void 0&&(t=[]);var r=no(e),s=r===((i=e.ownerDocument)==null?void 0:i.body),n=ft(r),o=s?[n].concat(n.visualViewport||[],Ds(r)?r:[]):r,l=t.concat(o);return s?l:l.concat(Xe(nr(o)))}function Jr(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Gu(e,t){var i=ke(e,!1,t==="fixed");return i.top=i.top+e.clientTop,i.left=i.left+e.clientLeft,i.bottom=i.top+e.clientHeight,i.right=i.left+e.clientWidth,i.width=e.clientWidth,i.height=e.clientHeight,i.x=i.left,i.y=i.top,i}function gn(e,t,i){return t===Ja?Jr(Wu(e,i)):pe(t)?Gu(t,i):Jr(Uu(te(e)))}function Qu(e){var t=Xe(nr(e)),i=["absolute","fixed"].indexOf(Vt(e).position)>=0,r=i&&_t(e)?oi(e):e;return pe(r)?t.filter(function(s){return pe(s)&&eo(s,r)&&Ct(s)!=="body"}):[]}function Ju(e,t,i,r){var s=t==="clippingParents"?Qu(e):[].concat(t),n=[].concat(s,[i]),o=n[0],l=n.reduce(function(h,g){var m=gn(e,g,r);return h.top=ue(m.top,h.top),h.right=Wi(m.right,h.right),h.bottom=Wi(m.bottom,h.bottom),h.left=ue(m.left,h.left),h},gn(e,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function ao(e){var t=e.reference,i=e.element,r=e.placement,s=r?It(r):null,n=r?Pe(r):null,o=t.x+t.width/2-i.width/2,l=t.y+t.height/2-i.height/2,h;switch(s){case ot:h={x:o,y:t.y-i.height};break;case vt:h={x:o,y:t.y+t.height};break;case yt:h={x:t.x+t.width,y:l};break;case lt:h={x:t.x-i.width,y:l};break;default:h={x:t.x,y:t.y}}var g=s?Ss(s):null;if(g!=null){var m=g==="y"?"height":"width";switch(n){case Le:h[g]=h[g]-(t[m]/2-i[m]/2);break;case ei:h[g]=h[g]+(t[m]/2-i[m]/2);break}}return h}function ii(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=r===void 0?e.placement:r,n=i.strategy,o=n===void 0?e.strategy:n,l=i.boundary,h=l===void 0?vu:l,g=i.rootBoundary,m=g===void 0?Ja:g,T=i.elementContext,v=T===void 0?Ye:T,y=i.altBoundary,w=y===void 0?!1:y,_=i.padding,b=_===void 0?0:_,p=ro(typeof b!="number"?b:so(b,ai)),f=v===Ye?yu:Ye,c=e.rects.popper,a=e.elements[w?f:v],d=Ju(pe(a)?a:a.contextElement||te(e.elements.popper),h,m,o),u=ke(e.elements.reference),A=ao({reference:u,element:c,strategy:"absolute",placement:s}),D=Jr(Object.assign({},c,A)),O=v===Ye?D:u,j={top:d.top-O.top+p.top,bottom:O.bottom-d.bottom+p.bottom,left:d.left-O.left+p.left,right:O.right-d.right+p.right},P=e.modifiersData.offset;if(v===Ye&&P){var V=P[s];Object.keys(j).forEach(function(Y){var $=[yt,vt].indexOf(Y)>=0?1:-1,Z=[ot,vt].indexOf(Y)>=0?"y":"x";j[Y]+=V[Z]*$})}return j}function Zu(e,t){t===void 0&&(t={});var i=t,r=i.placement,s=i.boundary,n=i.rootBoundary,o=i.padding,l=i.flipVariations,h=i.allowedAutoPlacements,g=h===void 0?Za:h,m=Pe(r),T=m?l?un:un.filter(function(w){return Pe(w)===m}):ai,v=T.filter(function(w){return g.indexOf(w)>=0});v.length===0&&(v=T);var y=v.reduce(function(w,_){return w[_]=ii(e,{placement:_,boundary:s,rootBoundary:n,padding:o})[It(_)],w},{});return Object.keys(y).sort(function(w,_){return y[w]-y[_]})}function Ku(e){if(It(e)===bs)return[];var t=Pi(e);return[pn(e),t,pn(t)]}function td(e){var t=e.state,i=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,l=o===void 0?!0:o,h=i.fallbackPlacements,g=i.padding,m=i.boundary,T=i.rootBoundary,v=i.altBoundary,y=i.flipVariations,w=y===void 0?!0:y,_=i.allowedAutoPlacements,b=t.options.placement,p=It(b),f=p===b,c=h||(f||!w?[Pi(b)]:Ku(b)),a=[b].concat(c).reduce(function(Rt,wt){return Rt.concat(It(wt)===bs?Zu(t,{placement:wt,boundary:m,rootBoundary:T,padding:g,flipVariations:w,allowedAutoPlacements:_}):wt)},[]),d=t.rects.reference,u=t.rects.popper,A=new Map,D=!0,O=a[0],j=0;j<a.length;j++){var P=a[j],V=It(P),Y=Pe(P)===Le,$=[ot,vt].indexOf(V)>=0,Z=$?"width":"height",Q=ii(t,{placement:P,boundary:m,rootBoundary:T,altBoundary:v,padding:g}),J=$?Y?yt:lt:Y?vt:ot;d[Z]>u[Z]&&(J=Pi(J));var G=Pi(J),ct=[];if(n&&ct.push(Q[V]<=0),l&&ct.push(Q[J]<=0,Q[G]<=0),ct.every(function(Rt){return Rt})){O=P,D=!1;break}A.set(P,ct)}if(D)for(var ut=w?3:1,Tt=function(wt){var kt=a.find(function(me){var Pt=A.get(me);if(Pt)return Pt.slice(0,wt).every(function(_e){return _e})});if(kt)return O=kt,"break"},xt=ut;xt>0;xt--){var ee=Tt(xt);if(ee==="break")break}t.placement!==O&&(t.modifiersData[r]._skip=!0,t.placement=O,t.reset=!0)}}const ed={name:"flip",enabled:!0,phase:"main",fn:td,requiresIfExists:["offset"],data:{_skip:!1}};function mn(e,t,i){return i===void 0&&(i={x:0,y:0}),{top:e.top-t.height-i.y,right:e.right-t.width+i.x,bottom:e.bottom-t.height+i.y,left:e.left-t.width-i.x}}function _n(e){return[ot,yt,vt,lt].some(function(t){return e[t]>=0})}function id(e){var t=e.state,i=e.name,r=t.rects.reference,s=t.rects.popper,n=t.modifiersData.preventOverflow,o=ii(t,{elementContext:"reference"}),l=ii(t,{altBoundary:!0}),h=mn(o,r),g=mn(l,s,n),m=_n(h),T=_n(g);t.modifiersData[i]={referenceClippingOffsets:h,popperEscapeOffsets:g,isReferenceHidden:m,hasPopperEscaped:T},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":m,"data-popper-escaped":T})}const rd={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:id};function sd(e,t,i){var r=It(e),s=[lt,ot].indexOf(r)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},t,{placement:e})):i,o=n[0],l=n[1];return o=o||0,l=(l||0)*s,[lt,yt].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function nd(e){var t=e.state,i=e.options,r=e.name,s=i.offset,n=s===void 0?[0,0]:s,o=Za.reduce(function(m,T){return m[T]=sd(T,t.rects,n),m},{}),l=o[t.placement],h=l.x,g=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=h,t.modifiersData.popperOffsets.y+=g),t.modifiersData[r]=o}const ad={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nd};function od(e){var t=e.state,i=e.name;t.modifiersData[i]=ao({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const ld={name:"popperOffsets",enabled:!0,phase:"read",fn:od,data:{}};function hd(e){return e==="x"?"y":"x"}function cd(e){var t=e.state,i=e.options,r=e.name,s=i.mainAxis,n=s===void 0?!0:s,o=i.altAxis,l=o===void 0?!1:o,h=i.boundary,g=i.rootBoundary,m=i.altBoundary,T=i.padding,v=i.tether,y=v===void 0?!0:v,w=i.tetherOffset,_=w===void 0?0:w,b=ii(t,{boundary:h,rootBoundary:g,padding:T,altBoundary:m}),p=It(t.placement),f=Pe(t.placement),c=!f,a=Ss(p),d=hd(a),u=t.modifiersData.popperOffsets,A=t.rects.reference,D=t.rects.popper,O=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,j=typeof O=="number"?{mainAxis:O,altAxis:O}:Object.assign({mainAxis:0,altAxis:0},O),P=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,V={x:0,y:0};if(u){if(n){var Y,$=a==="y"?ot:lt,Z=a==="y"?vt:yt,Q=a==="y"?"height":"width",J=u[a],G=J+b[$],ct=J-b[Z],ut=y?-D[Q]/2:0,Tt=f===Le?A[Q]:D[Q],xt=f===Le?-D[Q]:-A[Q],ee=t.elements.arrow,Rt=y&&ee?ws(ee):{width:0,height:0},wt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:io(),kt=wt[$],me=wt[Z],Pt=Fe(0,A[Q],Rt[Q]),_e=c?A[Q]/2-ut-Pt-kt-j.mainAxis:Tt-Pt-kt-j.mainAxis,Yt=c?-A[Q]/2+ut+Pt+me+j.mainAxis:xt+Pt+me+j.mainAxis,ve=t.elements.arrow&&oi(t.elements.arrow),li=ve?a==="y"?ve.clientTop||0:ve.clientLeft||0:0,Be=(Y=P==null?void 0:P[a])!=null?Y:0,hi=J+_e-Be-li,ci=J+Yt-Be,Ve=Fe(y?Wi(G,hi):G,J,y?ue(ct,ci):ct);u[a]=Ve,V[a]=Ve-J}if(l){var ze,ui=a==="x"?ot:lt,di=a==="x"?vt:yt,Mt=u[d],$t=d==="y"?"height":"width",Ne=Mt+b[ui],ie=Mt-b[di],He=[ot,lt].indexOf(p)!==-1,fi=(ze=P==null?void 0:P[d])!=null?ze:0,pi=He?Ne:Mt-A[$t]-D[$t]-fi+j.altAxis,gi=He?Mt+A[$t]+D[$t]-fi-j.altAxis:ie,mi=y&&He?Pu(pi,Mt,gi):Fe(y?pi:Ne,Mt,y?gi:ie);u[d]=mi,V[d]=mi-Mt}t.modifiersData[r]=V}}const ud={name:"preventOverflow",enabled:!0,phase:"main",fn:cd,requiresIfExists:["offset"]};function dd(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function fd(e){return e===ft(e)||!_t(e)?Es(e):dd(e)}function pd(e){var t=e.getBoundingClientRect(),i=Re(t.width)/e.offsetWidth||1,r=Re(t.height)/e.offsetHeight||1;return i!==1||r!==1}function gd(e,t,i){i===void 0&&(i=!1);var r=_t(t),s=_t(t)&&pd(t),n=te(t),o=ke(e,s,i),l={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(r||!r&&!i)&&((Ct(t)!=="body"||Ds(n))&&(l=fd(t)),_t(t)?(h=ke(t,!0),h.x+=t.clientLeft,h.y+=t.clientTop):n&&(h.x=xs(n))),{x:o.left+l.scrollLeft-h.x,y:o.top+l.scrollTop-h.y,width:o.width,height:o.height}}function md(e){var t=new Map,i=new Set,r=[];e.forEach(function(n){t.set(n.name,n)});function s(n){i.add(n.name);var o=[].concat(n.requires||[],n.requiresIfExists||[]);o.forEach(function(l){if(!i.has(l)){var h=t.get(l);h&&s(h)}}),r.push(n)}return e.forEach(function(n){i.has(n.name)||s(n)}),r}function _d(e){var t=md(e);return Iu.reduce(function(i,r){return i.concat(t.filter(function(s){return s.phase===r}))},[])}function vd(e){var t;return function(){return t||(t=new Promise(function(i){Promise.resolve().then(function(){t=void 0,i(e())})})),t}}function yd(e){var t=e.reduce(function(i,r){var s=i[r.name];return i[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,i},{});return Object.keys(t).map(function(i){return t[i]})}var vn={placement:"bottom",modifiers:[],strategy:"absolute"};function yn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function bd(e){e===void 0&&(e={});var t=e,i=t.defaultModifiers,r=i===void 0?[]:i,s=t.defaultOptions,n=s===void 0?vn:s;return function(l,h,g){g===void 0&&(g=n);var m={placement:"bottom",orderedModifiers:[],options:Object.assign({},vn,n),modifiersData:{},elements:{reference:l,popper:h},attributes:{},styles:{}},T=[],v=!1,y={state:m,setOptions:function(p){var f=typeof p=="function"?p(m.options):p;_(),m.options=Object.assign({},n,m.options,f),m.scrollParents={reference:pe(l)?Xe(l):l.contextElement?Xe(l.contextElement):[],popper:Xe(h)};var c=_d(yd([].concat(r,m.options.modifiers)));return m.orderedModifiers=c.filter(function(a){return a.enabled}),w(),y.update()},forceUpdate:function(){if(!v){var p=m.elements,f=p.reference,c=p.popper;if(yn(f,c)){m.rects={reference:gd(f,oi(c),m.options.strategy==="fixed"),popper:ws(c)},m.reset=!1,m.placement=m.options.placement,m.orderedModifiers.forEach(function(j){return m.modifiersData[j.name]=Object.assign({},j.data)});for(var a=0;a<m.orderedModifiers.length;a++){if(m.reset===!0){m.reset=!1,a=-1;continue}var d=m.orderedModifiers[a],u=d.fn,A=d.options,D=A===void 0?{}:A,O=d.name;typeof u=="function"&&(m=u({state:m,options:D,name:O,instance:y})||m)}}}},update:vd(function(){return new Promise(function(b){y.forceUpdate(),b(m)})}),destroy:function(){_(),v=!0}};if(!yn(l,h))return y;y.setOptions(g).then(function(b){!v&&g.onFirstUpdate&&g.onFirstUpdate(b)});function w(){m.orderedModifiers.forEach(function(b){var p=b.name,f=b.options,c=f===void 0?{}:f,a=b.effect;if(typeof a=="function"){var d=a({state:m,name:p,instance:y,options:c}),u=function(){};T.push(d||u)}})}function _(){T.forEach(function(b){return b()}),T=[]}return y}}var Td=[$u,ld,qu,Ka,ad,ed,ud,Vu,rd],wd=bd({defaultModifiers:Td}),Sd="tippy-box",oo="tippy-content",Ed="tippy-backdrop",lo="tippy-arrow",ho="tippy-svg-arrow",le={passive:!0,capture:!0},co=function(){return document.body};function vr(e,t,i){if(Array.isArray(e)){var r=e[t];return r==null?Array.isArray(i)?i[t]:i:r}return e}function As(e,t){var i={}.toString.call(e);return i.indexOf("[object")===0&&i.indexOf(t+"]")>-1}function uo(e,t){return typeof e=="function"?e.apply(void 0,t):e}function bn(e,t){if(t===0)return e;var i;return function(r){clearTimeout(i),i=setTimeout(function(){e(r)},t)}}function xd(e,t){var i=Object.assign({},e);return t.forEach(function(r){delete i[r]}),i}function Dd(e){return e.split(/\s+/).filter(Boolean)}function he(e){return[].concat(e)}function Tn(e,t){e.indexOf(t)===-1&&e.push(t)}function Ad(e){return e.filter(function(t,i){return e.indexOf(t)===i})}function Od(e){return e.split("-")[0]}function Ui(e){return[].slice.call(e)}function wn(e){return Object.keys(e).reduce(function(t,i){return e[i]!==void 0&&(t[i]=e[i]),t},{})}function Ae(){return document.createElement("div")}function ar(e){return["Element","Fragment"].some(function(t){return As(e,t)})}function Id(e){return As(e,"NodeList")}function Cd(e){return As(e,"MouseEvent")}function Ld(e){return!!(e&&e._tippy&&e._tippy.reference===e)}function Rd(e){return ar(e)?[e]:Id(e)?Ui(e):Array.isArray(e)?e:Ui(document.querySelectorAll(e))}function yr(e,t){e.forEach(function(i){i&&(i.style.transitionDuration=t+"ms")})}function Sn(e,t){e.forEach(function(i){i&&i.setAttribute("data-state",t)})}function kd(e){var t,i=he(e),r=i[0];return r!=null&&(t=r.ownerDocument)!=null&&t.body?r.ownerDocument:document}function Pd(e,t){var i=t.clientX,r=t.clientY;return e.every(function(s){var n=s.popperRect,o=s.popperState,l=s.props,h=l.interactiveBorder,g=Od(o.placement),m=o.modifiersData.offset;if(!m)return!0;var T=g==="bottom"?m.top.y:0,v=g==="top"?m.bottom.y:0,y=g==="right"?m.left.x:0,w=g==="left"?m.right.x:0,_=n.top-r+T>h,b=r-n.bottom-v>h,p=n.left-i+y>h,f=i-n.right-w>h;return _||b||p||f})}function br(e,t,i){var r=t+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(s){e[r](s,i)})}function En(e,t){for(var i=t;i;){var r;if(e.contains(i))return!0;i=i.getRootNode==null||(r=i.getRootNode())==null?void 0:r.host}return!1}var Dt={isTouch:!1},xn=0;function Md(){Dt.isTouch||(Dt.isTouch=!0,window.performance&&document.addEventListener("mousemove",fo))}function fo(){var e=performance.now();e-xn<20&&(Dt.isTouch=!1,document.removeEventListener("mousemove",fo)),xn=e}function jd(){var e=document.activeElement;if(Ld(e)){var t=e._tippy;e.blur&&!t.state.isVisible&&e.blur()}}function Bd(){document.addEventListener("touchstart",Md,le),window.addEventListener("blur",jd)}var Vd=typeof window<"u"&&typeof document<"u",zd=Vd?!!window.msCrypto:!1,Nd={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Hd={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},St=Object.assign({appendTo:co,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Nd,Hd),qd=Object.keys(St),Yd=function(t){var i=Object.keys(t);i.forEach(function(r){St[r]=t[r]})};function po(e){var t=e.plugins||[],i=t.reduce(function(r,s){var n=s.name,o=s.defaultValue;if(n){var l;r[n]=e[n]!==void 0?e[n]:(l=St[n])!=null?l:o}return r},{});return Object.assign({},e,i)}function $d(e,t){var i=t?Object.keys(po(Object.assign({},St,{plugins:t}))):qd,r=i.reduce(function(s,n){var o=(e.getAttribute("data-tippy-"+n)||"").trim();if(!o)return s;if(n==="content")s[n]=o;else try{s[n]=JSON.parse(o)}catch(l){s[n]=o}return s},{});return r}function Dn(e,t){var i=Object.assign({},t,{content:uo(t.content,[e])},t.ignoreAttributes?{}:$d(e,t.plugins));return i.aria=Object.assign({},St.aria,i.aria),i.aria={expanded:i.aria.expanded==="auto"?t.interactive:i.aria.expanded,content:i.aria.content==="auto"?t.interactive?null:"describedby":i.aria.content},i}var Fd=function(){return"innerHTML"};function Zr(e,t){e[Fd()]=t}function An(e){var t=Ae();return e===!0?t.className=lo:(t.className=ho,ar(e)?t.appendChild(e):Zr(t,e)),t}function On(e,t){ar(t.content)?(Zr(e,""),e.appendChild(t.content)):typeof t.content!="function"&&(t.allowHTML?Zr(e,t.content):e.textContent=t.content)}function Kr(e){var t=e.firstElementChild,i=Ui(t.children);return{box:t,content:i.find(function(r){return r.classList.contains(oo)}),arrow:i.find(function(r){return r.classList.contains(lo)||r.classList.contains(ho)}),backdrop:i.find(function(r){return r.classList.contains(Ed)})}}function go(e){var t=Ae(),i=Ae();i.className=Sd,i.setAttribute("data-state","hidden"),i.setAttribute("tabindex","-1");var r=Ae();r.className=oo,r.setAttribute("data-state","hidden"),On(r,e.props),t.appendChild(i),i.appendChild(r),s(e.props,e.props);function s(n,o){var l=Kr(t),h=l.box,g=l.content,m=l.arrow;o.theme?h.setAttribute("data-theme",o.theme):h.removeAttribute("data-theme"),typeof o.animation=="string"?h.setAttribute("data-animation",o.animation):h.removeAttribute("data-animation"),o.inertia?h.setAttribute("data-inertia",""):h.removeAttribute("data-inertia"),h.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?h.setAttribute("role",o.role):h.removeAttribute("role"),(n.content!==o.content||n.allowHTML!==o.allowHTML)&&On(g,e.props),o.arrow?m?n.arrow!==o.arrow&&(h.removeChild(m),h.appendChild(An(o.arrow))):h.appendChild(An(o.arrow)):m&&h.removeChild(m)}return{popper:t,onUpdate:s}}go.$$tippy=!0;var Xd=1,Ii=[],Tr=[];function Wd(e,t){var i=Dn(e,Object.assign({},St,po(wn(t)))),r,s,n,o=!1,l=!1,h=!1,g=!1,m,T,v,y=[],w=bn(hi,i.interactiveDebounce),_,b=Xd++,p=null,f=Ad(i.plugins),c={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},a={id:b,reference:e,popper:Ae(),popperInstance:p,props:i,state:c,plugins:f,clearDelayTimeouts:pi,setProps:gi,setContent:mi,show:xo,hide:Do,hideWithInteractivity:Ao,enable:He,disable:fi,unmount:Oo,destroy:Io};if(!i.render)return a;var d=i.render(a),u=d.popper,A=d.onUpdate;u.setAttribute("data-tippy-root",""),u.id="tippy-"+a.id,a.popper=u,e._tippy=a,u._tippy=a;var D=f.map(function(S){return S.fn(a)}),O=e.hasAttribute("aria-expanded");return ve(),ut(),J(),G("onCreate",[a]),i.showOnCreate&&Ne(),u.addEventListener("mouseenter",function(){a.props.interactive&&a.state.isVisible&&a.clearDelayTimeouts()}),u.addEventListener("mouseleave",function(){a.props.interactive&&a.props.trigger.indexOf("mouseenter")>=0&&$().addEventListener("mousemove",w)}),a;function j(){var S=a.props.touch;return Array.isArray(S)?S:[S,0]}function P(){return j()[0]==="hold"}function V(){var S;return!!((S=a.props.render)!=null&&S.$$tippy)}function Y(){return _||e}function $(){var S=Y().parentNode;return S?kd(S):document}function Z(){return Kr(u)}function Q(S){return a.state.isMounted&&!a.state.isVisible||Dt.isTouch||m&&m.type==="focus"?0:vr(a.props.delay,S?0:1,St.delay)}function J(S){S===void 0&&(S=!1),u.style.pointerEvents=a.props.interactive&&!S?"":"none",u.style.zIndex=""+a.props.zIndex}function G(S,I,L){if(L===void 0&&(L=!0),D.forEach(function(H){H[S]&&H[S].apply(H,I)}),L){var F;(F=a.props)[S].apply(F,I)}}function ct(){var S=a.props.aria;if(S.content){var I="aria-"+S.content,L=u.id,F=he(a.props.triggerTarget||e);F.forEach(function(H){var st=H.getAttribute(I);if(a.state.isVisible)H.setAttribute(I,st?st+" "+L:L);else{var pt=st&&st.replace(L,"").trim();pt?H.setAttribute(I,pt):H.removeAttribute(I)}})}}function ut(){if(!(O||!a.props.aria.expanded)){var S=he(a.props.triggerTarget||e);S.forEach(function(I){a.props.interactive?I.setAttribute("aria-expanded",a.state.isVisible&&I===Y()?"true":"false"):I.removeAttribute("aria-expanded")})}}function Tt(){$().removeEventListener("mousemove",w),Ii=Ii.filter(function(S){return S!==w})}function xt(S){if(!(Dt.isTouch&&(h||S.type==="mousedown"))){var I=S.composedPath&&S.composedPath()[0]||S.target;if(!(a.props.interactive&&En(u,I))){if(he(a.props.triggerTarget||e).some(function(L){return En(L,I)})){if(Dt.isTouch||a.state.isVisible&&a.props.trigger.indexOf("click")>=0)return}else G("onClickOutside",[a,S]);a.props.hideOnClick===!0&&(a.clearDelayTimeouts(),a.hide(),l=!0,setTimeout(function(){l=!1}),a.state.isMounted||kt())}}}function ee(){h=!0}function Rt(){h=!1}function wt(){var S=$();S.addEventListener("mousedown",xt,!0),S.addEventListener("touchend",xt,le),S.addEventListener("touchstart",Rt,le),S.addEventListener("touchmove",ee,le)}function kt(){var S=$();S.removeEventListener("mousedown",xt,!0),S.removeEventListener("touchend",xt,le),S.removeEventListener("touchstart",Rt,le),S.removeEventListener("touchmove",ee,le)}function me(S,I){_e(S,function(){!a.state.isVisible&&u.parentNode&&u.parentNode.contains(u)&&I()})}function Pt(S,I){_e(S,I)}function _e(S,I){var L=Z().box;function F(H){H.target===L&&(br(L,"remove",F),I())}if(S===0)return I();br(L,"remove",T),br(L,"add",F),T=F}function Yt(S,I,L){L===void 0&&(L=!1);var F=he(a.props.triggerTarget||e);F.forEach(function(H){H.addEventListener(S,I,L),y.push({node:H,eventType:S,handler:I,options:L})})}function ve(){P()&&(Yt("touchstart",Be,{passive:!0}),Yt("touchend",ci,{passive:!0})),Dd(a.props.trigger).forEach(function(S){if(S!=="manual")switch(Yt(S,Be),S){case"mouseenter":Yt("mouseleave",ci);break;case"focus":Yt(zd?"focusout":"blur",Ve);break;case"focusin":Yt("focusout",Ve);break}})}function li(){y.forEach(function(S){var I=S.node,L=S.eventType,F=S.handler,H=S.options;I.removeEventListener(L,F,H)}),y=[]}function Be(S){var I,L=!1;if(!(!a.state.isEnabled||ze(S)||l)){var F=((I=m)==null?void 0:I.type)==="focus";m=S,_=S.currentTarget,ut(),!a.state.isVisible&&Cd(S)&&Ii.forEach(function(H){return H(S)}),S.type==="click"&&(a.props.trigger.indexOf("mouseenter")<0||o)&&a.props.hideOnClick!==!1&&a.state.isVisible?L=!0:Ne(S),S.type==="click"&&(o=!L),L&&!F&&ie(S)}}function hi(S){var I=S.target,L=Y().contains(I)||u.contains(I);if(!(S.type==="mousemove"&&L)){var F=$t().concat(u).map(function(H){var st,pt=H._tippy,ye=(st=pt.popperInstance)==null?void 0:st.state;return ye?{popperRect:H.getBoundingClientRect(),popperState:ye,props:i}:null}).filter(Boolean);Pd(F,S)&&(Tt(),ie(S))}}function ci(S){var I=ze(S)||a.props.trigger.indexOf("click")>=0&&o;if(!I){if(a.props.interactive){a.hideWithInteractivity(S);return}ie(S)}}function Ve(S){a.props.trigger.indexOf("focusin")<0&&S.target!==Y()||a.props.interactive&&S.relatedTarget&&u.contains(S.relatedTarget)||ie(S)}function ze(S){return Dt.isTouch?P()!==S.type.indexOf("touch")>=0:!1}function ui(){di();var S=a.props,I=S.popperOptions,L=S.placement,F=S.offset,H=S.getReferenceClientRect,st=S.moveTransition,pt=V()?Kr(u).arrow:null,ye=H?{getBoundingClientRect:H,contextElement:H.contextElement||Y()}:e,Cs={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(_i){var be=_i.state;if(V()){var Co=Z(),lr=Co.box;["placement","reference-hidden","escaped"].forEach(function(vi){vi==="placement"?lr.setAttribute("data-placement",be.placement):be.attributes.popper["data-popper-"+vi]?lr.setAttribute("data-"+vi,""):lr.removeAttribute("data-"+vi)}),be.attributes.popper={}}}},re=[{name:"offset",options:{offset:F}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!st}},Cs];V()&&pt&&re.push({name:"arrow",options:{element:pt,padding:3}}),re.push.apply(re,(I==null?void 0:I.modifiers)||[]),a.popperInstance=wd(ye,u,Object.assign({},I,{placement:L,onFirstUpdate:v,modifiers:re}))}function di(){a.popperInstance&&(a.popperInstance.destroy(),a.popperInstance=null)}function Mt(){var S=a.props.appendTo,I,L=Y();a.props.interactive&&S===co||S==="parent"?I=L.parentNode:I=uo(S,[L]),I.contains(u)||I.appendChild(u),a.state.isMounted=!0,ui()}function $t(){return Ui(u.querySelectorAll("[data-tippy-root]"))}function Ne(S){a.clearDelayTimeouts(),S&&G("onTrigger",[a,S]),wt();var I=Q(!0),L=j(),F=L[0],H=L[1];Dt.isTouch&&F==="hold"&&H&&(I=H),I?r=setTimeout(function(){a.show()},I):a.show()}function ie(S){if(a.clearDelayTimeouts(),G("onUntrigger",[a,S]),!a.state.isVisible){kt();return}if(!(a.props.trigger.indexOf("mouseenter")>=0&&a.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(S.type)>=0&&o)){var I=Q(!1);I?s=setTimeout(function(){a.state.isVisible&&a.hide()},I):n=requestAnimationFrame(function(){a.hide()})}}function He(){a.state.isEnabled=!0}function fi(){a.hide(),a.state.isEnabled=!1}function pi(){clearTimeout(r),clearTimeout(s),cancelAnimationFrame(n)}function gi(S){if(!a.state.isDestroyed){G("onBeforeUpdate",[a,S]),li();var I=a.props,L=Dn(e,Object.assign({},I,wn(S),{ignoreAttributes:!0}));a.props=L,ve(),I.interactiveDebounce!==L.interactiveDebounce&&(Tt(),w=bn(hi,L.interactiveDebounce)),I.triggerTarget&&!L.triggerTarget?he(I.triggerTarget).forEach(function(F){F.removeAttribute("aria-expanded")}):L.triggerTarget&&e.removeAttribute("aria-expanded"),ut(),J(),A&&A(I,L),a.popperInstance&&(ui(),$t().forEach(function(F){requestAnimationFrame(F._tippy.popperInstance.forceUpdate)})),G("onAfterUpdate",[a,S])}}function mi(S){a.setProps({content:S})}function xo(){var S=a.state.isVisible,I=a.state.isDestroyed,L=!a.state.isEnabled,F=Dt.isTouch&&!a.props.touch,H=vr(a.props.duration,0,St.duration);if(!(S||I||L||F)&&!Y().hasAttribute("disabled")&&(G("onShow",[a],!1),a.props.onShow(a)!==!1)){if(a.state.isVisible=!0,V()&&(u.style.visibility="visible"),J(),wt(),a.state.isMounted||(u.style.transition="none"),V()){var st=Z(),pt=st.box,ye=st.content;yr([pt,ye],0)}v=function(){var re;if(!(!a.state.isVisible||g)){if(g=!0,u.offsetHeight,u.style.transition=a.props.moveTransition,V()&&a.props.animation){var or=Z(),_i=or.box,be=or.content;yr([_i,be],H),Sn([_i,be],"visible")}ct(),ut(),Tn(Tr,a),(re=a.popperInstance)==null||re.forceUpdate(),G("onMount",[a]),a.props.animation&&V()&&Pt(H,function(){a.state.isShown=!0,G("onShown",[a])})}},Mt()}}function Do(){var S=!a.state.isVisible,I=a.state.isDestroyed,L=!a.state.isEnabled,F=vr(a.props.duration,1,St.duration);if(!(S||I||L)&&(G("onHide",[a],!1),a.props.onHide(a)!==!1)){if(a.state.isVisible=!1,a.state.isShown=!1,g=!1,o=!1,V()&&(u.style.visibility="hidden"),Tt(),kt(),J(!0),V()){var H=Z(),st=H.box,pt=H.content;a.props.animation&&(yr([st,pt],F),Sn([st,pt],"hidden"))}ct(),ut(),a.props.animation?V()&&me(F,a.unmount):a.unmount()}}function Ao(S){$().addEventListener("mousemove",w),Tn(Ii,w),w(S)}function Oo(){a.state.isVisible&&a.hide(),a.state.isMounted&&(di(),$t().forEach(function(S){S._tippy.unmount()}),u.parentNode&&u.parentNode.removeChild(u),Tr=Tr.filter(function(S){return S!==a}),a.state.isMounted=!1,G("onHidden",[a]))}function Io(){a.state.isDestroyed||(a.clearDelayTimeouts(),a.unmount(),li(),delete e._tippy,a.state.isDestroyed=!0,G("onDestroy",[a]))}}function ge(e,t){t===void 0&&(t={});var i=St.plugins.concat(t.plugins||[]);Bd();var r=Object.assign({},t,{plugins:i}),s=Rd(e),n=s.reduce(function(o,l){var h=l&&Wd(l,r);return h&&o.push(h),o},[]);return ar(e)?n[0]:n}ge.defaultProps=St;ge.setDefaultProps=Yd;ge.currentInput=Dt;var Ud=Object.assign({},Ka,{effect:function(t){var i=t.state,r={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(i.elements.popper.style,r.popper),i.styles=r,i.elements.arrow&&Object.assign(i.elements.arrow.style,r.arrow)}}),Gd=function(t,i){var r;i===void 0&&(i={});var s=t,n=[],o=[],l,h=i.overrides,g=[],m=!1;function T(){o=s.map(function(a){return he(a.props.triggerTarget||a.reference)}).reduce(function(a,d){return a.concat(d)},[])}function v(){n=s.map(function(a){return a.reference})}function y(a){s.forEach(function(d){a?d.enable():d.disable()})}function w(a){return s.map(function(d){var u=d.setProps;return d.setProps=function(A){u(A),d.reference===l&&a.setProps(A)},function(){d.setProps=u}})}function _(a,d){var u=o.indexOf(d);if(d!==l){l=d;var A=(h||[]).concat("content").reduce(function(D,O){return D[O]=s[u].props[O],D},{});a.setProps(Object.assign({},A,{getReferenceClientRect:typeof A.getReferenceClientRect=="function"?A.getReferenceClientRect:function(){var D;return(D=n[u])==null?void 0:D.getBoundingClientRect()}}))}}y(!1),v(),T();var b={fn:function(){return{onDestroy:function(){y(!0)},onHidden:function(){l=null},onClickOutside:function(u){u.props.showOnCreate&&!m&&(m=!0,l=null)},onShow:function(u){u.props.showOnCreate&&!m&&(m=!0,_(u,n[0]))},onTrigger:function(u,A){_(u,A.currentTarget)}}}},p=ge(Ae(),Object.assign({},xd(i,["overrides"]),{plugins:[b].concat(i.plugins||[]),triggerTarget:o,popperOptions:Object.assign({},i.popperOptions,{modifiers:[].concat(((r=i.popperOptions)==null?void 0:r.modifiers)||[],[Ud])})})),f=p.show;p.show=function(a){if(f(),!l&&a==null)return _(p,n[0]);if(!(l&&a==null)){if(typeof a=="number")return n[a]&&_(p,n[a]);if(s.indexOf(a)>=0){var d=a.reference;return _(p,d)}if(n.indexOf(a)>=0)return _(p,a)}},p.showNext=function(){var a=n[0];if(!l)return p.show(0);var d=n.indexOf(l);p.show(n[d+1]||a)},p.showPrevious=function(){var a=n[n.length-1];if(!l)return p.show(a);var d=n.indexOf(l),u=n[d-1]||a;p.show(u)};var c=p.setProps;return p.setProps=function(a){h=a.overrides||h,c(a)},p.setInstances=function(a){y(!0),g.forEach(function(d){return d()}),s=a,y(!1),v(),T(),g=w(p),p.setProps({triggerTarget:o})},g=w(p),p};ge.setDefaultProps({render:go});class mo extends C{static afterLoad(){document.addEventListener("turbo:load",()=>{ge(document.querySelectorAll("[data-tippy-content]"),{theme:"raven",appendTo:"parent"})})}connect(){this.tippyInstances=ge(this.instanceTargets,{content(t){return t.querySelector(".navbar__text").innerText}}),this.tippySingleton=Gd(this.tippyInstances,{delay:200,placement:"right",theme:"navbar",appendTo:"parent",moveTransition:"transform 0.2s ease-out",arrow:!1,touch:!1,offset:[0,0],onShow:()=>this.parentCollapsed})}disconnect(){this.tippyInstances.forEach(t=>t.destroy()),this.tippySingleton.destroy()}get parentCollapsed(){return this.element.closest(".collapsed")!==null}}E(mo,"targets",["instance"]);const Qd=Object.freeze(Object.defineProperty({__proto__:null,default:mo},Symbol.toStringTag,{value:"Module"}));/*! js-cookie v3.0.5 | MIT */function Ci(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]=i[r]}return e}var Jd={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ts(e,t){function i(s,n,o){if(!(typeof document>"u")){o=Ci({},t,o),typeof o.expires=="number"&&(o.expires=new Date(Date.now()+o.expires*864e5)),o.expires&&(o.expires=o.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var l="";for(var h in o)o[h]&&(l+="; "+h,o[h]!==!0&&(l+="="+o[h].split(";")[0]));return document.cookie=s+"="+e.write(n,s)+l}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var n=document.cookie?document.cookie.split("; "):[],o={},l=0;l<n.length;l++){var h=n[l].split("="),g=h.slice(1).join("=");try{var m=decodeURIComponent(h[0]);if(o[m]=e.read(g,m),s===m)break}catch(T){}}return s?o[s]:o}}return Object.create({set:i,get:r,remove:function(s,n){i(s,"",Ci({},n,{expires:-1}))},withAttributes:function(s){return ts(this.converter,Ci({},this.attributes,s))},withConverter:function(s){return ts(Ci({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Zd=ts(Jd,{path:"/"});class Mi extends C{toggle(){const t=this.active;this.disableAriaHidden(),requestAnimationFrame(()=>{gt(this.controlledTarget,"".concat(this.baseClass," ").concat(this.hasUpClass?this.upClass:""),!t),gt(this.controlledTarget,"".concat(this.hasDownClass?this.downClass:""),t)}),this.persist(!t)}get active(){return this.hasInputTarget?!this.inputTargets.some(t=>t.checked):this.controlledTarget.classList.contains(this.baseClass)}get controlledTarget(){return this.hasToggleableTarget?this.toggleableTarget:document.getElementById(this.element.getAttribute("aria-controls"))}disableAriaHidden(){this.controlledTarget.hasAttribute("aria-hidden")&&this.controlledTarget.setAttribute("aria-hidden",!1)}persist(t){this.hasCookieValue&&Zd.set(this.cookieValue,t)}}E(Mi,"targets",["toggleable","input"]),E(Mi,"classes",["base","up","down"]),E(Mi,"values",{cookie:String});const Kd=Object.freeze(Object.defineProperty({__proto__:null,default:Mi},Symbol.toStringTag,{value:"Module"}));class es extends C{connect(){this.indexValue=this.currentIndex}toggle(){this.indexValue=this.nextIndex,this.inputTarget.value=this.toggleableTargets[this.indexValue].dataset.value}get currentIndex(){return Math.max(0,this.toggleableTargets.findIndex(t=>t.dataset.value===this.inputTarget.value))}get nextIndex(){return this.indexValue<this.toggleableTargets.length-1?this.indexValue+1:0}indexValueChanged(){this.toggleableTargets.forEach((t,i)=>{t.classList.toggle("hidden",i!==this.indexValue)})}}E(es,"targets",["input","toggleable"]),E(es,"values",{index:Number});const tf=Object.freeze(Object.defineProperty({__proto__:null,default:es},Symbol.toStringTag,{value:"Module"}));class _o extends C{constructor(){super(...arguments);E(this,"handlePlay",()=>{var r;const i=(r=this.customTimeValue)!=null?r:this.timeValue;this.started||(this.player.setCurrentTime(i),this.started=!0)});E(this,"handleSeeked",()=>{this.started=!0});E(this,"handleTimeUpdate",i=>{this.currentTime=i.seconds})}async connect(){await ht("https://player.vimeo.com/api/player.js"),this.started=!1,this.player=new Vimeo.Player(this.element,{width:640,title:!1,byline:!1,portrait:!1,sidedock:!1,speed:!0,transparent:!1,color:this.color,...this.videoParameter}),this.player.on("play",this.handlePlay),this.player.on("seeked",this.handleSeeked),this.player.on("timeupdate",this.handleTimeUpdate)}disconnect(){var i;(i=this.player)==null||i.destroy()}track(){return this.isTrackable&&this.persist()}persist(){this.sending=!0,ri(this.trackUrlValue,{time:this.currentTime}).then(()=>{this.sending=!1})}get isTrackable(){return!this.sending&&this.currentTime>0&&this.currentTime!==this.timeValue}get customTimeValue(){const i=new URLSearchParams(location.search);return i.has("t")?Number.parseInt(i.get("t")):null}get color(){return ys("brand")}get videoParameter(){return this.hasPlayerUrlValue?{url:this.playerUrlValue}:{id:this.uidValue}}}E(_o,"values",{uid:String,time:Number,trackUrl:String,playerUrl:String});const ef=Object.freeze(Object.defineProperty({__proto__:null,default:_o},Symbol.toStringTag,{value:"Module"}));class rf extends C{static afterLoad(){document.addEventListener("turbo:load",()=>{var t,i,r;(i=(t=window.instgrm)==null?void 0:t.Embeds)==null||i.process(),ss()&&((r=document.querySelector(".navbar:not(.collapsed) .navbar__button"))==null||r.click())})}confirm(t){const{message:i}=t.target.closest("[data-message]").dataset;window.confirm(i)||t.preventDefault()}unfocusElement({target:t}){t.blur()}}const sf=Object.freeze(Object.defineProperty({__proto__:null,default:rf},Symbol.toStringTag,{value:"Module"}));class vo extends C{async connect(){await ht("https://www.youtube.com/player_api"),YT.ready(()=>this.initializePlayer())}initializePlayer(){this.wrapperElement=document.createElement("div"),this.element.appendChild(this.wrapperElement),this.player=new YT.Player(this.wrapperElement,{width:640,height:360,videoId:this.uidValue,playerVars:{modestbranding:!0,iv_load_policy:3,cc_load_policy:0,showinfo:0,rel:0,start:this.customTimeValue||this.timeValue,origin:location.origin}})}disconnect(){var t,i;(t=this.player)==null||t.stopVideo(),(i=this.player)==null||i.destroy()}track(){var t,i;return this.currentTime=(i=(t=this.player)==null?void 0:t.getCurrentTime())!=null?i:0,this.isTrackable&&this.persist()}persist(){this.sending=!0,ri(this.trackUrlValue,{time:this.currentTime}).then(()=>{this.sending=!1})}get customTimeValue(){const t=new URLSearchParams(location.search);return t.has("t")?Number.parseInt(t.get("t")):null}get isTrackable(){return!this.sending&&this.currentTime>0&&this.currentTime!==this.timeValue}}E(vo,"values",{uid:String,time:Number,trackUrl:String});const nf=Object.freeze(Object.defineProperty({__proto__:null,default:vo},Symbol.toStringTag,{value:"Module"}));var af=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[/_-]controller\..+?)$/;function of(e,t){e.load(lf(t))}function lf(e){return Object.entries(e).map(hf).filter(t=>t)}function hf([e,t]){var i;const r=cf(e),s=(i=t.default)!=null?i:t;if(r&&typeof s=="function")return{identifier:r,controllerConstructor:s}}function cf(e){const t=(e.match(af)||[])[1];if(t)return t.replace(/_/g,"-").replace(/\//g,"--")}var yo={exports:{}};(function(e,t){(function(i){e.exports=i()})(function(i){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function s(p,f){var c=p[0],a=p[1],d=p[2],u=p[3];c+=(a&d|~a&u)+f[0]-680876936|0,c=(c<<7|c>>>25)+a|0,u+=(c&a|~c&d)+f[1]-389564586|0,u=(u<<12|u>>>20)+c|0,d+=(u&c|~u&a)+f[2]+606105819|0,d=(d<<17|d>>>15)+u|0,a+=(d&u|~d&c)+f[3]-1044525330|0,a=(a<<22|a>>>10)+d|0,c+=(a&d|~a&u)+f[4]-176418897|0,c=(c<<7|c>>>25)+a|0,u+=(c&a|~c&d)+f[5]+1200080426|0,u=(u<<12|u>>>20)+c|0,d+=(u&c|~u&a)+f[6]-1473231341|0,d=(d<<17|d>>>15)+u|0,a+=(d&u|~d&c)+f[7]-45705983|0,a=(a<<22|a>>>10)+d|0,c+=(a&d|~a&u)+f[8]+1770035416|0,c=(c<<7|c>>>25)+a|0,u+=(c&a|~c&d)+f[9]-1958414417|0,u=(u<<12|u>>>20)+c|0,d+=(u&c|~u&a)+f[10]-42063|0,d=(d<<17|d>>>15)+u|0,a+=(d&u|~d&c)+f[11]-1990404162|0,a=(a<<22|a>>>10)+d|0,c+=(a&d|~a&u)+f[12]+1804603682|0,c=(c<<7|c>>>25)+a|0,u+=(c&a|~c&d)+f[13]-40341101|0,u=(u<<12|u>>>20)+c|0,d+=(u&c|~u&a)+f[14]-1502002290|0,d=(d<<17|d>>>15)+u|0,a+=(d&u|~d&c)+f[15]+1236535329|0,a=(a<<22|a>>>10)+d|0,c+=(a&u|d&~u)+f[1]-165796510|0,c=(c<<5|c>>>27)+a|0,u+=(c&d|a&~d)+f[6]-1069501632|0,u=(u<<9|u>>>23)+c|0,d+=(u&a|c&~a)+f[11]+643717713|0,d=(d<<14|d>>>18)+u|0,a+=(d&c|u&~c)+f[0]-373897302|0,a=(a<<20|a>>>12)+d|0,c+=(a&u|d&~u)+f[5]-701558691|0,c=(c<<5|c>>>27)+a|0,u+=(c&d|a&~d)+f[10]+38016083|0,u=(u<<9|u>>>23)+c|0,d+=(u&a|c&~a)+f[15]-660478335|0,d=(d<<14|d>>>18)+u|0,a+=(d&c|u&~c)+f[4]-405537848|0,a=(a<<20|a>>>12)+d|0,c+=(a&u|d&~u)+f[9]+568446438|0,c=(c<<5|c>>>27)+a|0,u+=(c&d|a&~d)+f[14]-1019803690|0,u=(u<<9|u>>>23)+c|0,d+=(u&a|c&~a)+f[3]-187363961|0,d=(d<<14|d>>>18)+u|0,a+=(d&c|u&~c)+f[8]+1163531501|0,a=(a<<20|a>>>12)+d|0,c+=(a&u|d&~u)+f[13]-1444681467|0,c=(c<<5|c>>>27)+a|0,u+=(c&d|a&~d)+f[2]-51403784|0,u=(u<<9|u>>>23)+c|0,d+=(u&a|c&~a)+f[7]+1735328473|0,d=(d<<14|d>>>18)+u|0,a+=(d&c|u&~c)+f[12]-1926607734|0,a=(a<<20|a>>>12)+d|0,c+=(a^d^u)+f[5]-378558|0,c=(c<<4|c>>>28)+a|0,u+=(c^a^d)+f[8]-2022574463|0,u=(u<<11|u>>>21)+c|0,d+=(u^c^a)+f[11]+1839030562|0,d=(d<<16|d>>>16)+u|0,a+=(d^u^c)+f[14]-35309556|0,a=(a<<23|a>>>9)+d|0,c+=(a^d^u)+f[1]-1530992060|0,c=(c<<4|c>>>28)+a|0,u+=(c^a^d)+f[4]+1272893353|0,u=(u<<11|u>>>21)+c|0,d+=(u^c^a)+f[7]-155497632|0,d=(d<<16|d>>>16)+u|0,a+=(d^u^c)+f[10]-1094730640|0,a=(a<<23|a>>>9)+d|0,c+=(a^d^u)+f[13]+681279174|0,c=(c<<4|c>>>28)+a|0,u+=(c^a^d)+f[0]-358537222|0,u=(u<<11|u>>>21)+c|0,d+=(u^c^a)+f[3]-722521979|0,d=(d<<16|d>>>16)+u|0,a+=(d^u^c)+f[6]+76029189|0,a=(a<<23|a>>>9)+d|0,c+=(a^d^u)+f[9]-640364487|0,c=(c<<4|c>>>28)+a|0,u+=(c^a^d)+f[12]-421815835|0,u=(u<<11|u>>>21)+c|0,d+=(u^c^a)+f[15]+530742520|0,d=(d<<16|d>>>16)+u|0,a+=(d^u^c)+f[2]-995338651|0,a=(a<<23|a>>>9)+d|0,c+=(d^(a|~u))+f[0]-198630844|0,c=(c<<6|c>>>26)+a|0,u+=(a^(c|~d))+f[7]+1126891415|0,u=(u<<10|u>>>22)+c|0,d+=(c^(u|~a))+f[14]-1416354905|0,d=(d<<15|d>>>17)+u|0,a+=(u^(d|~c))+f[5]-57434055|0,a=(a<<21|a>>>11)+d|0,c+=(d^(a|~u))+f[12]+1700485571|0,c=(c<<6|c>>>26)+a|0,u+=(a^(c|~d))+f[3]-1894986606|0,u=(u<<10|u>>>22)+c|0,d+=(c^(u|~a))+f[10]-1051523|0,d=(d<<15|d>>>17)+u|0,a+=(u^(d|~c))+f[1]-2054922799|0,a=(a<<21|a>>>11)+d|0,c+=(d^(a|~u))+f[8]+1873313359|0,c=(c<<6|c>>>26)+a|0,u+=(a^(c|~d))+f[15]-30611744|0,u=(u<<10|u>>>22)+c|0,d+=(c^(u|~a))+f[6]-1560198380|0,d=(d<<15|d>>>17)+u|0,a+=(u^(d|~c))+f[13]+1309151649|0,a=(a<<21|a>>>11)+d|0,c+=(d^(a|~u))+f[4]-145523070|0,c=(c<<6|c>>>26)+a|0,u+=(a^(c|~d))+f[11]-1120210379|0,u=(u<<10|u>>>22)+c|0,d+=(c^(u|~a))+f[2]+718787259|0,d=(d<<15|d>>>17)+u|0,a+=(u^(d|~c))+f[9]-343485551|0,a=(a<<21|a>>>11)+d|0,p[0]=c+p[0]|0,p[1]=a+p[1]|0,p[2]=d+p[2]|0,p[3]=u+p[3]|0}function n(p){var f=[],c;for(c=0;c<64;c+=4)f[c>>2]=p.charCodeAt(c)+(p.charCodeAt(c+1)<<8)+(p.charCodeAt(c+2)<<16)+(p.charCodeAt(c+3)<<24);return f}function o(p){var f=[],c;for(c=0;c<64;c+=4)f[c>>2]=p[c]+(p[c+1]<<8)+(p[c+2]<<16)+(p[c+3]<<24);return f}function l(p){var f=p.length,c=[1732584193,-271733879,-1732584194,271733878],a,d,u,A,D,O;for(a=64;a<=f;a+=64)s(c,n(p.substring(a-64,a)));for(p=p.substring(a-64),d=p.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<d;a+=1)u[a>>2]|=p.charCodeAt(a)<<(a%4<<3);if(u[a>>2]|=128<<(a%4<<3),a>55)for(s(c,u),a=0;a<16;a+=1)u[a]=0;return A=f*8,A=A.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(A[2],16),O=parseInt(A[1],16)||0,u[14]=D,u[15]=O,s(c,u),c}function h(p){var f=p.length,c=[1732584193,-271733879,-1732584194,271733878],a,d,u,A,D,O;for(a=64;a<=f;a+=64)s(c,o(p.subarray(a-64,a)));for(p=a-64<f?p.subarray(a-64):new Uint8Array(0),d=p.length,u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a=0;a<d;a+=1)u[a>>2]|=p[a]<<(a%4<<3);if(u[a>>2]|=128<<(a%4<<3),a>55)for(s(c,u),a=0;a<16;a+=1)u[a]=0;return A=f*8,A=A.toString(16).match(/(.*?)(.{0,8})$/),D=parseInt(A[2],16),O=parseInt(A[1],16)||0,u[14]=D,u[15]=O,s(c,u),c}function g(p){var f="",c;for(c=0;c<4;c+=1)f+=r[p>>c*8+4&15]+r[p>>c*8&15];return f}function m(p){var f;for(f=0;f<p.length;f+=1)p[f]=g(p[f]);return p.join("")}m(l("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function p(f,c){return f=f|0||0,f<0?Math.max(f+c,0):Math.min(f,c)}ArrayBuffer.prototype.slice=function(f,c){var a=this.byteLength,d=p(f,a),u=a,A,D,O,j;return c!==i&&(u=p(c,a)),d>u?new ArrayBuffer(0):(A=u-d,D=new ArrayBuffer(A),O=new Uint8Array(D),j=new Uint8Array(this,d,A),O.set(j),D)}}();function T(p){return/[\u0080-\uFFFF]/.test(p)&&(p=unescape(encodeURIComponent(p))),p}function v(p,f){var c=p.length,a=new ArrayBuffer(c),d=new Uint8Array(a),u;for(u=0;u<c;u+=1)d[u]=p.charCodeAt(u);return f?d:a}function y(p){return String.fromCharCode.apply(null,new Uint8Array(p))}function w(p,f,c){var a=new Uint8Array(p.byteLength+f.byteLength);return a.set(new Uint8Array(p)),a.set(new Uint8Array(f),p.byteLength),a}function _(p){var f=[],c=p.length,a;for(a=0;a<c-1;a+=2)f.push(parseInt(p.substr(a,2),16));return String.fromCharCode.apply(String,f)}function b(){this.reset()}return b.prototype.append=function(p){return this.appendBinary(T(p)),this},b.prototype.appendBinary=function(p){this._buff+=p,this._length+=p.length;var f=this._buff.length,c;for(c=64;c<=f;c+=64)s(this._hash,n(this._buff.substring(c-64,c)));return this._buff=this._buff.substring(c-64),this},b.prototype.end=function(p){var f=this._buff,c=f.length,a,d=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],u;for(a=0;a<c;a+=1)d[a>>2]|=f.charCodeAt(a)<<(a%4<<3);return this._finish(d,c),u=m(this._hash),p&&(u=_(u)),this.reset(),u},b.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},b.prototype.setState=function(p){return this._buff=p.buff,this._length=p.length,this._hash=p.hash,this},b.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},b.prototype._finish=function(p,f){var c=f,a,d,u;if(p[c>>2]|=128<<(c%4<<3),c>55)for(s(this._hash,p),c=0;c<16;c+=1)p[c]=0;a=this._length*8,a=a.toString(16).match(/(.*?)(.{0,8})$/),d=parseInt(a[2],16),u=parseInt(a[1],16)||0,p[14]=d,p[15]=u,s(this._hash,p)},b.hash=function(p,f){return b.hashBinary(T(p),f)},b.hashBinary=function(p,f){var c=l(p),a=m(c);return f?_(a):a},b.ArrayBuffer=function(){this.reset()},b.ArrayBuffer.prototype.append=function(p){var f=w(this._buff.buffer,p),c=f.length,a;for(this._length+=p.byteLength,a=64;a<=c;a+=64)s(this._hash,o(f.subarray(a-64,a)));return this._buff=a-64<c?new Uint8Array(f.buffer.slice(a-64)):new Uint8Array(0),this},b.ArrayBuffer.prototype.end=function(p){var f=this._buff,c=f.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],d,u;for(d=0;d<c;d+=1)a[d>>2]|=f[d]<<(d%4<<3);return this._finish(a,c),u=m(this._hash),p&&(u=_(u)),this.reset(),u},b.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},b.ArrayBuffer.prototype.getState=function(){var p=b.prototype.getState.call(this);return p.buff=y(p.buff),p},b.ArrayBuffer.prototype.setState=function(p){return p.buff=v(p.buff,!0),b.prototype.setState.call(this,p)},b.ArrayBuffer.prototype.destroy=b.prototype.destroy,b.ArrayBuffer.prototype._finish=b.prototype._finish,b.ArrayBuffer.hash=function(p,f){var c=h(new Uint8Array(p)),a=m(c);return f?_(a):a},b})})(yo);var uf=yo.exports;const df=File.prototype.slice||File.prototype.mozSlice||File.prototype.webkitSlice;class Os{static create(t,i){new Os(t).create(i)}constructor(t){this.file=t,this.chunkSize=2097152,this.chunkCount=Math.ceil(this.file.size/this.chunkSize),this.chunkIndex=0}create(t){this.callback=t,this.md5Buffer=new uf.ArrayBuffer,this.fileReader=new FileReader,this.fileReader.addEventListener("load",i=>this.fileReaderDidLoad(i)),this.fileReader.addEventListener("error",i=>this.fileReaderDidError(i)),this.readNextChunk()}fileReaderDidLoad(t){if(this.md5Buffer.append(t.target.result),!this.readNextChunk()){const i=this.md5Buffer.end(!0),r=btoa(i);this.callback(null,r)}}fileReaderDidError(t){this.callback("Error reading ".concat(this.file.name))}readNextChunk(){if(this.chunkIndex<this.chunkCount||this.chunkIndex==0&&this.chunkCount==0){const t=this.chunkIndex*this.chunkSize,i=Math.min(t+this.chunkSize,this.file.size),r=df.call(this.file,t,i);return this.fileReader.readAsArrayBuffer(r),this.chunkIndex++,!0}else return!1}}function ff(e){const t=bo(document.head,'meta[name="'.concat(e,'"]'));if(t)return t.getAttribute("content")}function pf(e,t){typeof e=="string"&&(t=e,e=document);const i=e.querySelectorAll(t);return wo(i)}function bo(e,t){return typeof e=="string"&&(t=e,e=document),e.querySelector(t)}function To(e,t,i={}){const{disabled:r}=e,{bubbles:s,cancelable:n,detail:o}=i,l=document.createEvent("Event");l.initEvent(t,s||!0,n||!0),l.detail=o||{};try{e.disabled=!1,e.dispatchEvent(l)}finally{e.disabled=r}return l}function wo(e){return Array.isArray(e)?e:Array.from?Array.from(e):[].slice.call(e)}class gf{constructor(t,i,r,s={}){this.file=t,this.attributes={filename:t.name,content_type:t.type||"application/octet-stream",byte_size:t.size,checksum:i},this.xhr=new XMLHttpRequest,this.xhr.open("POST",r,!0),this.xhr.responseType="json",this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("Accept","application/json"),this.xhr.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(s).forEach(o=>{this.xhr.setRequestHeader(o,s[o])});const n=ff("csrf-token");n!=null&&this.xhr.setRequestHeader("X-CSRF-Token",n),this.xhr.addEventListener("load",o=>this.requestDidLoad(o)),this.xhr.addEventListener("error",o=>this.requestDidError(o))}get status(){return this.xhr.status}get response(){const{responseType:t,response:i}=this.xhr;return t=="json"?i:JSON.parse(i)}create(t){this.callback=t,this.xhr.send(JSON.stringify({blob:this.attributes}))}requestDidLoad(t){if(this.status>=200&&this.status<300){const{response:i}=this,{direct_upload:r}=i;delete i.direct_upload,this.attributes=i,this.directUploadData=r,this.callback(null,this.toJSON())}else this.requestDidError(t)}requestDidError(t){this.callback('Error creating Blob for "'.concat(this.file.name,'". Status: ').concat(this.status))}toJSON(){const t={};for(const i in this.attributes)t[i]=this.attributes[i];return t}}class mf{constructor(t){this.blob=t,this.file=t.file;const{url:i,headers:r}=t.directUploadData;this.xhr=new XMLHttpRequest,this.xhr.open("PUT",i,!0),this.xhr.responseType="text";for(const s in r)this.xhr.setRequestHeader(s,r[s]);this.xhr.addEventListener("load",s=>this.requestDidLoad(s)),this.xhr.addEventListener("error",s=>this.requestDidError(s))}create(t){this.callback=t,this.xhr.send(this.file.slice())}requestDidLoad(t){const{status:i,response:r}=this.xhr;i>=200&&i<300?this.callback(null,r):this.requestDidError(t)}requestDidError(t){this.callback('Error storing "'.concat(this.file.name,'". Status: ').concat(this.xhr.status))}}let _f=0;class vf{constructor(t,i,r,s={}){this.id=++_f,this.file=t,this.url=i,this.delegate=r,this.customHeaders=s}create(t){Os.create(this.file,(i,r)=>{if(i){t(i);return}const s=new gf(this.file,r,this.url,this.customHeaders);In(this.delegate,"directUploadWillCreateBlobWithXHR",s.xhr),s.create(n=>{if(n)t(n);else{const o=new mf(s);In(this.delegate,"directUploadWillStoreFileWithXHR",o.xhr),o.create(l=>{l?t(l):t(null,s.toJSON())})}})})}}function In(e,t,...i){if(e&&typeof e[t]=="function")return e[t](...i)}class yf{constructor(t,i){this.input=t,this.file=i,this.directUpload=new vf(this.file,this.url,this),this.dispatch("initialize")}start(t){const i=document.createElement("input");i.type="hidden",i.name=this.input.name,this.input.insertAdjacentElement("beforebegin",i),this.dispatch("start"),this.directUpload.create((r,s)=>{r?(i.parentNode.removeChild(i),this.dispatchError(r)):i.value=s.signed_id,this.dispatch("end"),t(r)})}uploadRequestDidProgress(t){const i=t.loaded/t.total*100;i&&this.dispatch("progress",{progress:i})}get url(){return this.input.getAttribute("data-direct-upload-url")}dispatch(t,i={}){return i.file=this.file,i.id=this.directUpload.id,To(this.input,"direct-upload:".concat(t),{detail:i})}dispatchError(t){this.dispatch("error",{error:t}).defaultPrevented||alert(t)}directUploadWillCreateBlobWithXHR(t){this.dispatch("before-blob-request",{xhr:t})}directUploadWillStoreFileWithXHR(t){this.dispatch("before-storage-request",{xhr:t}),t.upload.addEventListener("progress",i=>this.uploadRequestDidProgress(i))}}const bf="input[type=file][data-direct-upload-url]:not([disabled])";class Tf{constructor(t){this.form=t,this.inputs=pf(t,bf).filter(i=>i.files.length)}start(t){const i=this.createDirectUploadControllers(),r=()=>{const s=i.shift();s?s.start(n=>{n?(t(n),this.dispatch("end")):r()}):(t(),this.dispatch("end"))};this.dispatch("start"),r()}createDirectUploadControllers(){const t=[];return this.inputs.forEach(i=>{wo(i.files).forEach(r=>{const s=new yf(i,r);t.push(s)})}),t}dispatch(t,i={}){return To(this.form,"direct-uploads:".concat(t),{detail:i})}}const wr="data-direct-uploads-processing",is=new WeakMap;let Cn=!1;function So(){Cn||(Cn=!0,document.addEventListener("click",wf,!0),document.addEventListener("submit",Sf,!0),document.addEventListener("ajax:before",Ef))}function wf(e){const t=e.target.closest("button, input");t&&t.type==="submit"&&t.form&&is.set(t.form,t)}function Sf(e){Eo(e)}function Ef(e){e.target.tagName=="FORM"&&Eo(e)}function Eo(e){const t=e.target;if(t.hasAttribute(wr)){e.preventDefault();return}const i=new Tf(t),{inputs:r}=i;r.length&&(e.preventDefault(),t.setAttribute(wr,""),r.forEach(Df),i.start(s=>{t.removeAttribute(wr),s?r.forEach(Af):xf(t)}))}function xf(e){let t=is.get(e)||bo(e,"input[type=submit], button[type=submit]");if(t){const{disabled:i}=t;t.disabled=!1,t.focus(),t.click(),t.disabled=i}else t=document.createElement("input"),t.type="submit",t.style.display="none",e.appendChild(t),t.click(),e.removeChild(t);is.delete(e)}function Df(e){e.disabled=!0}function Af(e){e.disabled=!1}function Of(){window.ActiveStorage&&So()}setTimeout(Of,1);function rs(e){return!e||typeof e!="object"||e instanceof Date||e instanceof RegExp?e:Array.isArray(e)?e.map(rs):Object.keys(e).reduce((t,i)=>{const r=i[0].toLowerCase()+i.slice(1).replace(/([A-Z]+)/g,(s,n)=>"_".concat(n.toLowerCase()));return t[r]=rs(e[i]),t},{})}class If extends HTMLElement{async connectedCallback(){const{subscribeTo:t}=await Ut(async()=>{const{subscribeTo:i}=await import("./cable-CXqdL70q.js");return{subscribeTo:i}},[]);Uo(this),this.subscription=await t(this.channel,{received:this.dispatchMessageEvent.bind(this),connected:this.subscriptionConnected.bind(this),disconnected:this.subscriptionDisconnected.bind(this)})}disconnectedCallback(){Go(this),this.subscription&&this.subscription.unsubscribe()}dispatchMessageEvent(t){const i=new MessageEvent("message",{data:t});return this.dispatchEvent(i)}subscriptionConnected(){this.setAttribute("connected","")}subscriptionDisconnected(){this.removeAttribute("connected")}get channel(){const t=this.getAttribute("channel"),i=this.getAttribute("signed-stream-name");return{channel:t,signed_stream_name:i,...rs({...this.dataset})}}}customElements.define("turbo-cable-stream-source",If);Qo();So();var Ln;(Ln=window.translations)!=null||(window.translations={});window.i18n=zt;window.i18n.add(window.translations);const Is=Jo.start(),Cf=Object.assign({"/controllers/activities_controller.js":sl,"/controllers/application_controller.js":zo,"/controllers/autofocus_controller.js":al,"/controllers/autohide_controller.js":ol,"/controllers/autosize_controller.js":hl,"/controllers/avatar_controller.js":cl,"/controllers/bulk_actions_controller.js":ul,"/controllers/bunny_controller.js":dl,"/controllers/carousel_controller.js":ml,"/controllers/choices_controller.js":_l,"/controllers/clipboard_controller.js":vl,"/controllers/cocoon_controller.js":yl,"/controllers/direct_upload_controller.js":bl,"/controllers/disabler_controller.js":Tl,"/controllers/dropdown_controller.js":wl,"/controllers/dropzone_controller.js":Sl,"/controllers/editor_controller.js":Al,"/controllers/element_removal_controller.js":Ol,"/controllers/engagements_controller.js":Il,"/controllers/expander_controller.js":No,"/controllers/flash_controller.js":Cl,"/controllers/flatpickr_controller.js":Ll,"/controllers/form_controller.js":Rl,"/controllers/grid_controller.js":fc,"/controllers/hidden_controller.js":gc,"/controllers/learnings_controller.js":_c,"/controllers/mask_controller.js":Ho,"/controllers/moveable_controller.js":yc,"/controllers/nested_form_controller.js":bc,"/controllers/nps_controller.js":Tc,"/controllers/orderable_controller.js":wc,"/controllers/panda_controller.js":Dc,"/controllers/pickr_controller.js":Ac,"/controllers/portal_controller.js":qo,"/controllers/quizzes_controller.js":Oc,"/controllers/range_controller.js":Ic,"/controllers/rating_controller.js":Cc,"/controllers/redactor_controller.js":Lc,"/controllers/roles_controller.js":Rc,"/controllers/scroll_clip_controller.js":kc,"/controllers/scroll_to_self_controller.js":Mc,"/controllers/search_controller.js":jc,"/controllers/sections_controller.js":Bc,"/controllers/select_controller.js":Vc,"/controllers/series_controller.js":Nc,"/controllers/smart_player_controller.js":Hc,"/controllers/sortable_controller.js":cu,"/controllers/swiper_controller.js":fu,"/controllers/tabs_controller.js":Yo,"/controllers/text_record_controller.js":pu,"/controllers/theater_controller.js":mu,"/controllers/theming_controller.js":_u,"/controllers/tippy_controller.js":Qd,"/controllers/toggle_controller.js":Kd,"/controllers/toggle_input_controller.js":tf,"/controllers/vimeo_controller.js":ef,"/controllers/window_controller.js":sf,"/controllers/youtube_controller.js":nf});Is.debug=!1;window.Stimulus=Is;of(Is,Cf);document.addEventListener("turbo:before-render",({detail:e})=>{e.render=(t,i)=>{const r=t.querySelector("#app"),s=i.querySelector("#app");r&&s?r.replaceWith(s):document.body.replaceWith(i)}});export{Rf as __vite_legacy_guard};
